function u2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function It(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f2={exports:{}},Jv={},d2={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=Symbol.for("react.element"),ij=Symbol.for("react.portal"),oj=Symbol.for("react.fragment"),aj=Symbol.for("react.strict_mode"),sj=Symbol.for("react.profiler"),lj=Symbol.for("react.provider"),cj=Symbol.for("react.context"),uj=Symbol.for("react.forward_ref"),fj=Symbol.for("react.suspense"),dj=Symbol.for("react.memo"),hj=Symbol.for("react.lazy"),VE=Symbol.iterator;function pj(t){return t===null||typeof t!="object"?null:(t=VE&&t[VE]||t["@@iterator"],typeof t=="function"?t:null)}var h2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p2=Object.assign,m2={};function su(t,e,n){this.props=t,this.context=e,this.refs=m2,this.updater=n||h2}su.prototype.isReactComponent={};su.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};su.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function v2(){}v2.prototype=su.prototype;function nw(t,e,n){this.props=t,this.context=e,this.refs=m2,this.updater=n||h2}var rw=nw.prototype=new v2;rw.constructor=nw;p2(rw,su.prototype);rw.isPureReactComponent=!0;var GE=Array.isArray,g2=Object.prototype.hasOwnProperty,iw={current:null},y2={key:!0,ref:!0,__self:!0,__source:!0};function x2(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)g2.call(e,r)&&!y2.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Qd,type:t,key:o,ref:a,props:i,_owner:iw.current}}function mj(t,e){return{$$typeof:Qd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ow(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qd}function vj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var WE=/\/+/g;function Ty(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vj(""+t.key):e.toString(36)}function Vp(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Qd:case ij:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Ty(a,0):r,GE(i)?(n="",t!=null&&(n=t.replace(WE,"$&/")+"/"),Vp(i,e,n,"",function(c){return c})):i!=null&&(ow(i)&&(i=mj(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(WE,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",GE(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Ty(o,s);a+=Vp(o,e,n,l,i)}else if(l=pj(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Ty(o,s++),a+=Vp(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ah(t,e,n){if(t==null)return t;var r=[],i=0;return Vp(t,r,"","",function(o){return e.call(n,o,i++)}),r}function gj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ur={current:null},Gp={transition:null},yj={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:Gp,ReactCurrentOwner:iw};function b2(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:Ah,forEach:function(t,e,n){Ah(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ah(t,function(){e++}),e},toArray:function(t){return Ah(t,function(e){return e})||[]},only:function(t){if(!ow(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_t.Component=su;_t.Fragment=oj;_t.Profiler=sj;_t.PureComponent=nw;_t.StrictMode=aj;_t.Suspense=fj;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yj;_t.act=b2;_t.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=p2({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=iw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)g2.call(e,l)&&!y2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Qd,type:t.type,key:i,ref:o,props:r,_owner:a}};_t.createContext=function(t){return t={$$typeof:cj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lj,_context:t},t.Consumer=t};_t.createElement=x2;_t.createFactory=function(t){var e=x2.bind(null,t);return e.type=t,e};_t.createRef=function(){return{current:null}};_t.forwardRef=function(t){return{$$typeof:uj,render:t}};_t.isValidElement=ow;_t.lazy=function(t){return{$$typeof:hj,_payload:{_status:-1,_result:t},_init:gj}};_t.memo=function(t,e){return{$$typeof:dj,type:t,compare:e===void 0?null:e}};_t.startTransition=function(t){var e=Gp.transition;Gp.transition={};try{t()}finally{Gp.transition=e}};_t.unstable_act=b2;_t.useCallback=function(t,e){return ur.current.useCallback(t,e)};_t.useContext=function(t){return ur.current.useContext(t)};_t.useDebugValue=function(){};_t.useDeferredValue=function(t){return ur.current.useDeferredValue(t)};_t.useEffect=function(t,e){return ur.current.useEffect(t,e)};_t.useId=function(){return ur.current.useId()};_t.useImperativeHandle=function(t,e,n){return ur.current.useImperativeHandle(t,e,n)};_t.useInsertionEffect=function(t,e){return ur.current.useInsertionEffect(t,e)};_t.useLayoutEffect=function(t,e){return ur.current.useLayoutEffect(t,e)};_t.useMemo=function(t,e){return ur.current.useMemo(t,e)};_t.useReducer=function(t,e,n){return ur.current.useReducer(t,e,n)};_t.useRef=function(t){return ur.current.useRef(t)};_t.useState=function(t){return ur.current.useState(t)};_t.useSyncExternalStore=function(t,e,n){return ur.current.useSyncExternalStore(t,e,n)};_t.useTransition=function(){return ur.current.useTransition()};_t.version="18.3.1";d2.exports=_t;var C=d2.exports;const H=It(C),_2=u2({__proto__:null,default:H},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xj=C,bj=Symbol.for("react.element"),_j=Symbol.for("react.fragment"),Sj=Object.prototype.hasOwnProperty,wj=xj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ej={key:!0,ref:!0,__self:!0,__source:!0};function S2(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Sj.call(e,r)&&!Ej.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:bj,type:t,key:o,ref:a,props:i,_owner:wj.current}}Jv.Fragment=_j;Jv.jsx=S2;Jv.jsxs=S2;f2.exports=Jv;var E=f2.exports,w2={exports:{}},Vr={},E2={exports:{}},M2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,z){var W=D.length;D.push(z);e:for(;0<W;){var J=W-1>>>1,ie=D[J];if(0<i(ie,z))D[J]=z,D[W]=ie,W=J;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],W=D.pop();if(W!==z){D[0]=W;e:for(var J=0,ie=D.length,xe=ie>>>1;J<xe;){var Z=2*(J+1)-1,ue=D[Z],be=Z+1,ne=D[be];if(0>i(ue,W))be<ie&&0>i(ne,ue)?(D[J]=ne,D[be]=W,J=be):(D[J]=ue,D[Z]=W,J=Z);else if(be<ie&&0>i(ne,W))D[J]=ne,D[be]=W,J=be;else break e}}return z}function i(D,z){var W=D.sortIndex-z.sortIndex;return W!==0?W:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],f=1,u=null,d=3,h=!1,m=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=D)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function b(D){if(v=!1,y(D),!m)if(n(l)!==null)m=!0,F(S);else{var z=n(c);z!==null&&B(b,z.startTime-D)}}function S(D,z){m=!1,v&&(v=!1,p(T),T=-1),h=!0;var W=d;try{for(y(z),u=n(l);u!==null&&(!(u.expirationTime>z)||D&&!P());){var J=u.callback;if(typeof J=="function"){u.callback=null,d=u.priorityLevel;var ie=J(u.expirationTime<=z);z=t.unstable_now(),typeof ie=="function"?u.callback=ie:u===n(l)&&r(l),y(z)}else r(l);u=n(l)}if(u!==null)var xe=!0;else{var Z=n(c);Z!==null&&B(b,Z.startTime-z),xe=!1}return xe}finally{u=null,d=W,h=!1}}var _=!1,w=null,T=-1,M=5,A=-1;function P(){return!(t.unstable_now()-A<M)}function O(){if(w!==null){var D=t.unstable_now();A=D;var z=!0;try{z=w(!0,D)}finally{z?L():(_=!1,w=null)}}else _=!1}var L;if(typeof x=="function")L=function(){x(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,j=I.port2;I.port1.onmessage=O,L=function(){j.postMessage(null)}}else L=function(){g(O,0)};function F(D){w=D,_||(_=!0,L())}function B(D,z){T=g(function(){D(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,F(S))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var W=d;d=z;try{return D()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=d;d=D;try{return z()}finally{d=W}},t.unstable_scheduleCallback=function(D,z,W){var J=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?J+W:J):W=J,D){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=W+ie,D={id:f++,callback:z,priorityLevel:D,startTime:W,expirationTime:ie,sortIndex:-1},W>J?(D.sortIndex=W,e(c,D),n(l)===null&&D===n(c)&&(v?(p(T),T=-1):v=!0,B(b,W-J))):(D.sortIndex=ie,e(l,D),m||h||(m=!0,F(S))),D},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(D){var z=d;return function(){var W=d;d=z;try{return D.apply(this,arguments)}finally{d=W}}}})(M2);E2.exports=M2;var Mj=E2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aj=C,zr=Mj;function Me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A2=new Set,$f={};function Qs(t,e){_c(t,e),_c(t+"Capture",e)}function _c(t,e){for($f[t]=e,t=0;t<e.length;t++)A2.add(e[t])}var Uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_x=Object.prototype.hasOwnProperty,Tj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XE={},qE={};function Pj(t){return _x.call(qE,t)?!0:_x.call(XE,t)?!1:Tj.test(t)?qE[t]=!0:(XE[t]=!0,!1)}function Cj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Oj(t,e,n,r){if(e===null||typeof e>"u"||Cj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fr(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xn[t]=new fr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xn[e]=new fr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xn[t]=new fr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xn[t]=new fr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xn[t]=new fr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xn[t]=new fr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xn[t]=new fr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xn[t]=new fr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xn[t]=new fr(t,5,!1,t.toLowerCase(),null,!1,!1)});var aw=/[\-:]([a-z])/g;function sw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(aw,sw);Xn[e]=new fr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(aw,sw);Xn[e]=new fr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(aw,sw);Xn[e]=new fr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xn[t]=new fr(t,1,!1,t.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xn[t]=new fr(t,1,!1,t.toLowerCase(),null,!0,!0)});function lw(t,e,n,r){var i=Xn.hasOwnProperty(e)?Xn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Oj(e,n,i,r)&&(n=null),r||i===null?Pj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yo=Aj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Th=Symbol.for("react.element"),Ul=Symbol.for("react.portal"),Fl=Symbol.for("react.fragment"),cw=Symbol.for("react.strict_mode"),Sx=Symbol.for("react.profiler"),T2=Symbol.for("react.provider"),P2=Symbol.for("react.context"),uw=Symbol.for("react.forward_ref"),wx=Symbol.for("react.suspense"),Ex=Symbol.for("react.suspense_list"),fw=Symbol.for("react.memo"),ha=Symbol.for("react.lazy"),C2=Symbol.for("react.offscreen"),YE=Symbol.iterator;function Iu(t){return t===null||typeof t!="object"?null:(t=YE&&t[YE]||t["@@iterator"],typeof t=="function"?t:null)}var dn=Object.assign,Py;function ff(t){if(Py===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Py=e&&e[1]||""}return`
`+Py+t}var Cy=!1;function Oy(t,e){if(!t||Cy)return"";Cy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Cy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ff(t):""}function Rj(t){switch(t.tag){case 5:return ff(t.type);case 16:return ff("Lazy");case 13:return ff("Suspense");case 19:return ff("SuspenseList");case 0:case 2:case 15:return t=Oy(t.type,!1),t;case 11:return t=Oy(t.type.render,!1),t;case 1:return t=Oy(t.type,!0),t;default:return""}}function Mx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fl:return"Fragment";case Ul:return"Portal";case Sx:return"Profiler";case cw:return"StrictMode";case wx:return"Suspense";case Ex:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P2:return(t.displayName||"Context")+".Consumer";case T2:return(t._context.displayName||"Context")+".Provider";case uw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fw:return e=t.displayName||null,e!==null?e:Mx(t.type)||"Memo";case ha:e=t._payload,t=t._init;try{return Mx(t(e))}catch{}}return null}function Nj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mx(e);case 8:return e===cw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ua(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Dj(t){var e=O2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ph(t){t._valueTracker||(t._valueTracker=Dj(t))}function R2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=O2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ax(t,e){var n=e.checked;return dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function KE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ua(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function N2(t,e){e=e.checked,e!=null&&lw(t,"checked",e,!1)}function Tx(t,e){N2(t,e);var n=Ua(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Px(t,e.type,n):e.hasOwnProperty("defaultValue")&&Px(t,e.type,Ua(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ZE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Px(t,e,n){(e!=="number"||hm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var df=Array.isArray;function ic(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ua(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function JE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Me(92));if(df(n)){if(1<n.length)throw Error(Me(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ua(n)}}function D2(t,e){var n=Ua(e.value),r=Ua(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function QE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function L2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ox(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?L2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ch,I2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ch=Ch||document.createElement("div"),Ch.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ch.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _f={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lj=["Webkit","ms","Moz","O"];Object.keys(_f).forEach(function(t){Lj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_f[e]=_f[t]})});function k2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_f.hasOwnProperty(t)&&_f[t]?(""+e).trim():e+"px"}function U2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=k2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ij=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rx(t,e){if(e){if(Ij[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function Nx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dx=null;function dw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lx=null,oc=null,ac=null;function eM(t){if(t=nh(t)){if(typeof Lx!="function")throw Error(Me(280));var e=t.stateNode;e&&(e=rg(e),Lx(t.stateNode,t.type,e))}}function F2(t){oc?ac?ac.push(t):ac=[t]:oc=t}function j2(){if(oc){var t=oc,e=ac;if(ac=oc=null,eM(t),e)for(t=0;t<e.length;t++)eM(e[t])}}function B2(t,e){return t(e)}function $2(){}var Ry=!1;function z2(t,e,n){if(Ry)return t(e,n);Ry=!0;try{return B2(t,e,n)}finally{Ry=!1,(oc!==null||ac!==null)&&($2(),j2())}}function Hf(t,e){var n=t.stateNode;if(n===null)return null;var r=rg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Me(231,e,typeof n));return n}var Ix=!1;if(Uo)try{var ku={};Object.defineProperty(ku,"passive",{get:function(){Ix=!0}}),window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{Ix=!1}function kj(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Sf=!1,pm=null,mm=!1,kx=null,Uj={onError:function(t){Sf=!0,pm=t}};function Fj(t,e,n,r,i,o,a,s,l){Sf=!1,pm=null,kj.apply(Uj,arguments)}function jj(t,e,n,r,i,o,a,s,l){if(Fj.apply(this,arguments),Sf){if(Sf){var c=pm;Sf=!1,pm=null}else throw Error(Me(198));mm||(mm=!0,kx=c)}}function el(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function H2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tM(t){if(el(t)!==t)throw Error(Me(188))}function Bj(t){var e=t.alternate;if(!e){if(e=el(t),e===null)throw Error(Me(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tM(i),t;if(o===r)return tM(i),e;o=o.sibling}throw Error(Me(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Me(189))}}if(n.alternate!==r)throw Error(Me(190))}if(n.tag!==3)throw Error(Me(188));return n.stateNode.current===n?t:e}function V2(t){return t=Bj(t),t!==null?G2(t):null}function G2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=G2(t);if(e!==null)return e;t=t.sibling}return null}var W2=zr.unstable_scheduleCallback,nM=zr.unstable_cancelCallback,$j=zr.unstable_shouldYield,zj=zr.unstable_requestPaint,gn=zr.unstable_now,Hj=zr.unstable_getCurrentPriorityLevel,hw=zr.unstable_ImmediatePriority,X2=zr.unstable_UserBlockingPriority,vm=zr.unstable_NormalPriority,Vj=zr.unstable_LowPriority,q2=zr.unstable_IdlePriority,Qv=null,Ji=null;function Gj(t){if(Ji&&typeof Ji.onCommitFiberRoot=="function")try{Ji.onCommitFiberRoot(Qv,t,void 0,(t.current.flags&128)===128)}catch{}}var Li=Math.clz32?Math.clz32:qj,Wj=Math.log,Xj=Math.LN2;function qj(t){return t>>>=0,t===0?32:31-(Wj(t)/Xj|0)|0}var Oh=64,Rh=4194304;function hf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=hf(s):(o&=a,o!==0&&(r=hf(o)))}else a=n&~i,a!==0?r=hf(a):o!==0&&(r=hf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Li(e),i=1<<n,r|=t[n],e&=~i;return r}function Yj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Li(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=Yj(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Ux(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Y2(){var t=Oh;return Oh<<=1,!(Oh&4194240)&&(Oh=64),t}function Ny(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Li(e),t[e]=n}function Zj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Li(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function pw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Li(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var kt=0;function K2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Z2,mw,J2,Q2,eN,Fx=!1,Nh=[],Ma=null,Aa=null,Ta=null,Vf=new Map,Gf=new Map,ga=[],Jj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rM(t,e){switch(t){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":Vf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gf.delete(e.pointerId)}}function Uu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=nh(e),e!==null&&mw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Qj(t,e,n,r,i){switch(e){case"focusin":return Ma=Uu(Ma,t,e,n,r,i),!0;case"dragenter":return Aa=Uu(Aa,t,e,n,r,i),!0;case"mouseover":return Ta=Uu(Ta,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Vf.set(o,Uu(Vf.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Gf.set(o,Uu(Gf.get(o)||null,t,e,n,r,i)),!0}return!1}function tN(t){var e=_s(t.target);if(e!==null){var n=el(e);if(n!==null){if(e=n.tag,e===13){if(e=H2(n),e!==null){t.blockedOn=e,eN(t.priority,function(){J2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dx=r,n.target.dispatchEvent(r),Dx=null}else return e=nh(n),e!==null&&mw(e),t.blockedOn=n,!1;e.shift()}return!0}function iM(t,e,n){Wp(t)&&n.delete(e)}function eB(){Fx=!1,Ma!==null&&Wp(Ma)&&(Ma=null),Aa!==null&&Wp(Aa)&&(Aa=null),Ta!==null&&Wp(Ta)&&(Ta=null),Vf.forEach(iM),Gf.forEach(iM)}function Fu(t,e){t.blockedOn===e&&(t.blockedOn=null,Fx||(Fx=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,eB)))}function Wf(t){function e(i){return Fu(i,t)}if(0<Nh.length){Fu(Nh[0],t);for(var n=1;n<Nh.length;n++){var r=Nh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ma!==null&&Fu(Ma,t),Aa!==null&&Fu(Aa,t),Ta!==null&&Fu(Ta,t),Vf.forEach(e),Gf.forEach(e),n=0;n<ga.length;n++)r=ga[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ga.length&&(n=ga[0],n.blockedOn===null);)tN(n),n.blockedOn===null&&ga.shift()}var sc=Yo.ReactCurrentBatchConfig,ym=!0;function tB(t,e,n,r){var i=kt,o=sc.transition;sc.transition=null;try{kt=1,vw(t,e,n,r)}finally{kt=i,sc.transition=o}}function nB(t,e,n,r){var i=kt,o=sc.transition;sc.transition=null;try{kt=4,vw(t,e,n,r)}finally{kt=i,sc.transition=o}}function vw(t,e,n,r){if(ym){var i=jx(t,e,n,r);if(i===null)zy(t,e,r,xm,n),rM(t,r);else if(Qj(i,t,e,n,r))r.stopPropagation();else if(rM(t,r),e&4&&-1<Jj.indexOf(t)){for(;i!==null;){var o=nh(i);if(o!==null&&Z2(o),o=jx(t,e,n,r),o===null&&zy(t,e,r,xm,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else zy(t,e,r,null,n)}}var xm=null;function jx(t,e,n,r){if(xm=null,t=dw(r),t=_s(t),t!==null)if(e=el(t),e===null)t=null;else if(n=e.tag,n===13){if(t=H2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xm=t,null}function nN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hj()){case hw:return 1;case X2:return 4;case vm:case Vj:return 16;case q2:return 536870912;default:return 16}default:return 16}}var _a=null,gw=null,Xp=null;function rN(){if(Xp)return Xp;var t,e=gw,n=e.length,r,i="value"in _a?_a.value:_a.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Xp=i.slice(t,1<r?1-r:void 0)}function qp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dh(){return!0}function oM(){return!1}function Gr(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Dh:oM,this.isPropagationStopped=oM,this}return dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dh)},persist:function(){},isPersistent:Dh}),e}var lu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yw=Gr(lu),th=dn({},lu,{view:0,detail:0}),rB=Gr(th),Dy,Ly,ju,eg=dn({},th,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ju&&(ju&&t.type==="mousemove"?(Dy=t.screenX-ju.screenX,Ly=t.screenY-ju.screenY):Ly=Dy=0,ju=t),Dy)},movementY:function(t){return"movementY"in t?t.movementY:Ly}}),aM=Gr(eg),iB=dn({},eg,{dataTransfer:0}),oB=Gr(iB),aB=dn({},th,{relatedTarget:0}),Iy=Gr(aB),sB=dn({},lu,{animationName:0,elapsedTime:0,pseudoElement:0}),lB=Gr(sB),cB=dn({},lu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uB=Gr(cB),fB=dn({},lu,{data:0}),sM=Gr(fB),dB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pB[t])?!!e[t]:!1}function xw(){return mB}var vB=dn({},th,{key:function(t){if(t.key){var e=dB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xw,charCode:function(t){return t.type==="keypress"?qp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gB=Gr(vB),yB=dn({},eg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lM=Gr(yB),xB=dn({},th,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xw}),bB=Gr(xB),_B=dn({},lu,{propertyName:0,elapsedTime:0,pseudoElement:0}),SB=Gr(_B),wB=dn({},eg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EB=Gr(wB),MB=[9,13,27,32],bw=Uo&&"CompositionEvent"in window,wf=null;Uo&&"documentMode"in document&&(wf=document.documentMode);var AB=Uo&&"TextEvent"in window&&!wf,iN=Uo&&(!bw||wf&&8<wf&&11>=wf),cM=" ",uM=!1;function oN(t,e){switch(t){case"keyup":return MB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jl=!1;function TB(t,e){switch(t){case"compositionend":return aN(e);case"keypress":return e.which!==32?null:(uM=!0,cM);case"textInput":return t=e.data,t===cM&&uM?null:t;default:return null}}function PB(t,e){if(jl)return t==="compositionend"||!bw&&oN(t,e)?(t=rN(),Xp=gw=_a=null,jl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iN&&e.locale!=="ko"?null:e.data;default:return null}}var CB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CB[t.type]:e==="textarea"}function sN(t,e,n,r){F2(r),e=bm(e,"onChange"),0<e.length&&(n=new yw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ef=null,Xf=null;function OB(t){yN(t,0)}function tg(t){var e=zl(t);if(R2(e))return t}function RB(t,e){if(t==="change")return e}var lN=!1;if(Uo){var ky;if(Uo){var Uy="oninput"in document;if(!Uy){var dM=document.createElement("div");dM.setAttribute("oninput","return;"),Uy=typeof dM.oninput=="function"}ky=Uy}else ky=!1;lN=ky&&(!document.documentMode||9<document.documentMode)}function hM(){Ef&&(Ef.detachEvent("onpropertychange",cN),Xf=Ef=null)}function cN(t){if(t.propertyName==="value"&&tg(Xf)){var e=[];sN(e,Xf,t,dw(t)),z2(OB,e)}}function NB(t,e,n){t==="focusin"?(hM(),Ef=e,Xf=n,Ef.attachEvent("onpropertychange",cN)):t==="focusout"&&hM()}function DB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tg(Xf)}function LB(t,e){if(t==="click")return tg(e)}function IB(t,e){if(t==="input"||t==="change")return tg(e)}function kB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ji=typeof Object.is=="function"?Object.is:kB;function qf(t,e){if(ji(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_x.call(e,i)||!ji(t[i],e[i]))return!1}return!0}function pM(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mM(t,e){var n=pM(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pM(n)}}function uN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fN(){for(var t=window,e=hm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hm(t.document)}return e}function _w(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UB(t){var e=fN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uN(n.ownerDocument.documentElement,n)){if(r!==null&&_w(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=mM(n,o);var a=mM(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FB=Uo&&"documentMode"in document&&11>=document.documentMode,Bl=null,Bx=null,Mf=null,$x=!1;function vM(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$x||Bl==null||Bl!==hm(r)||(r=Bl,"selectionStart"in r&&_w(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mf&&qf(Mf,r)||(Mf=r,r=bm(Bx,"onSelect"),0<r.length&&(e=new yw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bl)))}function Lh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $l={animationend:Lh("Animation","AnimationEnd"),animationiteration:Lh("Animation","AnimationIteration"),animationstart:Lh("Animation","AnimationStart"),transitionend:Lh("Transition","TransitionEnd")},Fy={},dN={};Uo&&(dN=document.createElement("div").style,"AnimationEvent"in window||(delete $l.animationend.animation,delete $l.animationiteration.animation,delete $l.animationstart.animation),"TransitionEvent"in window||delete $l.transitionend.transition);function ng(t){if(Fy[t])return Fy[t];if(!$l[t])return t;var e=$l[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dN)return Fy[t]=e[n];return t}var hN=ng("animationend"),pN=ng("animationiteration"),mN=ng("animationstart"),vN=ng("transitionend"),gN=new Map,gM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Va(t,e){gN.set(t,e),Qs(e,[t])}for(var jy=0;jy<gM.length;jy++){var By=gM[jy],jB=By.toLowerCase(),BB=By[0].toUpperCase()+By.slice(1);Va(jB,"on"+BB)}Va(hN,"onAnimationEnd");Va(pN,"onAnimationIteration");Va(mN,"onAnimationStart");Va("dblclick","onDoubleClick");Va("focusin","onFocus");Va("focusout","onBlur");Va(vN,"onTransitionEnd");_c("onMouseEnter",["mouseout","mouseover"]);_c("onMouseLeave",["mouseout","mouseover"]);_c("onPointerEnter",["pointerout","pointerover"]);_c("onPointerLeave",["pointerout","pointerover"]);Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$B=new Set("cancel close invalid load scroll toggle".split(" ").concat(pf));function yM(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jj(r,e,void 0,t),t.currentTarget=null}function yN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;yM(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;yM(i,s,c),o=l}}}if(mm)throw t=kx,mm=!1,kx=null,t}function Jt(t,e){var n=e[Wx];n===void 0&&(n=e[Wx]=new Set);var r=t+"__bubble";n.has(r)||(xN(e,t,2,!1),n.add(r))}function $y(t,e,n){var r=0;e&&(r|=4),xN(n,t,r,e)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function Yf(t){if(!t[Ih]){t[Ih]=!0,A2.forEach(function(n){n!=="selectionchange"&&($B.has(n)||$y(n,!1,t),$y(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ih]||(e[Ih]=!0,$y("selectionchange",!1,e))}}function xN(t,e,n,r){switch(nN(e)){case 1:var i=tB;break;case 4:i=nB;break;default:i=vw}n=i.bind(null,e,n,t),i=void 0,!Ix||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zy(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=_s(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}z2(function(){var c=o,f=dw(n),u=[];e:{var d=gN.get(t);if(d!==void 0){var h=yw,m=t;switch(t){case"keypress":if(qp(n)===0)break e;case"keydown":case"keyup":h=gB;break;case"focusin":m="focus",h=Iy;break;case"focusout":m="blur",h=Iy;break;case"beforeblur":case"afterblur":h=Iy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=aM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=oB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=bB;break;case hN:case pN:case mN:h=lB;break;case vN:h=SB;break;case"scroll":h=rB;break;case"wheel":h=EB;break;case"copy":case"cut":case"paste":h=uB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=lM}var v=(e&4)!==0,g=!v&&t==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var x=c,y;x!==null;){y=x;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,p!==null&&(b=Hf(x,p),b!=null&&v.push(Kf(x,b,y)))),g)break;x=x.return}0<v.length&&(d=new h(d,m,null,n,f),u.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==Dx&&(m=n.relatedTarget||n.fromElement)&&(_s(m)||m[Fo]))break e;if((h||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=c,m=m?_s(m):null,m!==null&&(g=el(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(v=aM,b="onMouseLeave",p="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=lM,b="onPointerLeave",p="onPointerEnter",x="pointer"),g=h==null?d:zl(h),y=m==null?d:zl(m),d=new v(b,x+"leave",h,n,f),d.target=g,d.relatedTarget=y,b=null,_s(f)===c&&(v=new v(p,x+"enter",m,n,f),v.target=y,v.relatedTarget=g,b=v),g=b,h&&m)t:{for(v=h,p=m,x=0,y=v;y;y=fl(y))x++;for(y=0,b=p;b;b=fl(b))y++;for(;0<x-y;)v=fl(v),x--;for(;0<y-x;)p=fl(p),y--;for(;x--;){if(v===p||p!==null&&v===p.alternate)break t;v=fl(v),p=fl(p)}v=null}else v=null;h!==null&&xM(u,d,h,v,!1),m!==null&&g!==null&&xM(u,g,m,v,!0)}}e:{if(d=c?zl(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=RB;else if(fM(d))if(lN)S=IB;else{S=DB;var _=NB}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=LB);if(S&&(S=S(t,c))){sN(u,S,n,f);break e}_&&_(t,d,c),t==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&Px(d,"number",d.value)}switch(_=c?zl(c):window,t){case"focusin":(fM(_)||_.contentEditable==="true")&&(Bl=_,Bx=c,Mf=null);break;case"focusout":Mf=Bx=Bl=null;break;case"mousedown":$x=!0;break;case"contextmenu":case"mouseup":case"dragend":$x=!1,vM(u,n,f);break;case"selectionchange":if(FB)break;case"keydown":case"keyup":vM(u,n,f)}var w;if(bw)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else jl?oN(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(iN&&n.locale!=="ko"&&(jl||T!=="onCompositionStart"?T==="onCompositionEnd"&&jl&&(w=rN()):(_a=f,gw="value"in _a?_a.value:_a.textContent,jl=!0)),_=bm(c,T),0<_.length&&(T=new sM(T,t,null,n,f),u.push({event:T,listeners:_}),w?T.data=w:(w=aN(n),w!==null&&(T.data=w)))),(w=AB?TB(t,n):PB(t,n))&&(c=bm(c,"onBeforeInput"),0<c.length&&(f=new sM("onBeforeInput","beforeinput",null,n,f),u.push({event:f,listeners:c}),f.data=w))}yN(u,e)})}function Kf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Hf(t,n),o!=null&&r.unshift(Kf(t,o,i)),o=Hf(t,e),o!=null&&r.push(Kf(t,o,i))),t=t.return}return r}function fl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xM(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=Hf(n,o),l!=null&&a.unshift(Kf(n,l,s))):i||(l=Hf(n,o),l!=null&&a.push(Kf(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var zB=/\r\n?/g,HB=/\u0000|\uFFFD/g;function bM(t){return(typeof t=="string"?t:""+t).replace(zB,`
`).replace(HB,"")}function kh(t,e,n){if(e=bM(e),bM(t)!==e&&n)throw Error(Me(425))}function _m(){}var zx=null,Hx=null;function Vx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gx=typeof setTimeout=="function"?setTimeout:void 0,VB=typeof clearTimeout=="function"?clearTimeout:void 0,_M=typeof Promise=="function"?Promise:void 0,GB=typeof queueMicrotask=="function"?queueMicrotask:typeof _M<"u"?function(t){return _M.resolve(null).then(t).catch(WB)}:Gx;function WB(t){setTimeout(function(){throw t})}function Hy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wf(e)}function Pa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function SM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cu=Math.random().toString(36).slice(2),qi="__reactFiber$"+cu,Zf="__reactProps$"+cu,Fo="__reactContainer$"+cu,Wx="__reactEvents$"+cu,XB="__reactListeners$"+cu,qB="__reactHandles$"+cu;function _s(t){var e=t[qi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fo]||n[qi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=SM(t);t!==null;){if(n=t[qi])return n;t=SM(t)}return e}t=n,n=t.parentNode}return null}function nh(t){return t=t[qi]||t[Fo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Me(33))}function rg(t){return t[Zf]||null}var Xx=[],Hl=-1;function Ga(t){return{current:t}}function tn(t){0>Hl||(t.current=Xx[Hl],Xx[Hl]=null,Hl--)}function qt(t,e){Hl++,Xx[Hl]=t.current,t.current=e}var Fa={},tr=Ga(Fa),yr=Ga(!1),Is=Fa;function Sc(t,e){var n=t.type.contextTypes;if(!n)return Fa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xr(t){return t=t.childContextTypes,t!=null}function Sm(){tn(yr),tn(tr)}function wM(t,e,n){if(tr.current!==Fa)throw Error(Me(168));qt(tr,e),qt(yr,n)}function bN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Me(108,Nj(t)||"Unknown",i));return dn({},n,r)}function wm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fa,Is=tr.current,qt(tr,t),qt(yr,yr.current),!0}function EM(t,e,n){var r=t.stateNode;if(!r)throw Error(Me(169));n?(t=bN(t,e,Is),r.__reactInternalMemoizedMergedChildContext=t,tn(yr),tn(tr),qt(tr,t)):tn(yr),qt(yr,n)}var wo=null,ig=!1,Vy=!1;function _N(t){wo===null?wo=[t]:wo.push(t)}function YB(t){ig=!0,_N(t)}function Wa(){if(!Vy&&wo!==null){Vy=!0;var t=0,e=kt;try{var n=wo;for(kt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wo=null,ig=!1}catch(i){throw wo!==null&&(wo=wo.slice(t+1)),W2(hw,Wa),i}finally{kt=e,Vy=!1}}return null}var Vl=[],Gl=0,Em=null,Mm=0,Qr=[],ei=0,ks=null,Eo=1,Mo="";function us(t,e){Vl[Gl++]=Mm,Vl[Gl++]=Em,Em=t,Mm=e}function SN(t,e,n){Qr[ei++]=Eo,Qr[ei++]=Mo,Qr[ei++]=ks,ks=t;var r=Eo;t=Mo;var i=32-Li(r)-1;r&=~(1<<i),n+=1;var o=32-Li(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Eo=1<<32-Li(e)+i|n<<i|r,Mo=o+t}else Eo=1<<o|n<<i|r,Mo=t}function Sw(t){t.return!==null&&(us(t,1),SN(t,1,0))}function ww(t){for(;t===Em;)Em=Vl[--Gl],Vl[Gl]=null,Mm=Vl[--Gl],Vl[Gl]=null;for(;t===ks;)ks=Qr[--ei],Qr[ei]=null,Mo=Qr[--ei],Qr[ei]=null,Eo=Qr[--ei],Qr[ei]=null}var Ur=null,kr=null,on=!1,Mi=null;function wN(t,e){var n=ii(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function MM(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ur=t,kr=Pa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ur=t,kr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ks!==null?{id:Eo,overflow:Mo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ii(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ur=t,kr=null,!0):!1;default:return!1}}function qx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yx(t){if(on){var e=kr;if(e){var n=e;if(!MM(t,e)){if(qx(t))throw Error(Me(418));e=Pa(n.nextSibling);var r=Ur;e&&MM(t,e)?wN(r,n):(t.flags=t.flags&-4097|2,on=!1,Ur=t)}}else{if(qx(t))throw Error(Me(418));t.flags=t.flags&-4097|2,on=!1,Ur=t}}}function AM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ur=t}function Uh(t){if(t!==Ur)return!1;if(!on)return AM(t),on=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vx(t.type,t.memoizedProps)),e&&(e=kr)){if(qx(t))throw EN(),Error(Me(418));for(;e;)wN(t,e),e=Pa(e.nextSibling)}if(AM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kr=Pa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kr=null}}else kr=Ur?Pa(t.stateNode.nextSibling):null;return!0}function EN(){for(var t=kr;t;)t=Pa(t.nextSibling)}function wc(){kr=Ur=null,on=!1}function Ew(t){Mi===null?Mi=[t]:Mi.push(t)}var KB=Yo.ReactCurrentBatchConfig;function Bu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Me(309));var r=n.stateNode}if(!r)throw Error(Me(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Me(284));if(!n._owner)throw Error(Me(290,t))}return t}function Fh(t,e){throw t=Object.prototype.toString.call(e),Error(Me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function TM(t){var e=t._init;return e(t._payload)}function MN(t){function e(p,x){if(t){var y=p.deletions;y===null?(p.deletions=[x],p.flags|=16):y.push(x)}}function n(p,x){if(!t)return null;for(;x!==null;)e(p,x),x=x.sibling;return null}function r(p,x){for(p=new Map;x!==null;)x.key!==null?p.set(x.key,x):p.set(x.index,x),x=x.sibling;return p}function i(p,x){return p=Na(p,x),p.index=0,p.sibling=null,p}function o(p,x,y){return p.index=y,t?(y=p.alternate,y!==null?(y=y.index,y<x?(p.flags|=2,x):y):(p.flags|=2,x)):(p.flags|=1048576,x)}function a(p){return t&&p.alternate===null&&(p.flags|=2),p}function s(p,x,y,b){return x===null||x.tag!==6?(x=Zy(y,p.mode,b),x.return=p,x):(x=i(x,y),x.return=p,x)}function l(p,x,y,b){var S=y.type;return S===Fl?f(p,x,y.props.children,b,y.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ha&&TM(S)===x.type)?(b=i(x,y.props),b.ref=Bu(p,x,y),b.return=p,b):(b=tm(y.type,y.key,y.props,null,p.mode,b),b.ref=Bu(p,x,y),b.return=p,b)}function c(p,x,y,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Jy(y,p.mode,b),x.return=p,x):(x=i(x,y.children||[]),x.return=p,x)}function f(p,x,y,b,S){return x===null||x.tag!==7?(x=Ns(y,p.mode,b,S),x.return=p,x):(x=i(x,y),x.return=p,x)}function u(p,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Zy(""+x,p.mode,y),x.return=p,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Th:return y=tm(x.type,x.key,x.props,null,p.mode,y),y.ref=Bu(p,null,x),y.return=p,y;case Ul:return x=Jy(x,p.mode,y),x.return=p,x;case ha:var b=x._init;return u(p,b(x._payload),y)}if(df(x)||Iu(x))return x=Ns(x,p.mode,y,null),x.return=p,x;Fh(p,x)}return null}function d(p,x,y,b){var S=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:s(p,x,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Th:return y.key===S?l(p,x,y,b):null;case Ul:return y.key===S?c(p,x,y,b):null;case ha:return S=y._init,d(p,x,S(y._payload),b)}if(df(y)||Iu(y))return S!==null?null:f(p,x,y,b,null);Fh(p,y)}return null}function h(p,x,y,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(y)||null,s(x,p,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Th:return p=p.get(b.key===null?y:b.key)||null,l(x,p,b,S);case Ul:return p=p.get(b.key===null?y:b.key)||null,c(x,p,b,S);case ha:var _=b._init;return h(p,x,y,_(b._payload),S)}if(df(b)||Iu(b))return p=p.get(y)||null,f(x,p,b,S,null);Fh(x,b)}return null}function m(p,x,y,b){for(var S=null,_=null,w=x,T=x=0,M=null;w!==null&&T<y.length;T++){w.index>T?(M=w,w=null):M=w.sibling;var A=d(p,w,y[T],b);if(A===null){w===null&&(w=M);break}t&&w&&A.alternate===null&&e(p,w),x=o(A,x,T),_===null?S=A:_.sibling=A,_=A,w=M}if(T===y.length)return n(p,w),on&&us(p,T),S;if(w===null){for(;T<y.length;T++)w=u(p,y[T],b),w!==null&&(x=o(w,x,T),_===null?S=w:_.sibling=w,_=w);return on&&us(p,T),S}for(w=r(p,w);T<y.length;T++)M=h(w,p,T,y[T],b),M!==null&&(t&&M.alternate!==null&&w.delete(M.key===null?T:M.key),x=o(M,x,T),_===null?S=M:_.sibling=M,_=M);return t&&w.forEach(function(P){return e(p,P)}),on&&us(p,T),S}function v(p,x,y,b){var S=Iu(y);if(typeof S!="function")throw Error(Me(150));if(y=S.call(y),y==null)throw Error(Me(151));for(var _=S=null,w=x,T=x=0,M=null,A=y.next();w!==null&&!A.done;T++,A=y.next()){w.index>T?(M=w,w=null):M=w.sibling;var P=d(p,w,A.value,b);if(P===null){w===null&&(w=M);break}t&&w&&P.alternate===null&&e(p,w),x=o(P,x,T),_===null?S=P:_.sibling=P,_=P,w=M}if(A.done)return n(p,w),on&&us(p,T),S;if(w===null){for(;!A.done;T++,A=y.next())A=u(p,A.value,b),A!==null&&(x=o(A,x,T),_===null?S=A:_.sibling=A,_=A);return on&&us(p,T),S}for(w=r(p,w);!A.done;T++,A=y.next())A=h(w,p,T,A.value,b),A!==null&&(t&&A.alternate!==null&&w.delete(A.key===null?T:A.key),x=o(A,x,T),_===null?S=A:_.sibling=A,_=A);return t&&w.forEach(function(O){return e(p,O)}),on&&us(p,T),S}function g(p,x,y,b){if(typeof y=="object"&&y!==null&&y.type===Fl&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Th:e:{for(var S=y.key,_=x;_!==null;){if(_.key===S){if(S=y.type,S===Fl){if(_.tag===7){n(p,_.sibling),x=i(_,y.props.children),x.return=p,p=x;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ha&&TM(S)===_.type){n(p,_.sibling),x=i(_,y.props),x.ref=Bu(p,_,y),x.return=p,p=x;break e}n(p,_);break}else e(p,_);_=_.sibling}y.type===Fl?(x=Ns(y.props.children,p.mode,b,y.key),x.return=p,p=x):(b=tm(y.type,y.key,y.props,null,p.mode,b),b.ref=Bu(p,x,y),b.return=p,p=b)}return a(p);case Ul:e:{for(_=y.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(p,x.sibling),x=i(x,y.children||[]),x.return=p,p=x;break e}else{n(p,x);break}else e(p,x);x=x.sibling}x=Jy(y,p.mode,b),x.return=p,p=x}return a(p);case ha:return _=y._init,g(p,x,_(y._payload),b)}if(df(y))return m(p,x,y,b);if(Iu(y))return v(p,x,y,b);Fh(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(p,x.sibling),x=i(x,y),x.return=p,p=x):(n(p,x),x=Zy(y,p.mode,b),x.return=p,p=x),a(p)):n(p,x)}return g}var Ec=MN(!0),AN=MN(!1),Am=Ga(null),Tm=null,Wl=null,Mw=null;function Aw(){Mw=Wl=Tm=null}function Tw(t){var e=Am.current;tn(Am),t._currentValue=e}function Kx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lc(t,e){Tm=t,Mw=Wl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vr=!0),t.firstContext=null)}function si(t){var e=t._currentValue;if(Mw!==t)if(t={context:t,memoizedValue:e,next:null},Wl===null){if(Tm===null)throw Error(Me(308));Wl=t,Tm.dependencies={lanes:0,firstContext:t}}else Wl=Wl.next=t;return e}var Ss=null;function Pw(t){Ss===null?Ss=[t]:Ss.push(t)}function TN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pw(e)):(n.next=i.next,i.next=n),e.interleaved=n,jo(t,r)}function jo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pa=!1;function Cw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ro(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jo(t,n)}return i=r.interleaved,i===null?(e.next=e,Pw(r)):(e.next=i.next,i.next=e),r.interleaved=e,jo(t,n)}function Yp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pw(t,n)}}function PM(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pm(t,e,n,r){var i=t.updateQueue;pa=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var f=t.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==a&&(s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=l))}if(o!==null){var u=i.baseState;a=0,f=c=l=null,s=o;do{var d=s.lane,h=s.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,v=s;switch(d=e,h=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){u=m.call(h,u,d);break e}u=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,d=typeof m=="function"?m.call(h,u,d):m,d==null)break e;u=dn({},u,d);break e;case 2:pa=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(c=f=h,l=u):f=f.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(f===null&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Fs|=a,t.lanes=a,t.memoizedState=u}}function CM(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Me(191,i));i.call(r)}}}var rh={},Qi=Ga(rh),Jf=Ga(rh),Qf=Ga(rh);function ws(t){if(t===rh)throw Error(Me(174));return t}function Ow(t,e){switch(qt(Qf,e),qt(Jf,t),qt(Qi,rh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ox(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ox(e,t)}tn(Qi),qt(Qi,e)}function Mc(){tn(Qi),tn(Jf),tn(Qf)}function CN(t){ws(Qf.current);var e=ws(Qi.current),n=Ox(e,t.type);e!==n&&(qt(Jf,t),qt(Qi,n))}function Rw(t){Jf.current===t&&(tn(Qi),tn(Jf))}var ln=Ga(0);function Cm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gy=[];function Nw(){for(var t=0;t<Gy.length;t++)Gy[t]._workInProgressVersionPrimary=null;Gy.length=0}var Kp=Yo.ReactCurrentDispatcher,Wy=Yo.ReactCurrentBatchConfig,Us=0,fn=null,Tn=null,kn=null,Om=!1,Af=!1,ed=0,ZB=0;function qn(){throw Error(Me(321))}function Dw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ji(t[n],e[n]))return!1;return!0}function Lw(t,e,n,r,i,o){if(Us=o,fn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kp.current=t===null||t.memoizedState===null?t$:n$,t=n(r,i),Af){o=0;do{if(Af=!1,ed=0,25<=o)throw Error(Me(301));o+=1,kn=Tn=null,e.updateQueue=null,Kp.current=r$,t=n(r,i)}while(Af)}if(Kp.current=Rm,e=Tn!==null&&Tn.next!==null,Us=0,kn=Tn=fn=null,Om=!1,e)throw Error(Me(300));return t}function Iw(){var t=ed!==0;return ed=0,t}function Wi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?fn.memoizedState=kn=t:kn=kn.next=t,kn}function li(){if(Tn===null){var t=fn.alternate;t=t!==null?t.memoizedState:null}else t=Tn.next;var e=kn===null?fn.memoizedState:kn.next;if(e!==null)kn=e,Tn=t;else{if(t===null)throw Error(Me(310));Tn=t,t={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},kn===null?fn.memoizedState=kn=t:kn=kn.next=t}return kn}function td(t,e){return typeof e=="function"?e(t):e}function Xy(t){var e=li(),n=e.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=t;var r=Tn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var f=c.lane;if((Us&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var u={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=u,a=r):l=l.next=u,fn.lanes|=f,Fs|=f}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,ji(r,e.memoizedState)||(vr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,fn.lanes|=o,Fs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qy(t){var e=li(),n=e.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);ji(o,e.memoizedState)||(vr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ON(){}function RN(t,e){var n=fn,r=li(),i=e(),o=!ji(r.memoizedState,i);if(o&&(r.memoizedState=i,vr=!0),r=r.queue,kw(LN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||kn!==null&&kn.memoizedState.tag&1){if(n.flags|=2048,nd(9,DN.bind(null,n,r,i,e),void 0,null),jn===null)throw Error(Me(349));Us&30||NN(n,e,i)}return i}function NN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DN(t,e,n,r){e.value=n,e.getSnapshot=r,IN(e)&&kN(t)}function LN(t,e,n){return n(function(){IN(e)&&kN(t)})}function IN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ji(t,n)}catch{return!0}}function kN(t){var e=jo(t,1);e!==null&&Ii(e,t,1,-1)}function OM(t){var e=Wi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:t},e.queue=t,t=t.dispatch=e$.bind(null,fn,t),[e.memoizedState,t]}function nd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function UN(){return li().memoizedState}function Zp(t,e,n,r){var i=Wi();fn.flags|=t,i.memoizedState=nd(1|e,n,void 0,r===void 0?null:r)}function og(t,e,n,r){var i=li();r=r===void 0?null:r;var o=void 0;if(Tn!==null){var a=Tn.memoizedState;if(o=a.destroy,r!==null&&Dw(r,a.deps)){i.memoizedState=nd(e,n,o,r);return}}fn.flags|=t,i.memoizedState=nd(1|e,n,o,r)}function RM(t,e){return Zp(8390656,8,t,e)}function kw(t,e){return og(2048,8,t,e)}function FN(t,e){return og(4,2,t,e)}function jN(t,e){return og(4,4,t,e)}function BN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $N(t,e,n){return n=n!=null?n.concat([t]):null,og(4,4,BN.bind(null,e,t),n)}function Uw(){}function zN(t,e){var n=li();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HN(t,e){var n=li();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function VN(t,e,n){return Us&21?(ji(n,e)||(n=Y2(),fn.lanes|=n,Fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vr=!0),t.memoizedState=n)}function JB(t,e){var n=kt;kt=n!==0&&4>n?n:4,t(!0);var r=Wy.transition;Wy.transition={};try{t(!1),e()}finally{kt=n,Wy.transition=r}}function GN(){return li().memoizedState}function QB(t,e,n){var r=Ra(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WN(t))XN(e,n);else if(n=TN(t,e,n,r),n!==null){var i=cr();Ii(n,t,r,i),qN(n,e,r)}}function e$(t,e,n){var r=Ra(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WN(t))XN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,ji(s,a)){var l=e.interleaved;l===null?(i.next=i,Pw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=TN(t,e,i,r),n!==null&&(i=cr(),Ii(n,t,r,i),qN(n,e,r))}}function WN(t){var e=t.alternate;return t===fn||e!==null&&e===fn}function XN(t,e){Af=Om=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pw(t,n)}}var Rm={readContext:si,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},t$={readContext:si,useCallback:function(t,e){return Wi().memoizedState=[t,e===void 0?null:e],t},useContext:si,useEffect:RM,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zp(4194308,4,BN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zp(4,2,t,e)},useMemo:function(t,e){var n=Wi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QB.bind(null,fn,t),[r.memoizedState,t]},useRef:function(t){var e=Wi();return t={current:t},e.memoizedState=t},useState:OM,useDebugValue:Uw,useDeferredValue:function(t){return Wi().memoizedState=t},useTransition:function(){var t=OM(!1),e=t[0];return t=JB.bind(null,t[1]),Wi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fn,i=Wi();if(on){if(n===void 0)throw Error(Me(407));n=n()}else{if(n=e(),jn===null)throw Error(Me(349));Us&30||NN(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,RM(LN.bind(null,r,o,t),[t]),r.flags|=2048,nd(9,DN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Wi(),e=jn.identifierPrefix;if(on){var n=Mo,r=Eo;n=(r&~(1<<32-Li(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ed++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},n$={readContext:si,useCallback:zN,useContext:si,useEffect:kw,useImperativeHandle:$N,useInsertionEffect:FN,useLayoutEffect:jN,useMemo:HN,useReducer:Xy,useRef:UN,useState:function(){return Xy(td)},useDebugValue:Uw,useDeferredValue:function(t){var e=li();return VN(e,Tn.memoizedState,t)},useTransition:function(){var t=Xy(td)[0],e=li().memoizedState;return[t,e]},useMutableSource:ON,useSyncExternalStore:RN,useId:GN,unstable_isNewReconciler:!1},r$={readContext:si,useCallback:zN,useContext:si,useEffect:kw,useImperativeHandle:$N,useInsertionEffect:FN,useLayoutEffect:jN,useMemo:HN,useReducer:qy,useRef:UN,useState:function(){return qy(td)},useDebugValue:Uw,useDeferredValue:function(t){var e=li();return Tn===null?e.memoizedState=t:VN(e,Tn.memoizedState,t)},useTransition:function(){var t=qy(td)[0],e=li().memoizedState;return[t,e]},useMutableSource:ON,useSyncExternalStore:RN,useId:GN,unstable_isNewReconciler:!1};function bi(t,e){if(t&&t.defaultProps){e=dn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ag={isMounted:function(t){return(t=t._reactInternals)?el(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cr(),i=Ra(t),o=Ro(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ca(t,o,i),e!==null&&(Ii(e,t,i,r),Yp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cr(),i=Ra(t),o=Ro(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ca(t,o,i),e!==null&&(Ii(e,t,i,r),Yp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cr(),r=Ra(t),i=Ro(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ca(t,i,r),e!==null&&(Ii(e,t,r,n),Yp(e,t,r))}};function NM(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!qf(n,r)||!qf(i,o):!0}function YN(t,e,n){var r=!1,i=Fa,o=e.contextType;return typeof o=="object"&&o!==null?o=si(o):(i=xr(e)?Is:tr.current,r=e.contextTypes,o=(r=r!=null)?Sc(t,i):Fa),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ag,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function DM(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ag.enqueueReplaceState(e,e.state,null)}function Jx(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Cw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=si(o):(o=xr(e)?Is:tr.current,i.context=Sc(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Zx(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ag.enqueueReplaceState(i,i.state,null),Pm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ac(t,e){try{var n="",r=e;do n+=Rj(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Yy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var i$=typeof WeakMap=="function"?WeakMap:Map;function KN(t,e,n){n=Ro(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dm||(Dm=!0,cb=r),Qx(t,e)},n}function ZN(t,e,n){n=Ro(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Qx(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Qx(t,e),typeof r!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function LM(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new i$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=y$.bind(null,t,e,n),e.then(t,t))}function IM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kM(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ro(-1,1),e.tag=2,Ca(n,e,1))),n.lanes|=1),t)}var o$=Yo.ReactCurrentOwner,vr=!1;function or(t,e,n,r){e.child=t===null?AN(e,null,n,r):Ec(e,t.child,n,r)}function UM(t,e,n,r,i){n=n.render;var o=e.ref;return lc(e,i),r=Lw(t,e,n,r,o,i),n=Iw(),t!==null&&!vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bo(t,e,i)):(on&&n&&Sw(e),e.flags|=1,or(t,e,r,i),e.child)}function FM(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Gw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,JN(t,e,o,r,i)):(t=tm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:qf,n(a,r)&&t.ref===e.ref)return Bo(t,e,i)}return e.flags|=1,t=Na(o,r),t.ref=e.ref,t.return=e,e.child=t}function JN(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(qf(o,r)&&t.ref===e.ref)if(vr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(vr=!0);else return e.lanes=t.lanes,Bo(t,e,i)}return eb(t,e,n,r,i)}function QN(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(ql,Or),Or|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qt(ql,Or),Or|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,qt(ql,Or),Or|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,qt(ql,Or),Or|=r;return or(t,e,i,n),e.child}function eD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function eb(t,e,n,r,i){var o=xr(n)?Is:tr.current;return o=Sc(e,o),lc(e,i),n=Lw(t,e,n,r,o,i),r=Iw(),t!==null&&!vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bo(t,e,i)):(on&&r&&Sw(e),e.flags|=1,or(t,e,n,i),e.child)}function jM(t,e,n,r,i){if(xr(n)){var o=!0;wm(e)}else o=!1;if(lc(e,i),e.stateNode===null)Jp(t,e),YN(e,n,r),Jx(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=si(c):(c=xr(n)?Is:tr.current,c=Sc(e,c));var f=n.getDerivedStateFromProps,u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&DM(e,a,r,c),pa=!1;var d=e.memoizedState;a.state=d,Pm(e,r,a,i),l=e.memoizedState,s!==r||d!==l||yr.current||pa?(typeof f=="function"&&(Zx(e,n,f,r),l=e.memoizedState),(s=pa||NM(e,n,s,r,d,l,c))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,PN(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:bi(e.type,s),a.props=c,u=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=si(l):(l=xr(n)?Is:tr.current,l=Sc(e,l));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==u||d!==l)&&DM(e,a,r,l),pa=!1,d=e.memoizedState,a.state=d,Pm(e,r,a,i);var m=e.memoizedState;s!==u||d!==m||yr.current||pa?(typeof h=="function"&&(Zx(e,n,h,r),m=e.memoizedState),(c=pa||NM(e,n,c,r,d,m,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return tb(t,e,n,r,o,i)}function tb(t,e,n,r,i,o){eD(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&EM(e,n,!1),Bo(t,e,o);r=e.stateNode,o$.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ec(e,t.child,null,o),e.child=Ec(e,null,s,o)):or(t,e,s,o),e.memoizedState=r.state,i&&EM(e,n,!0),e.child}function tD(t){var e=t.stateNode;e.pendingContext?wM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wM(t,e.context,!1),Ow(t,e.containerInfo)}function BM(t,e,n,r,i){return wc(),Ew(i),e.flags|=256,or(t,e,n,r),e.child}var nb={dehydrated:null,treeContext:null,retryLane:0};function rb(t){return{baseLanes:t,cachePool:null,transitions:null}}function nD(t,e,n){var r=e.pendingProps,i=ln.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qt(ln,i&1),t===null)return Yx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=cg(a,r,0,null),t=Ns(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=rb(n),e.memoizedState=nb,t):Fw(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return a$(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Na(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Na(s,o):(o=Ns(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?rb(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=nb,r}return o=t.child,t=o.sibling,r=Na(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fw(t,e){return e=cg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jh(t,e,n,r){return r!==null&&Ew(r),Ec(e,t.child,null,n),t=Fw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function a$(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Yy(Error(Me(422))),jh(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=cg({mode:"visible",children:r.children},i,0,null),o=Ns(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ec(e,t.child,null,a),e.child.memoizedState=rb(a),e.memoizedState=nb,o);if(!(e.mode&1))return jh(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Me(419)),r=Yy(o,r,void 0),jh(t,e,a,r)}if(s=(a&t.childLanes)!==0,vr||s){if(r=jn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,jo(t,i),Ii(r,t,i,-1))}return Vw(),r=Yy(Error(Me(421))),jh(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=x$.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,kr=Pa(i.nextSibling),Ur=e,on=!0,Mi=null,t!==null&&(Qr[ei++]=Eo,Qr[ei++]=Mo,Qr[ei++]=ks,Eo=t.id,Mo=t.overflow,ks=e),e=Fw(e,r.children),e.flags|=4096,e)}function $M(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Kx(t.return,e,n)}function Ky(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function rD(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(or(t,e,r.children,n),r=ln.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$M(t,n,e);else if(t.tag===19)$M(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qt(ln,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Cm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ky(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Cm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ky(e,!0,n,null,o);break;case"together":Ky(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Me(153));if(e.child!==null){for(t=e.child,n=Na(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Na(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function s$(t,e,n){switch(e.tag){case 3:tD(e),wc();break;case 5:CN(e);break;case 1:xr(e.type)&&wm(e);break;case 4:Ow(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qt(Am,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qt(ln,ln.current&1),e.flags|=128,null):n&e.child.childLanes?nD(t,e,n):(qt(ln,ln.current&1),t=Bo(t,e,n),t!==null?t.sibling:null);qt(ln,ln.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qt(ln,ln.current),r)break;return null;case 22:case 23:return e.lanes=0,QN(t,e,n)}return Bo(t,e,n)}var iD,ib,oD,aD;iD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ib=function(){};oD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ws(Qi.current);var o=null;switch(n){case"input":i=Ax(t,i),r=Ax(t,r),o=[];break;case"select":i=dn({},i,{value:void 0}),r=dn({},r,{value:void 0}),o=[];break;case"textarea":i=Cx(t,i),r=Cx(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_m)}Rx(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($f.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($f.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Jt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};aD=function(t,e,n,r){n!==r&&(e.flags|=4)};function $u(t,e){if(!on)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function l$(t,e,n){var r=e.pendingProps;switch(ww(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(e),null;case 1:return xr(e.type)&&Sm(),Yn(e),null;case 3:return r=e.stateNode,Mc(),tn(yr),tn(tr),Nw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Uh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mi!==null&&(db(Mi),Mi=null))),ib(t,e),Yn(e),null;case 5:Rw(e);var i=ws(Qf.current);if(n=e.type,t!==null&&e.stateNode!=null)oD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Me(166));return Yn(e),null}if(t=ws(Qi.current),Uh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[qi]=e,r[Zf]=o,t=(e.mode&1)!==0,n){case"dialog":Jt("cancel",r),Jt("close",r);break;case"iframe":case"object":case"embed":Jt("load",r);break;case"video":case"audio":for(i=0;i<pf.length;i++)Jt(pf[i],r);break;case"source":Jt("error",r);break;case"img":case"image":case"link":Jt("error",r),Jt("load",r);break;case"details":Jt("toggle",r);break;case"input":KE(r,o),Jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Jt("invalid",r);break;case"textarea":JE(r,o),Jt("invalid",r)}Rx(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&kh(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&kh(r.textContent,s,t),i=["children",""+s]):$f.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Jt("scroll",r)}switch(n){case"input":Ph(r),ZE(r,o,!0);break;case"textarea":Ph(r),QE(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=_m)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=L2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[qi]=e,t[Zf]=r,iD(t,e,!1,!1),e.stateNode=t;e:{switch(a=Nx(n,r),n){case"dialog":Jt("cancel",t),Jt("close",t),i=r;break;case"iframe":case"object":case"embed":Jt("load",t),i=r;break;case"video":case"audio":for(i=0;i<pf.length;i++)Jt(pf[i],t);i=r;break;case"source":Jt("error",t),i=r;break;case"img":case"image":case"link":Jt("error",t),Jt("load",t),i=r;break;case"details":Jt("toggle",t),i=r;break;case"input":KE(t,r),i=Ax(t,r),Jt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dn({},r,{value:void 0}),Jt("invalid",t);break;case"textarea":JE(t,r),i=Cx(t,r),Jt("invalid",t);break;default:i=r}Rx(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?U2(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&I2(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zf(t,l):typeof l=="number"&&zf(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($f.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Jt("scroll",t):l!=null&&lw(t,o,l,a))}switch(n){case"input":Ph(t),ZE(t,r,!1);break;case"textarea":Ph(t),QE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ua(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ic(t,!!r.multiple,o,!1):r.defaultValue!=null&&ic(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_m)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yn(e),null;case 6:if(t&&e.stateNode!=null)aD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Me(166));if(n=ws(Qf.current),ws(Qi.current),Uh(e)){if(r=e.stateNode,n=e.memoizedProps,r[qi]=e,(o=r.nodeValue!==n)&&(t=Ur,t!==null))switch(t.tag){case 3:kh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qi]=e,e.stateNode=r}return Yn(e),null;case 13:if(tn(ln),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(on&&kr!==null&&e.mode&1&&!(e.flags&128))EN(),wc(),e.flags|=98560,o=!1;else if(o=Uh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Me(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Me(317));o[qi]=e}else wc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yn(e),o=!1}else Mi!==null&&(db(Mi),Mi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ln.current&1?Cn===0&&(Cn=3):Vw())),e.updateQueue!==null&&(e.flags|=4),Yn(e),null);case 4:return Mc(),ib(t,e),t===null&&Yf(e.stateNode.containerInfo),Yn(e),null;case 10:return Tw(e.type._context),Yn(e),null;case 17:return xr(e.type)&&Sm(),Yn(e),null;case 19:if(tn(ln),o=e.memoizedState,o===null)return Yn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)$u(o,!1);else{if(Cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Cm(t),a!==null){for(e.flags|=128,$u(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qt(ln,ln.current&1|2),e.child}t=t.sibling}o.tail!==null&&gn()>Tc&&(e.flags|=128,r=!0,$u(o,!1),e.lanes=4194304)}else{if(!r)if(t=Cm(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$u(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!on)return Yn(e),null}else 2*gn()-o.renderingStartTime>Tc&&n!==1073741824&&(e.flags|=128,r=!0,$u(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=gn(),e.sibling=null,n=ln.current,qt(ln,r?n&1|2:n&1),e):(Yn(e),null);case 22:case 23:return Hw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Or&1073741824&&(Yn(e),e.subtreeFlags&6&&(e.flags|=8192)):Yn(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function c$(t,e){switch(ww(e),e.tag){case 1:return xr(e.type)&&Sm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mc(),tn(yr),tn(tr),Nw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rw(e),null;case 13:if(tn(ln),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));wc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tn(ln),null;case 4:return Mc(),null;case 10:return Tw(e.type._context),null;case 22:case 23:return Hw(),null;case 24:return null;default:return null}}var Bh=!1,Qn=!1,u$=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Xl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){hn(t,e,r)}else n.current=null}function ob(t,e,n){try{n()}catch(r){hn(t,e,r)}}var zM=!1;function f$(t,e){if(zx=ym,t=fN(),_w(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,f=0,u=t,d=null;t:for(;;){for(var h;u!==n||i!==0&&u.nodeType!==3||(s=a+i),u!==o||r!==0&&u.nodeType!==3||(l=a+r),u.nodeType===3&&(a+=u.nodeValue.length),(h=u.firstChild)!==null;)d=u,u=h;for(;;){if(u===t)break t;if(d===n&&++c===i&&(s=a),d===o&&++f===r&&(l=a),(h=u.nextSibling)!==null)break;u=d,d=u.parentNode}u=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hx={focusedElem:t,selectionRange:n},ym=!1,Ge=e;Ge!==null;)if(e=Ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ge=t;else for(;Ge!==null;){e=Ge;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,g=m.memoizedState,p=e.stateNode,x=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:bi(e.type,v),g);p.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(b){hn(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}return m=zM,zM=!1,m}function Tf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&ob(e,n,o)}i=i.next}while(i!==r)}}function sg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ab(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sD(t){var e=t.alternate;e!==null&&(t.alternate=null,sD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qi],delete e[Zf],delete e[Wx],delete e[XB],delete e[qB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lD(t){return t.tag===5||t.tag===3||t.tag===4}function HM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_m));else if(r!==4&&(t=t.child,t!==null))for(sb(t,e,n),t=t.sibling;t!==null;)sb(t,e,n),t=t.sibling}function lb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lb(t,e,n),t=t.sibling;t!==null;)lb(t,e,n),t=t.sibling}var Vn=null,_i=!1;function na(t,e,n){for(n=n.child;n!==null;)cD(t,e,n),n=n.sibling}function cD(t,e,n){if(Ji&&typeof Ji.onCommitFiberUnmount=="function")try{Ji.onCommitFiberUnmount(Qv,n)}catch{}switch(n.tag){case 5:Qn||Xl(n,e);case 6:var r=Vn,i=_i;Vn=null,na(t,e,n),Vn=r,_i=i,Vn!==null&&(_i?(t=Vn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vn.removeChild(n.stateNode));break;case 18:Vn!==null&&(_i?(t=Vn,n=n.stateNode,t.nodeType===8?Hy(t.parentNode,n):t.nodeType===1&&Hy(t,n),Wf(t)):Hy(Vn,n.stateNode));break;case 4:r=Vn,i=_i,Vn=n.stateNode.containerInfo,_i=!0,na(t,e,n),Vn=r,_i=i;break;case 0:case 11:case 14:case 15:if(!Qn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&ob(n,e,a),i=i.next}while(i!==r)}na(t,e,n);break;case 1:if(!Qn&&(Xl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){hn(n,e,s)}na(t,e,n);break;case 21:na(t,e,n);break;case 22:n.mode&1?(Qn=(r=Qn)||n.memoizedState!==null,na(t,e,n),Qn=r):na(t,e,n);break;default:na(t,e,n)}}function VM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new u$),e.forEach(function(r){var i=b$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Vn=s.stateNode,_i=!1;break e;case 3:Vn=s.stateNode.containerInfo,_i=!0;break e;case 4:Vn=s.stateNode.containerInfo,_i=!0;break e}s=s.return}if(Vn===null)throw Error(Me(160));cD(o,a,i),Vn=null,_i=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){hn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uD(e,t),e=e.sibling}function uD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pi(e,t),Vi(t),r&4){try{Tf(3,t,t.return),sg(3,t)}catch(v){hn(t,t.return,v)}try{Tf(5,t,t.return)}catch(v){hn(t,t.return,v)}}break;case 1:pi(e,t),Vi(t),r&512&&n!==null&&Xl(n,n.return);break;case 5:if(pi(e,t),Vi(t),r&512&&n!==null&&Xl(n,n.return),t.flags&32){var i=t.stateNode;try{zf(i,"")}catch(v){hn(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&N2(i,o),Nx(s,a);var c=Nx(s,o);for(a=0;a<l.length;a+=2){var f=l[a],u=l[a+1];f==="style"?U2(i,u):f==="dangerouslySetInnerHTML"?I2(i,u):f==="children"?zf(i,u):lw(i,f,u,c)}switch(s){case"input":Tx(i,o);break;case"textarea":D2(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?ic(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?ic(i,!!o.multiple,o.defaultValue,!0):ic(i,!!o.multiple,o.multiple?[]:"",!1))}i[Zf]=o}catch(v){hn(t,t.return,v)}}break;case 6:if(pi(e,t),Vi(t),r&4){if(t.stateNode===null)throw Error(Me(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){hn(t,t.return,v)}}break;case 3:if(pi(e,t),Vi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wf(e.containerInfo)}catch(v){hn(t,t.return,v)}break;case 4:pi(e,t),Vi(t);break;case 13:pi(e,t),Vi(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||($w=gn())),r&4&&VM(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Qn=(c=Qn)||f,pi(e,t),Qn=c):pi(e,t),Vi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(Ge=t,f=t.child;f!==null;){for(u=Ge=f;Ge!==null;){switch(d=Ge,h=d.child,d.tag){case 0:case 11:case 14:case 15:Tf(4,d,d.return);break;case 1:Xl(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){hn(r,n,v)}}break;case 5:Xl(d,d.return);break;case 22:if(d.memoizedState!==null){WM(u);continue}}h!==null?(h.return=d,Ge=h):WM(u)}f=f.sibling}e:for(f=null,u=t;;){if(u.tag===5){if(f===null){f=u;try{i=u.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=u.stateNode,l=u.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=k2("display",a))}catch(v){hn(t,t.return,v)}}}else if(u.tag===6){if(f===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(v){hn(t,t.return,v)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:pi(e,t),Vi(t),r&4&&VM(t);break;case 21:break;default:pi(e,t),Vi(t)}}function Vi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lD(n)){var r=n;break e}n=n.return}throw Error(Me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zf(i,""),r.flags&=-33);var o=HM(t);lb(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=HM(t);sb(t,s,a);break;default:throw Error(Me(161))}}catch(l){hn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function d$(t,e,n){Ge=t,fD(t)}function fD(t,e,n){for(var r=(t.mode&1)!==0;Ge!==null;){var i=Ge,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Bh;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Qn;s=Bh;var c=Qn;if(Bh=a,(Qn=l)&&!c)for(Ge=i;Ge!==null;)a=Ge,l=a.child,a.tag===22&&a.memoizedState!==null?XM(i):l!==null?(l.return=a,Ge=l):XM(i);for(;o!==null;)Ge=o,fD(o),o=o.sibling;Ge=i,Bh=s,Qn=c}GM(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ge=o):GM(t)}}function GM(t){for(;Ge!==null;){var e=Ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qn||sg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:bi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&CM(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}CM(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var u=f.dehydrated;u!==null&&Wf(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}Qn||e.flags&512&&ab(e)}catch(d){hn(e,e.return,d)}}if(e===t){Ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ge=n;break}Ge=e.return}}function WM(t){for(;Ge!==null;){var e=Ge;if(e===t){Ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ge=n;break}Ge=e.return}}function XM(t){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sg(4,e)}catch(l){hn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){hn(e,i,l)}}var o=e.return;try{ab(e)}catch(l){hn(e,o,l)}break;case 5:var a=e.return;try{ab(e)}catch(l){hn(e,a,l)}}}catch(l){hn(e,e.return,l)}if(e===t){Ge=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Ge=s;break}Ge=e.return}}var h$=Math.ceil,Nm=Yo.ReactCurrentDispatcher,jw=Yo.ReactCurrentOwner,ai=Yo.ReactCurrentBatchConfig,Pt=0,jn=null,Sn=null,Gn=0,Or=0,ql=Ga(0),Cn=0,rd=null,Fs=0,lg=0,Bw=0,Pf=null,mr=null,$w=0,Tc=1/0,_o=null,Dm=!1,cb=null,Oa=null,$h=!1,Sa=null,Lm=0,Cf=0,ub=null,Qp=-1,em=0;function cr(){return Pt&6?gn():Qp!==-1?Qp:Qp=gn()}function Ra(t){return t.mode&1?Pt&2&&Gn!==0?Gn&-Gn:KB.transition!==null?(em===0&&(em=Y2()),em):(t=kt,t!==0||(t=window.event,t=t===void 0?16:nN(t.type)),t):1}function Ii(t,e,n,r){if(50<Cf)throw Cf=0,ub=null,Error(Me(185));eh(t,n,r),(!(Pt&2)||t!==jn)&&(t===jn&&(!(Pt&2)&&(lg|=n),Cn===4&&ya(t,Gn)),br(t,r),n===1&&Pt===0&&!(e.mode&1)&&(Tc=gn()+500,ig&&Wa()))}function br(t,e){var n=t.callbackNode;Kj(t,e);var r=gm(t,t===jn?Gn:0);if(r===0)n!==null&&nM(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nM(n),e===1)t.tag===0?YB(qM.bind(null,t)):_N(qM.bind(null,t)),GB(function(){!(Pt&6)&&Wa()}),n=null;else{switch(K2(r)){case 1:n=hw;break;case 4:n=X2;break;case 16:n=vm;break;case 536870912:n=q2;break;default:n=vm}n=xD(n,dD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dD(t,e){if(Qp=-1,em=0,Pt&6)throw Error(Me(327));var n=t.callbackNode;if(cc()&&t.callbackNode!==n)return null;var r=gm(t,t===jn?Gn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Im(t,r);else{e=r;var i=Pt;Pt|=2;var o=pD();(jn!==t||Gn!==e)&&(_o=null,Tc=gn()+500,Rs(t,e));do try{v$();break}catch(s){hD(t,s)}while(!0);Aw(),Nm.current=o,Pt=i,Sn!==null?e=0:(jn=null,Gn=0,e=Cn)}if(e!==0){if(e===2&&(i=Ux(t),i!==0&&(r=i,e=fb(t,i))),e===1)throw n=rd,Rs(t,0),ya(t,r),br(t,gn()),n;if(e===6)ya(t,r);else{if(i=t.current.alternate,!(r&30)&&!p$(i)&&(e=Im(t,r),e===2&&(o=Ux(t),o!==0&&(r=o,e=fb(t,o))),e===1))throw n=rd,Rs(t,0),ya(t,r),br(t,gn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Me(345));case 2:fs(t,mr,_o);break;case 3:if(ya(t,r),(r&130023424)===r&&(e=$w+500-gn(),10<e)){if(gm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gx(fs.bind(null,t,mr,_o),e);break}fs(t,mr,_o);break;case 4:if(ya(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Li(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=gn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*h$(r/1960))-r,10<r){t.timeoutHandle=Gx(fs.bind(null,t,mr,_o),r);break}fs(t,mr,_o);break;case 5:fs(t,mr,_o);break;default:throw Error(Me(329))}}}return br(t,gn()),t.callbackNode===n?dD.bind(null,t):null}function fb(t,e){var n=Pf;return t.current.memoizedState.isDehydrated&&(Rs(t,e).flags|=256),t=Im(t,e),t!==2&&(e=mr,mr=n,e!==null&&db(e)),t}function db(t){mr===null?mr=t:mr.push.apply(mr,t)}function p$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ji(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ya(t,e){for(e&=~Bw,e&=~lg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Li(e),r=1<<n;t[n]=-1,e&=~r}}function qM(t){if(Pt&6)throw Error(Me(327));cc();var e=gm(t,0);if(!(e&1))return br(t,gn()),null;var n=Im(t,e);if(t.tag!==0&&n===2){var r=Ux(t);r!==0&&(e=r,n=fb(t,r))}if(n===1)throw n=rd,Rs(t,0),ya(t,e),br(t,gn()),n;if(n===6)throw Error(Me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fs(t,mr,_o),br(t,gn()),null}function zw(t,e){var n=Pt;Pt|=1;try{return t(e)}finally{Pt=n,Pt===0&&(Tc=gn()+500,ig&&Wa())}}function js(t){Sa!==null&&Sa.tag===0&&!(Pt&6)&&cc();var e=Pt;Pt|=1;var n=ai.transition,r=kt;try{if(ai.transition=null,kt=1,t)return t()}finally{kt=r,ai.transition=n,Pt=e,!(Pt&6)&&Wa()}}function Hw(){Or=ql.current,tn(ql)}function Rs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,VB(n)),Sn!==null)for(n=Sn.return;n!==null;){var r=n;switch(ww(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sm();break;case 3:Mc(),tn(yr),tn(tr),Nw();break;case 5:Rw(r);break;case 4:Mc();break;case 13:tn(ln);break;case 19:tn(ln);break;case 10:Tw(r.type._context);break;case 22:case 23:Hw()}n=n.return}if(jn=t,Sn=t=Na(t.current,null),Gn=Or=e,Cn=0,rd=null,Bw=lg=Fs=0,mr=Pf=null,Ss!==null){for(e=0;e<Ss.length;e++)if(n=Ss[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Ss=null}return t}function hD(t,e){do{var n=Sn;try{if(Aw(),Kp.current=Rm,Om){for(var r=fn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Om=!1}if(Us=0,kn=Tn=fn=null,Af=!1,ed=0,jw.current=null,n===null||n.return===null){Cn=1,rd=e,Sn=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Gn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=s,u=f.tag;if(!(f.mode&1)&&(u===0||u===11||u===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=IM(a);if(h!==null){h.flags&=-257,kM(h,a,s,o,e),h.mode&1&&LM(o,c,e),e=h,l=c;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){LM(o,c,e),Vw();break e}l=Error(Me(426))}}else if(on&&s.mode&1){var g=IM(a);if(g!==null){!(g.flags&65536)&&(g.flags|=256),kM(g,a,s,o,e),Ew(Ac(l,s));break e}}o=l=Ac(l,s),Cn!==4&&(Cn=2),Pf===null?Pf=[o]:Pf.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=KN(o,l,e);PM(o,p);break e;case 1:s=l;var x=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Oa===null||!Oa.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var b=ZN(o,s,e);PM(o,b);break e}}o=o.return}while(o!==null)}vD(n)}catch(S){e=S,Sn===n&&n!==null&&(Sn=n=n.return);continue}break}while(!0)}function pD(){var t=Nm.current;return Nm.current=Rm,t===null?Rm:t}function Vw(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),jn===null||!(Fs&268435455)&&!(lg&268435455)||ya(jn,Gn)}function Im(t,e){var n=Pt;Pt|=2;var r=pD();(jn!==t||Gn!==e)&&(_o=null,Rs(t,e));do try{m$();break}catch(i){hD(t,i)}while(!0);if(Aw(),Pt=n,Nm.current=r,Sn!==null)throw Error(Me(261));return jn=null,Gn=0,Cn}function m$(){for(;Sn!==null;)mD(Sn)}function v$(){for(;Sn!==null&&!$j();)mD(Sn)}function mD(t){var e=yD(t.alternate,t,Or);t.memoizedProps=t.pendingProps,e===null?vD(t):Sn=e,jw.current=null}function vD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=c$(n,e),n!==null){n.flags&=32767,Sn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Cn=6,Sn=null;return}}else if(n=l$(n,e,Or),n!==null){Sn=n;return}if(e=e.sibling,e!==null){Sn=e;return}Sn=e=t}while(e!==null);Cn===0&&(Cn=5)}function fs(t,e,n){var r=kt,i=ai.transition;try{ai.transition=null,kt=1,g$(t,e,n,r)}finally{ai.transition=i,kt=r}return null}function g$(t,e,n,r){do cc();while(Sa!==null);if(Pt&6)throw Error(Me(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Me(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Zj(t,o),t===jn&&(Sn=jn=null,Gn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$h||($h=!0,xD(vm,function(){return cc(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ai.transition,ai.transition=null;var a=kt;kt=1;var s=Pt;Pt|=4,jw.current=null,f$(t,n),uD(n,t),UB(Hx),ym=!!zx,Hx=zx=null,t.current=n,d$(n),zj(),Pt=s,kt=a,ai.transition=o}else t.current=n;if($h&&($h=!1,Sa=t,Lm=i),o=t.pendingLanes,o===0&&(Oa=null),Gj(n.stateNode),br(t,gn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dm)throw Dm=!1,t=cb,cb=null,t;return Lm&1&&t.tag!==0&&cc(),o=t.pendingLanes,o&1?t===ub?Cf++:(Cf=0,ub=t):Cf=0,Wa(),null}function cc(){if(Sa!==null){var t=K2(Lm),e=ai.transition,n=kt;try{if(ai.transition=null,kt=16>t?16:t,Sa===null)var r=!1;else{if(t=Sa,Sa=null,Lm=0,Pt&6)throw Error(Me(331));var i=Pt;for(Pt|=4,Ge=t.current;Ge!==null;){var o=Ge,a=o.child;if(Ge.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Ge=c;Ge!==null;){var f=Ge;switch(f.tag){case 0:case 11:case 15:Tf(8,f,o)}var u=f.child;if(u!==null)u.return=f,Ge=u;else for(;Ge!==null;){f=Ge;var d=f.sibling,h=f.return;if(sD(f),f===c){Ge=null;break}if(d!==null){d.return=h,Ge=d;break}Ge=h}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}Ge=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ge=a;else e:for(;Ge!==null;){if(o=Ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Tf(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,Ge=p;break e}Ge=o.return}}var x=t.current;for(Ge=x;Ge!==null;){a=Ge;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,Ge=y;else e:for(a=x;Ge!==null;){if(s=Ge,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:sg(9,s)}}catch(S){hn(s,s.return,S)}if(s===a){Ge=null;break e}var b=s.sibling;if(b!==null){b.return=s.return,Ge=b;break e}Ge=s.return}}if(Pt=i,Wa(),Ji&&typeof Ji.onPostCommitFiberRoot=="function")try{Ji.onPostCommitFiberRoot(Qv,t)}catch{}r=!0}return r}finally{kt=n,ai.transition=e}}return!1}function YM(t,e,n){e=Ac(n,e),e=KN(t,e,1),t=Ca(t,e,1),e=cr(),t!==null&&(eh(t,1,e),br(t,e))}function hn(t,e,n){if(t.tag===3)YM(t,t,n);else for(;e!==null;){if(e.tag===3){YM(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Oa===null||!Oa.has(r))){t=Ac(n,t),t=ZN(e,t,1),e=Ca(e,t,1),t=cr(),e!==null&&(eh(e,1,t),br(e,t));break}}e=e.return}}function y$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cr(),t.pingedLanes|=t.suspendedLanes&n,jn===t&&(Gn&n)===n&&(Cn===4||Cn===3&&(Gn&130023424)===Gn&&500>gn()-$w?Rs(t,0):Bw|=n),br(t,e)}function gD(t,e){e===0&&(t.mode&1?(e=Rh,Rh<<=1,!(Rh&130023424)&&(Rh=4194304)):e=1);var n=cr();t=jo(t,e),t!==null&&(eh(t,e,n),br(t,n))}function x$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gD(t,n)}function b$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Me(314))}r!==null&&r.delete(e),gD(t,n)}var yD;yD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yr.current)vr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vr=!1,s$(t,e,n);vr=!!(t.flags&131072)}else vr=!1,on&&e.flags&1048576&&SN(e,Mm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jp(t,e),t=e.pendingProps;var i=Sc(e,tr.current);lc(e,n),i=Lw(null,e,r,t,i,n);var o=Iw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xr(r)?(o=!0,wm(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cw(e),i.updater=ag,e.stateNode=i,i._reactInternals=e,Jx(e,r,t,n),e=tb(null,e,r,!0,o,n)):(e.tag=0,on&&o&&Sw(e),or(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=S$(r),t=bi(r,t),i){case 0:e=eb(null,e,r,t,n);break e;case 1:e=jM(null,e,r,t,n);break e;case 11:e=UM(null,e,r,t,n);break e;case 14:e=FM(null,e,r,bi(r.type,t),n);break e}throw Error(Me(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bi(r,i),eb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bi(r,i),jM(t,e,r,i,n);case 3:e:{if(tD(e),t===null)throw Error(Me(387));r=e.pendingProps,o=e.memoizedState,i=o.element,PN(t,e),Pm(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ac(Error(Me(423)),e),e=BM(t,e,r,n,i);break e}else if(r!==i){i=Ac(Error(Me(424)),e),e=BM(t,e,r,n,i);break e}else for(kr=Pa(e.stateNode.containerInfo.firstChild),Ur=e,on=!0,Mi=null,n=AN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wc(),r===i){e=Bo(t,e,n);break e}or(t,e,r,n)}e=e.child}return e;case 5:return CN(e),t===null&&Yx(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Vx(r,i)?a=null:o!==null&&Vx(r,o)&&(e.flags|=32),eD(t,e),or(t,e,a,n),e.child;case 6:return t===null&&Yx(e),null;case 13:return nD(t,e,n);case 4:return Ow(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ec(e,null,r,n):or(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bi(r,i),UM(t,e,r,i,n);case 7:return or(t,e,e.pendingProps,n),e.child;case 8:return or(t,e,e.pendingProps.children,n),e.child;case 12:return or(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,qt(Am,r._currentValue),r._currentValue=a,o!==null)if(ji(o.value,a)){if(o.children===i.children&&!yr.current){e=Bo(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ro(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Kx(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Me(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Kx(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}or(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,lc(e,n),i=si(i),r=r(i),e.flags|=1,or(t,e,r,n),e.child;case 14:return r=e.type,i=bi(r,e.pendingProps),i=bi(r.type,i),FM(t,e,r,i,n);case 15:return JN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bi(r,i),Jp(t,e),e.tag=1,xr(r)?(t=!0,wm(e)):t=!1,lc(e,n),YN(e,r,i),Jx(e,r,i,n),tb(null,e,r,!0,t,n);case 19:return rD(t,e,n);case 22:return QN(t,e,n)}throw Error(Me(156,e.tag))};function xD(t,e){return W2(t,e)}function _$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(t,e,n,r){return new _$(t,e,n,r)}function Gw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S$(t){if(typeof t=="function")return Gw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uw)return 11;if(t===fw)return 14}return 2}function Na(t,e){var n=t.alternate;return n===null?(n=ii(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tm(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Gw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Fl:return Ns(n.children,i,o,e);case cw:a=8,i|=8;break;case Sx:return t=ii(12,n,e,i|2),t.elementType=Sx,t.lanes=o,t;case wx:return t=ii(13,n,e,i),t.elementType=wx,t.lanes=o,t;case Ex:return t=ii(19,n,e,i),t.elementType=Ex,t.lanes=o,t;case C2:return cg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T2:a=10;break e;case P2:a=9;break e;case uw:a=11;break e;case fw:a=14;break e;case ha:a=16,r=null;break e}throw Error(Me(130,t==null?t:typeof t,""))}return e=ii(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ns(t,e,n,r){return t=ii(7,t,r,e),t.lanes=n,t}function cg(t,e,n,r){return t=ii(22,t,r,e),t.elementType=C2,t.lanes=n,t.stateNode={isHidden:!1},t}function Zy(t,e,n){return t=ii(6,t,null,e),t.lanes=n,t}function Jy(t,e,n){return e=ii(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function w$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ny(0),this.expirationTimes=Ny(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ny(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ww(t,e,n,r,i,o,a,s,l){return t=new w$(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ii(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cw(o),t}function E$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ul,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bD(t){if(!t)return Fa;t=t._reactInternals;e:{if(el(t)!==t||t.tag!==1)throw Error(Me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(t.tag===1){var n=t.type;if(xr(n))return bN(t,n,e)}return e}function _D(t,e,n,r,i,o,a,s,l){return t=Ww(n,r,!0,t,i,o,a,s,l),t.context=bD(null),n=t.current,r=cr(),i=Ra(n),o=Ro(r,i),o.callback=e??null,Ca(n,o,i),t.current.lanes=i,eh(t,i,r),br(t,r),t}function ug(t,e,n,r){var i=e.current,o=cr(),a=Ra(i);return n=bD(n),e.context===null?e.context=n:e.pendingContext=n,e=Ro(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ca(i,e,a),t!==null&&(Ii(t,i,a,o),Yp(t,i,a)),a}function km(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function KM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xw(t,e){KM(t,e),(t=t.alternate)&&KM(t,e)}function M$(){return null}var SD=typeof reportError=="function"?reportError:function(t){console.error(t)};function qw(t){this._internalRoot=t}fg.prototype.render=qw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Me(409));ug(t,e,null,null)};fg.prototype.unmount=qw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;js(function(){ug(null,t,null,null)}),e[Fo]=null}};function fg(t){this._internalRoot=t}fg.prototype.unstable_scheduleHydration=function(t){if(t){var e=Q2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ga.length&&e!==0&&e<ga[n].priority;n++);ga.splice(n,0,t),n===0&&tN(t)}};function Yw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ZM(){}function A$(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=km(a);o.call(c)}}var a=_D(e,r,t,0,null,!1,!1,"",ZM);return t._reactRootContainer=a,t[Fo]=a.current,Yf(t.nodeType===8?t.parentNode:t),js(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=km(l);s.call(c)}}var l=Ww(t,0,!1,null,null,!1,!1,"",ZM);return t._reactRootContainer=l,t[Fo]=l.current,Yf(t.nodeType===8?t.parentNode:t),js(function(){ug(e,l,n,r)}),l}function hg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=km(a);s.call(l)}}ug(e,a,t,i)}else a=A$(n,e,t,i,r);return km(a)}Z2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hf(e.pendingLanes);n!==0&&(pw(e,n|1),br(e,gn()),!(Pt&6)&&(Tc=gn()+500,Wa()))}break;case 13:js(function(){var r=jo(t,1);if(r!==null){var i=cr();Ii(r,t,1,i)}}),Xw(t,1)}};mw=function(t){if(t.tag===13){var e=jo(t,134217728);if(e!==null){var n=cr();Ii(e,t,134217728,n)}Xw(t,134217728)}};J2=function(t){if(t.tag===13){var e=Ra(t),n=jo(t,e);if(n!==null){var r=cr();Ii(n,t,e,r)}Xw(t,e)}};Q2=function(){return kt};eN=function(t,e){var n=kt;try{return kt=t,e()}finally{kt=n}};Lx=function(t,e,n){switch(e){case"input":if(Tx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rg(r);if(!i)throw Error(Me(90));R2(r),Tx(r,i)}}}break;case"textarea":D2(t,n);break;case"select":e=n.value,e!=null&&ic(t,!!n.multiple,e,!1)}};B2=zw;$2=js;var T$={usingClientEntryPoint:!1,Events:[nh,zl,rg,F2,j2,zw]},zu={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P$={bundleType:zu.bundleType,version:zu.version,rendererPackageName:zu.rendererPackageName,rendererConfig:zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=V2(t),t===null?null:t.stateNode},findFiberByHostInstance:zu.findFiberByHostInstance||M$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{Qv=zh.inject(P$),Ji=zh}catch{}}Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T$;Vr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yw(e))throw Error(Me(200));return E$(t,e,null,n)};Vr.createRoot=function(t,e){if(!Yw(t))throw Error(Me(299));var n=!1,r="",i=SD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ww(t,1,!1,null,null,n,!1,r,i),t[Fo]=e.current,Yf(t.nodeType===8?t.parentNode:t),new qw(e)};Vr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Me(188)):(t=Object.keys(t).join(","),Error(Me(268,t)));return t=V2(e),t=t===null?null:t.stateNode,t};Vr.flushSync=function(t){return js(t)};Vr.hydrate=function(t,e,n){if(!dg(e))throw Error(Me(200));return hg(null,t,e,!0,n)};Vr.hydrateRoot=function(t,e,n){if(!Yw(t))throw Error(Me(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=SD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=_D(e,null,t,1,n??null,i,!1,o,a),t[Fo]=e.current,Yf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fg(e)};Vr.render=function(t,e,n){if(!dg(e))throw Error(Me(200));return hg(null,t,e,!1,n)};Vr.unmountComponentAtNode=function(t){if(!dg(t))throw Error(Me(40));return t._reactRootContainer?(js(function(){hg(null,null,t,!1,function(){t._reactRootContainer=null,t[Fo]=null})}),!0):!1};Vr.unstable_batchedUpdates=zw;Vr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dg(n))throw Error(Me(200));if(t==null||t._reactInternals===void 0)throw Error(Me(38));return hg(t,e,n,!1,r)};Vr.version="18.3.1-next-f1338f8080-20240426";function wD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wD)}catch(t){console.error(t)}}wD(),w2.exports=Vr;var tl=w2.exports;const ED=It(tl),C$=u2({__proto__:null,default:ED},[tl]);var MD,JM=tl;MD=JM.createRoot,JM.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rn(){return rn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rn.apply(this,arguments)}var _n;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_n||(_n={}));const QM="popstate";function O$(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return id("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bs(i)}return N$(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function R$(){return Math.random().toString(36).substr(2,8)}function eA(t,e){return{usr:t.state,key:t.key,idx:e}}function id(t,e,n,r){return n===void 0&&(n=null),rn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xa(e):e,{state:n,key:e&&e.key||r||R$()})}function Bs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function N$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=_n.Pop,l=null,c=f();c==null&&(c=0,a.replaceState(rn({},a.state,{idx:c}),""));function f(){return(a.state||{idx:null}).idx}function u(){s=_n.Pop;let g=f(),p=g==null?null:g-c;c=g,l&&l({action:s,location:v.location,delta:p})}function d(g,p){s=_n.Push;let x=id(v.location,g,p);c=f()+1;let y=eA(x,c),b=v.createHref(x);try{a.pushState(y,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(b)}o&&l&&l({action:s,location:v.location,delta:1})}function h(g,p){s=_n.Replace;let x=id(v.location,g,p);c=f();let y=eA(x,c),b=v.createHref(x);a.replaceState(y,"",b),o&&l&&l({action:s,location:v.location,delta:0})}function m(g){let p=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof g=="string"?g:Bs(g);return x=x.replace(/ $/,"%20"),xt(p,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,p)}let v={get action(){return s},get location(){return t(i,a)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(QM,u),l=g,()=>{i.removeEventListener(QM,u),l=null}},createHref(g){return e(i,g)},createURL:m,encodeLocation(g){let p=m(g);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:h,go(g){return a.go(g)}};return v}var Bt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Bt||(Bt={}));const D$=new Set(["lazy","caseSensitive","path","id","index","children"]);function L$(t){return t.index===!0}function Um(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let a=[...n,String(o)],s=typeof i.id=="string"?i.id:a.join("-");if(xt(i.index!==!0||!i.children,"Cannot specify children on an index route"),xt(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),L$(i)){let l=rn({},i,e(i),{id:s});return r[s]=l,l}else{let l=rn({},i,e(i),{id:s,children:void 0});return r[s]=l,i.children&&(l.children=Um(i.children,e,a,r)),l}})}function vs(t,e,n){return n===void 0&&(n="/"),nm(t,e,n,!1)}function nm(t,e,n,r){let i=typeof e=="string"?Xa(e):e,o=uu(i.pathname||"/",n);if(o==null)return null;let a=AD(t);k$(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=X$(o);s=G$(a[l],c,r)}return s}function I$(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function AD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=No([r,l.relativePath]),f=n.concat(l);o.children&&o.children.length>0&&(xt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),AD(o.children,e,f,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:H$(c,o.index),routesMeta:f})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of TD(o.path))i(o,a,l)}),e}function TD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=TD(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function k$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:V$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const U$=/^:[\w-]+$/,F$=3,j$=2,B$=1,$$=10,z$=-2,tA=t=>t==="*";function H$(t,e){let n=t.split("/"),r=n.length;return n.some(tA)&&(r+=z$),e&&(r+=j$),n.filter(i=>!tA(i)).reduce((i,o)=>i+(U$.test(o)?F$:o===""?B$:$$),r)}function V$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function G$(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",u=nA({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),d=l.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=nA({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:No([o,u.pathname]),pathnameBase:K$(No([o,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(o=No([o,u.pathnameBase]))}return a}function nA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=W$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,f,u)=>{let{paramName:d,isOptional:h}=f;if(d==="*"){let v=s[u]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const m=s[u];return h&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:t}}function W$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Pc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function X$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function q$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xa(t):t;return{pathname:n?n.startsWith("/")?n:Y$(n,e):e,search:Z$(r),hash:J$(i)}}function Y$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Kw(t,e){let n=PD(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Zw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xa(t):(i=rn({},t),xt(!i.pathname||!i.pathname.includes("?"),Qy("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),Qy("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),Qy("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let u=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),u-=1;i.pathname=d.join("/")}s=u>=0?e[u]:"/"}let l=q$(i,s),c=a&&a!=="/"&&a.endsWith("/"),f=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const No=t=>t.join("/").replace(/\/\/+/g,"/"),K$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Z$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,J$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Fm{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function pg(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CD=["post","put","patch","delete"],Q$=new Set(CD),ez=["get",...CD],tz=new Set(ez),nz=new Set([301,302,303,307,308]),rz=new Set([307,308]),e0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},iz={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Hu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oz=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),OD="remix-router-transitions";function az(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;xt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let V=t.detectErrorBoundary;i=K=>({hasErrorBoundary:V(K)})}else i=oz;let o={},a=Um(t.routes,i,void 0,o),s,l=t.basename||"/",c=t.dataStrategy||uz,f=t.patchRoutesOnNavigation,u=rn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),d=null,h=new Set,m=null,v=null,g=null,p=t.hydrationData!=null,x=vs(a,t.history.location,l),y=null;if(x==null&&!f){let V=hr(404,{pathname:t.history.location.pathname}),{matches:K,route:oe}=hA(a);x=K,y={[oe.id]:V}}x&&!t.hydrationData&&Ht(x,a,t.history.location.pathname).active&&(x=null);let b;if(x)if(x.some(V=>V.route.lazy))b=!1;else if(!x.some(V=>V.route.loader))b=!0;else if(u.v7_partialHydration){let V=t.hydrationData?t.hydrationData.loaderData:null,K=t.hydrationData?t.hydrationData.errors:null;if(K){let oe=x.findIndex(me=>K[me.route.id]!==void 0);b=x.slice(0,oe+1).every(me=>!pb(me.route,V,K))}else b=x.every(oe=>!pb(oe.route,V,K))}else b=t.hydrationData!=null;else if(b=!1,x=[],u.v7_partialHydration){let V=Ht(null,a,t.history.location.pathname);V.active&&V.matches&&(x=V.matches)}let S,_={historyAction:t.history.action,location:t.history.location,matches:x,initialized:b,navigation:e0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},w=_n.Pop,T=!1,M,A=!1,P=new Map,O=null,L=!1,I=!1,j=[],F=new Set,B=new Map,D=0,z=-1,W=new Map,J=new Set,ie=new Map,xe=new Map,Z=new Set,ue=new Map,be=new Map,ne;function _e(){if(d=t.history.listen(V=>{let{action:K,location:oe,delta:me}=V;if(ne){ne(),ne=void 0;return}Pc(be.size===0||me!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Be=q({currentLocation:_.location,nextLocation:oe,historyAction:K});if(Be&&me!=null){let Ze=new Promise(ot=>{ne=ot});t.history.go(me*-1),Rt(Be,{state:"blocked",location:oe,proceed(){Rt(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),Ze.then(()=>t.history.go(me))},reset(){let ot=new Map(_.blockers);ot.set(Be,Hu),le({blockers:ot})}});return}return ve(K,oe)}),n){Ez(e,P);let V=()=>Mz(e,P);e.addEventListener("pagehide",V),O=()=>e.removeEventListener("pagehide",V)}return _.initialized||ve(_n.Pop,_.location,{initialHydration:!0}),S}function Q(){d&&d(),O&&O(),h.clear(),M&&M.abort(),_.fetchers.forEach((V,K)=>dt(K)),_.blockers.forEach((V,K)=>ut(K))}function ae(V){return h.add(V),()=>h.delete(V)}function le(V,K){K===void 0&&(K={}),_=rn({},_,V);let oe=[],me=[];u.v7_fetcherPersist&&_.fetchers.forEach((Be,Ze)=>{Be.state==="idle"&&(Z.has(Ze)?me.push(Ze):oe.push(Ze))}),[...h].forEach(Be=>Be(_,{deletedFetchers:me,viewTransitionOpts:K.viewTransitionOpts,flushSync:K.flushSync===!0})),u.v7_fetcherPersist&&(oe.forEach(Be=>_.fetchers.delete(Be)),me.forEach(Be=>dt(Be)))}function $(V,K,oe){var me,Be;let{flushSync:Ze}=oe===void 0?{}:oe,ot=_.actionData!=null&&_.navigation.formMethod!=null&&Si(_.navigation.formMethod)&&_.navigation.state==="loading"&&((me=V.state)==null?void 0:me._isRedirect)!==!0,ze;K.actionData?Object.keys(K.actionData).length>0?ze=K.actionData:ze=null:ot?ze=_.actionData:ze=null;let Xe=K.loaderData?fA(_.loaderData,K.loaderData,K.matches||[],K.errors):_.loaderData,Fe=_.blockers;Fe.size>0&&(Fe=new Map(Fe),Fe.forEach((wt,En)=>Fe.set(En,Hu)));let Je=T===!0||_.navigation.formMethod!=null&&Si(_.navigation.formMethod)&&((Be=V.state)==null?void 0:Be._isRedirect)!==!0;s&&(a=s,s=void 0),L||w===_n.Pop||(w===_n.Push?t.history.push(V,V.state):w===_n.Replace&&t.history.replace(V,V.state));let yt;if(w===_n.Pop){let wt=P.get(_.location.pathname);wt&&wt.has(V.pathname)?yt={currentLocation:_.location,nextLocation:V}:P.has(V.pathname)&&(yt={currentLocation:V,nextLocation:_.location})}else if(A){let wt=P.get(_.location.pathname);wt?wt.add(V.pathname):(wt=new Set([V.pathname]),P.set(_.location.pathname,wt)),yt={currentLocation:_.location,nextLocation:V}}le(rn({},K,{actionData:ze,loaderData:Xe,historyAction:w,location:V,initialized:!0,navigation:e0,revalidation:"idle",restoreScrollPosition:ct(V,K.matches||_.matches),preventScrollReset:Je,blockers:Fe}),{viewTransitionOpts:yt,flushSync:Ze===!0}),w=_n.Pop,T=!1,A=!1,L=!1,I=!1,j=[]}async function se(V,K){if(typeof V=="number"){t.history.go(V);return}let oe=hb(_.location,_.matches,l,u.v7_prependBasename,V,u.v7_relativeSplatPath,K==null?void 0:K.fromRouteId,K==null?void 0:K.relative),{path:me,submission:Be,error:Ze}=rA(u.v7_normalizeFormMethod,!1,oe,K),ot=_.location,ze=id(_.location,me,K&&K.state);ze=rn({},ze,t.history.encodeLocation(ze));let Xe=K&&K.replace!=null?K.replace:void 0,Fe=_n.Push;Xe===!0?Fe=_n.Replace:Xe===!1||Be!=null&&Si(Be.formMethod)&&Be.formAction===_.location.pathname+_.location.search&&(Fe=_n.Replace);let Je=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,yt=(K&&K.flushSync)===!0,wt=q({currentLocation:ot,nextLocation:ze,historyAction:Fe});if(wt){Rt(wt,{state:"blocked",location:ze,proceed(){Rt(wt,{state:"proceeding",proceed:void 0,reset:void 0,location:ze}),se(V,K)},reset(){let En=new Map(_.blockers);En.set(wt,Hu),le({blockers:En})}});return}return await ve(Fe,ze,{submission:Be,pendingError:Ze,preventScrollReset:Je,replace:K&&K.replace,enableViewTransition:K&&K.viewTransition,flushSync:yt})}function k(){if(pe(),le({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){ve(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}ve(w||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:A===!0})}}async function ve(V,K,oe){M&&M.abort(),M=null,w=V,L=(oe&&oe.startUninterruptedRevalidation)===!0,Ue(_.location,_.matches),T=(oe&&oe.preventScrollReset)===!0,A=(oe&&oe.enableViewTransition)===!0;let me=s||a,Be=oe&&oe.overrideNavigation,Ze=vs(me,K,l),ot=(oe&&oe.flushSync)===!0,ze=Ht(Ze,me,K.pathname);if(ze.active&&ze.matches&&(Ze=ze.matches),!Ze){let{error:Ft,notFoundMatches:N,route:G}=Re(K.pathname);$(K,{matches:N,loaderData:{},errors:{[G.id]:Ft}},{flushSync:ot});return}if(_.initialized&&!I&&vz(_.location,K)&&!(oe&&oe.submission&&Si(oe.submission.formMethod))){$(K,{matches:Ze},{flushSync:ot});return}M=new AbortController;let Xe=dl(t.history,K,M.signal,oe&&oe.submission),Fe;if(oe&&oe.pendingError)Fe=[gs(Ze).route.id,{type:Bt.error,error:oe.pendingError}];else if(oe&&oe.submission&&Si(oe.submission.formMethod)){let Ft=await fe(Xe,K,oe.submission,Ze,ze.active,{replace:oe.replace,flushSync:ot});if(Ft.shortCircuited)return;if(Ft.pendingActionResult){let[N,G]=Ft.pendingActionResult;if(Nr(G)&&pg(G.error)&&G.error.status===404){M=null,$(K,{matches:Ft.matches,loaderData:{},errors:{[N]:G.error}});return}}Ze=Ft.matches||Ze,Fe=Ft.pendingActionResult,Be=t0(K,oe.submission),ot=!1,ze.active=!1,Xe=dl(t.history,Xe.url,Xe.signal)}let{shortCircuited:Je,matches:yt,loaderData:wt,errors:En}=await we(Xe,K,Ze,ze.active,Be,oe&&oe.submission,oe&&oe.fetcherSubmission,oe&&oe.replace,oe&&oe.initialHydration===!0,ot,Fe);Je||(M=null,$(K,rn({matches:yt||Ze},dA(Fe),{loaderData:wt,errors:En})))}async function fe(V,K,oe,me,Be,Ze){Ze===void 0&&(Ze={}),pe();let ot=Sz(K,oe);if(le({navigation:ot},{flushSync:Ze.flushSync===!0}),Be){let Fe=await vn(me,K.pathname,V.signal);if(Fe.type==="aborted")return{shortCircuited:!0};if(Fe.type==="error"){let Je=gs(Fe.partialMatches).route.id;return{matches:Fe.partialMatches,pendingActionResult:[Je,{type:Bt.error,error:Fe.error}]}}else if(Fe.matches)me=Fe.matches;else{let{notFoundMatches:Je,error:yt,route:wt}=Re(K.pathname);return{matches:Je,pendingActionResult:[wt.id,{type:Bt.error,error:yt}]}}}let ze,Xe=mf(me,K);if(!Xe.route.action&&!Xe.route.lazy)ze={type:Bt.error,error:hr(405,{method:V.method,pathname:K.pathname,routeId:Xe.route.id})};else if(ze=(await de("action",_,V,[Xe],me,null))[Xe.route.id],V.signal.aborted)return{shortCircuited:!0};if(Es(ze)){let Fe;return Ze&&Ze.replace!=null?Fe=Ze.replace:Fe=lA(ze.response.headers.get("Location"),new URL(V.url),l)===_.location.pathname+_.location.search,await ee(V,ze,!0,{submission:oe,replace:Fe}),{shortCircuited:!0}}if(wa(ze))throw hr(400,{type:"defer-action"});if(Nr(ze)){let Fe=gs(me,Xe.route.id);return(Ze&&Ze.replace)!==!0&&(w=_n.Push),{matches:me,pendingActionResult:[Fe.route.id,ze]}}return{matches:me,pendingActionResult:[Xe.route.id,ze]}}async function we(V,K,oe,me,Be,Ze,ot,ze,Xe,Fe,Je){let yt=Be||t0(K,Ze),wt=Ze||ot||mA(yt),En=!L&&(!u.v7_partialHydration||!Xe);if(me){if(En){let Qe=Ee(Je);le(rn({navigation:yt},Qe!==void 0?{actionData:Qe}:{}),{flushSync:Fe})}let Te=await vn(oe,K.pathname,V.signal);if(Te.type==="aborted")return{shortCircuited:!0};if(Te.type==="error"){let Qe=gs(Te.partialMatches).route.id;return{matches:Te.partialMatches,loaderData:{},errors:{[Qe]:Te.error}}}else if(Te.matches)oe=Te.matches;else{let{error:Qe,notFoundMatches:Mt,route:Dt}=Re(K.pathname);return{matches:Mt,loaderData:{},errors:{[Dt.id]:Qe}}}}let Ft=s||a,[N,G]=oA(t.history,_,oe,wt,K,u.v7_partialHydration&&Xe===!0,u.v7_skipActionErrorRevalidation,I,j,F,Z,ie,J,Ft,l,Je);if(ce(Te=>!(oe&&oe.some(Qe=>Qe.route.id===Te))||N&&N.some(Qe=>Qe.route.id===Te)),z=++D,N.length===0&&G.length===0){let Te=rt();return $(K,rn({matches:oe,loaderData:{},errors:Je&&Nr(Je[1])?{[Je[0]]:Je[1].error}:null},dA(Je),Te?{fetchers:new Map(_.fetchers)}:{}),{flushSync:Fe}),{shortCircuited:!0}}if(En){let Te={};if(!me){Te.navigation=yt;let Qe=Ee(Je);Qe!==void 0&&(Te.actionData=Qe)}G.length>0&&(Te.fetchers=Ye(G)),le(Te,{flushSync:Fe})}G.forEach(Te=>{Ie(Te.key),Te.controller&&B.set(Te.key,Te.controller)});let te=()=>G.forEach(Te=>Ie(Te.key));M&&M.signal.addEventListener("abort",te);let{loaderResults:re,fetcherResults:Y}=await ye(_,oe,N,G,V);if(V.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",te),G.forEach(Te=>B.delete(Te.key));let Se=Hh(re);if(Se)return await ee(V,Se.result,!0,{replace:ze}),{shortCircuited:!0};if(Se=Hh(Y),Se)return J.add(Se.key),await ee(V,Se.result,!0,{replace:ze}),{shortCircuited:!0};let{loaderData:De,errors:qe}=uA(_,oe,re,Je,G,Y,ue);ue.forEach((Te,Qe)=>{Te.subscribe(Mt=>{(Mt||Te.done)&&ue.delete(Qe)})}),u.v7_partialHydration&&Xe&&_.errors&&(qe=rn({},_.errors,qe));let Ve=rt(),nt=He(z),at=Ve||nt||G.length>0;return rn({matches:oe,loaderData:De,errors:qe},at?{fetchers:new Map(_.fetchers)}:{})}function Ee(V){if(V&&!Nr(V[1]))return{[V[0]]:V[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function Ye(V){return V.forEach(K=>{let oe=_.fetchers.get(K.key),me=Vu(void 0,oe?oe.data:void 0);_.fetchers.set(K.key,me)}),new Map(_.fetchers)}function Le(V,K,oe,me){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ie(V);let Be=(me&&me.flushSync)===!0,Ze=s||a,ot=hb(_.location,_.matches,l,u.v7_prependBasename,oe,u.v7_relativeSplatPath,K,me==null?void 0:me.relative),ze=vs(Ze,ot,l),Xe=Ht(ze,Ze,ot);if(Xe.active&&Xe.matches&&(ze=Xe.matches),!ze){Ce(V,K,hr(404,{pathname:ot}),{flushSync:Be});return}let{path:Fe,submission:Je,error:yt}=rA(u.v7_normalizeFormMethod,!0,ot,me);if(yt){Ce(V,K,yt,{flushSync:Be});return}let wt=mf(ze,Fe),En=(me&&me.preventScrollReset)===!0;if(Je&&Si(Je.formMethod)){U(V,K,Fe,wt,ze,Xe.active,Be,En,Je);return}ie.set(V,{routeId:K,path:Fe}),R(V,K,Fe,wt,ze,Xe.active,Be,En,Je)}async function U(V,K,oe,me,Be,Ze,ot,ze,Xe){pe(),ie.delete(V);function Fe(Et){if(!Et.route.action&&!Et.route.lazy){let bt=hr(405,{method:Xe.formMethod,pathname:oe,routeId:K});return Ce(V,K,bt,{flushSync:ot}),!0}return!1}if(!Ze&&Fe(me))return;let Je=_.fetchers.get(V);$e(V,wz(Xe,Je),{flushSync:ot});let yt=new AbortController,wt=dl(t.history,oe,yt.signal,Xe);if(Ze){let Et=await vn(Be,oe,wt.signal);if(Et.type==="aborted")return;if(Et.type==="error"){Ce(V,K,Et.error,{flushSync:ot});return}else if(Et.matches){if(Be=Et.matches,me=mf(Be,oe),Fe(me))return}else{Ce(V,K,hr(404,{pathname:oe}),{flushSync:ot});return}}B.set(V,yt);let En=D,N=(await de("action",_,wt,[me],Be,V))[me.route.id];if(wt.signal.aborted){B.get(V)===yt&&B.delete(V);return}if(u.v7_fetcherPersist&&Z.has(V)){if(Es(N)||Nr(N)){$e(V,fa(void 0));return}}else{if(Es(N))if(B.delete(V),z>En){$e(V,fa(void 0));return}else return J.add(V),$e(V,Vu(Xe)),ee(wt,N,!1,{fetcherSubmission:Xe,preventScrollReset:ze});if(Nr(N)){Ce(V,K,N.error);return}}if(wa(N))throw hr(400,{type:"defer-action"});let G=_.navigation.location||_.location,te=dl(t.history,G,yt.signal),re=s||a,Y=_.navigation.state!=="idle"?vs(re,_.navigation.location,l):_.matches;xt(Y,"Didn't find any matches after fetcher action");let Se=++D;W.set(V,Se);let De=Vu(Xe,N.data);_.fetchers.set(V,De);let[qe,Ve]=oA(t.history,_,Y,Xe,G,!1,u.v7_skipActionErrorRevalidation,I,j,F,Z,ie,J,re,l,[me.route.id,N]);Ve.filter(Et=>Et.key!==V).forEach(Et=>{let bt=Et.key,Ke=_.fetchers.get(bt),di=Vu(void 0,Ke?Ke.data:void 0);_.fetchers.set(bt,di),Ie(bt),Et.controller&&B.set(bt,Et.controller)}),le({fetchers:new Map(_.fetchers)});let nt=()=>Ve.forEach(Et=>Ie(Et.key));yt.signal.addEventListener("abort",nt);let{loaderResults:at,fetcherResults:Te}=await ye(_,Y,qe,Ve,te);if(yt.signal.aborted)return;yt.signal.removeEventListener("abort",nt),W.delete(V),B.delete(V),Ve.forEach(Et=>B.delete(Et.key));let Qe=Hh(at);if(Qe)return ee(te,Qe.result,!1,{preventScrollReset:ze});if(Qe=Hh(Te),Qe)return J.add(Qe.key),ee(te,Qe.result,!1,{preventScrollReset:ze});let{loaderData:Mt,errors:Dt}=uA(_,Y,at,void 0,Ve,Te,ue);if(_.fetchers.has(V)){let Et=fa(N.data);_.fetchers.set(V,Et)}He(Se),_.navigation.state==="loading"&&Se>z?(xt(w,"Expected pending action"),M&&M.abort(),$(_.navigation.location,{matches:Y,loaderData:Mt,errors:Dt,fetchers:new Map(_.fetchers)})):(le({errors:Dt,loaderData:fA(_.loaderData,Mt,Y,Dt),fetchers:new Map(_.fetchers)}),I=!1)}async function R(V,K,oe,me,Be,Ze,ot,ze,Xe){let Fe=_.fetchers.get(V);$e(V,Vu(Xe,Fe?Fe.data:void 0),{flushSync:ot});let Je=new AbortController,yt=dl(t.history,oe,Je.signal);if(Ze){let N=await vn(Be,oe,yt.signal);if(N.type==="aborted")return;if(N.type==="error"){Ce(V,K,N.error,{flushSync:ot});return}else if(N.matches)Be=N.matches,me=mf(Be,oe);else{Ce(V,K,hr(404,{pathname:oe}),{flushSync:ot});return}}B.set(V,Je);let wt=D,Ft=(await de("loader",_,yt,[me],Be,V))[me.route.id];if(wa(Ft)&&(Ft=await Qw(Ft,yt.signal,!0)||Ft),B.get(V)===Je&&B.delete(V),!yt.signal.aborted){if(Z.has(V)){$e(V,fa(void 0));return}if(Es(Ft))if(z>wt){$e(V,fa(void 0));return}else{J.add(V),await ee(yt,Ft,!1,{preventScrollReset:ze});return}if(Nr(Ft)){Ce(V,K,Ft.error);return}xt(!wa(Ft),"Unhandled fetcher deferred data"),$e(V,fa(Ft.data))}}async function ee(V,K,oe,me){let{submission:Be,fetcherSubmission:Ze,preventScrollReset:ot,replace:ze}=me===void 0?{}:me;K.response.headers.has("X-Remix-Revalidate")&&(I=!0);let Xe=K.response.headers.get("Location");xt(Xe,"Expected a Location header on the redirect Response"),Xe=lA(Xe,new URL(V.url),l);let Fe=id(_.location,Xe,{_isRedirect:!0});if(n){let N=!1;if(K.response.headers.has("X-Remix-Reload-Document"))N=!0;else if(Jw.test(Xe)){const G=t.history.createURL(Xe);N=G.origin!==e.location.origin||uu(G.pathname,l)==null}if(N){ze?e.location.replace(Xe):e.location.assign(Xe);return}}M=null;let Je=ze===!0||K.response.headers.has("X-Remix-Replace")?_n.Replace:_n.Push,{formMethod:yt,formAction:wt,formEncType:En}=_.navigation;!Be&&!Ze&&yt&&wt&&En&&(Be=mA(_.navigation));let Ft=Be||Ze;if(rz.has(K.response.status)&&Ft&&Si(Ft.formMethod))await ve(Je,Fe,{submission:rn({},Ft,{formAction:Xe}),preventScrollReset:ot||T,enableViewTransition:oe?A:void 0});else{let N=t0(Fe,Be);await ve(Je,Fe,{overrideNavigation:N,fetcherSubmission:Ze,preventScrollReset:ot||T,enableViewTransition:oe?A:void 0})}}async function de(V,K,oe,me,Be,Ze){let ot,ze={};try{ot=await fz(c,V,K,oe,me,Be,Ze,o,i)}catch(Xe){return me.forEach(Fe=>{ze[Fe.route.id]={type:Bt.error,error:Xe}}),ze}for(let[Xe,Fe]of Object.entries(ot))if(gz(Fe)){let Je=Fe.result;ze[Xe]={type:Bt.redirect,response:pz(Je,oe,Xe,Be,l,u.v7_relativeSplatPath)}}else ze[Xe]=await hz(Fe);return ze}async function ye(V,K,oe,me,Be){let Ze=V.matches,ot=de("loader",V,Be,oe,K,null),ze=Promise.all(me.map(async Je=>{if(Je.matches&&Je.match&&Je.controller){let wt=(await de("loader",V,dl(t.history,Je.path,Je.controller.signal),[Je.match],Je.matches,Je.key))[Je.match.route.id];return{[Je.key]:wt}}else return Promise.resolve({[Je.key]:{type:Bt.error,error:hr(404,{pathname:Je.path})}})})),Xe=await ot,Fe=(await ze).reduce((Je,yt)=>Object.assign(Je,yt),{});return await Promise.all([bz(K,Xe,Be.signal,Ze,V.loaderData),_z(K,Fe,me)]),{loaderResults:Xe,fetcherResults:Fe}}function pe(){I=!0,j.push(...ce()),ie.forEach((V,K)=>{B.has(K)&&F.add(K),Ie(K)})}function $e(V,K,oe){oe===void 0&&(oe={}),_.fetchers.set(V,K),le({fetchers:new Map(_.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function Ce(V,K,oe,me){me===void 0&&(me={});let Be=gs(_.matches,K);dt(V),le({errors:{[Be.route.id]:oe},fetchers:new Map(_.fetchers)},{flushSync:(me&&me.flushSync)===!0})}function je(V){return u.v7_fetcherPersist&&(xe.set(V,(xe.get(V)||0)+1),Z.has(V)&&Z.delete(V)),_.fetchers.get(V)||iz}function dt(V){let K=_.fetchers.get(V);B.has(V)&&!(K&&K.state==="loading"&&W.has(V))&&Ie(V),ie.delete(V),W.delete(V),J.delete(V),Z.delete(V),F.delete(V),_.fetchers.delete(V)}function Ae(V){if(u.v7_fetcherPersist){let K=(xe.get(V)||0)-1;K<=0?(xe.delete(V),Z.add(V)):xe.set(V,K)}else dt(V);le({fetchers:new Map(_.fetchers)})}function Ie(V){let K=B.get(V);K&&(K.abort(),B.delete(V))}function tt(V){for(let K of V){let oe=je(K),me=fa(oe.data);_.fetchers.set(K,me)}}function rt(){let V=[],K=!1;for(let oe of J){let me=_.fetchers.get(oe);xt(me,"Expected fetcher: "+oe),me.state==="loading"&&(J.delete(oe),V.push(oe),K=!0)}return tt(V),K}function He(V){let K=[];for(let[oe,me]of W)if(me<V){let Be=_.fetchers.get(oe);xt(Be,"Expected fetcher: "+oe),Be.state==="loading"&&(Ie(oe),W.delete(oe),K.push(oe))}return tt(K),K.length>0}function St(V,K){let oe=_.blockers.get(V)||Hu;return be.get(V)!==K&&be.set(V,K),oe}function ut(V){_.blockers.delete(V),be.delete(V)}function Rt(V,K){let oe=_.blockers.get(V)||Hu;xt(oe.state==="unblocked"&&K.state==="blocked"||oe.state==="blocked"&&K.state==="blocked"||oe.state==="blocked"&&K.state==="proceeding"||oe.state==="blocked"&&K.state==="unblocked"||oe.state==="proceeding"&&K.state==="unblocked","Invalid blocker state transition: "+oe.state+" -> "+K.state);let me=new Map(_.blockers);me.set(V,K),le({blockers:me})}function q(V){let{currentLocation:K,nextLocation:oe,historyAction:me}=V;if(be.size===0)return;be.size>1&&Pc(!1,"A router only supports one blocker at a time");let Be=Array.from(be.entries()),[Ze,ot]=Be[Be.length-1],ze=_.blockers.get(Ze);if(!(ze&&ze.state==="proceeding")&&ot({currentLocation:K,nextLocation:oe,historyAction:me}))return Ze}function Re(V){let K=hr(404,{pathname:V}),oe=s||a,{matches:me,route:Be}=hA(oe);return ce(),{notFoundMatches:me,route:Be,error:K}}function ce(V){let K=[];return ue.forEach((oe,me)=>{(!V||V(me))&&(oe.cancel(),K.push(me),ue.delete(me))}),K}function ge(V,K,oe){if(m=V,g=K,v=oe||null,!p&&_.navigation===e0){p=!0;let me=ct(_.location,_.matches);me!=null&&le({restoreScrollPosition:me})}return()=>{m=null,g=null,v=null}}function ke(V,K){return v&&v(V,K.map(me=>I$(me,_.loaderData)))||V.key}function Ue(V,K){if(m&&g){let oe=ke(V,K);m[oe]=g()}}function ct(V,K){if(m){let oe=ke(V,K),me=m[oe];if(typeof me=="number")return me}return null}function Ht(V,K,oe){if(f)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:nm(K,oe,l,!0)}}else return{active:!0,matches:nm(K,oe,l,!0)||[]};return{active:!1,matches:null}}async function vn(V,K,oe){if(!f)return{type:"success",matches:V};let me=V;for(;;){let Be=s==null,Ze=s||a,ot=o;try{await f({path:K,matches:me,patch:(Fe,Je)=>{oe.aborted||sA(Fe,Je,Ze,ot,i)}})}catch(Fe){return{type:"error",error:Fe,partialMatches:me}}finally{Be&&!oe.aborted&&(a=[...a])}if(oe.aborted)return{type:"aborted"};let ze=vs(Ze,K,l);if(ze)return{type:"success",matches:ze};let Xe=nm(Ze,K,l,!0);if(!Xe||me.length===Xe.length&&me.every((Fe,Je)=>Fe.route.id===Xe[Je].route.id))return{type:"success",matches:null};me=Xe}}function Nt(V){o={},s=Um(V,i,void 0,o)}function Er(V,K){let oe=s==null;sA(V,K,s||a,o,i),oe&&(a=[...a],le({}))}return S={get basename(){return l},get future(){return u},get state(){return _},get routes(){return a},get window(){return e},initialize:_e,subscribe:ae,enableScrollRestoration:ge,navigate:se,fetch:Le,revalidate:k,createHref:V=>t.history.createHref(V),encodeLocation:V=>t.history.encodeLocation(V),getFetcher:je,deleteFetcher:Ae,dispose:Q,getBlocker:St,deleteBlocker:ut,patchRoutes:Er,_internalFetchControllers:B,_internalActiveDeferreds:ue,_internalSetRoutes:Nt},S}function sz(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function hb(t,e,n,r,i,o,a,s){let l,c;if(a){l=[];for(let u of e)if(l.push(u),u.route.id===a){c=u;break}}else l=e,c=e[e.length-1];let f=Zw(i||".",Kw(l,o),uu(t.pathname,n)||t.pathname,s==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&c){let u=e1(f.search);if(c.route.index&&!u)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&u){let d=new URLSearchParams(f.search),h=d.getAll("index");d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let m=d.toString();f.search=m?"?"+m:""}}return r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:No([n,f.pathname])),Bs(f)}function rA(t,e,n,r){if(!r||!sz(r))return{path:n};if(r.formMethod&&!xz(r.formMethod))return{path:n,error:hr(405,{method:r.formMethod})};let i=()=>({path:n,error:hr(400,{type:"invalid-body"})}),o=r.formMethod||"get",a=t?o.toUpperCase():o.toLowerCase(),s=DD(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Si(a))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,m)=>{let[v,g]=m;return""+h+v+"="+g+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Si(a))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}xt(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=mb(r.formData),c=r.formData;else if(r.body instanceof FormData)l=mb(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=cA(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=cA(l)}catch{return i()}let f={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Si(f.formMethod))return{path:n,submission:f};let u=Xa(n);return e&&u.search&&e1(u.search)&&l.append("index",""),u.search="?"+l,{path:Bs(u),submission:f}}function iA(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function oA(t,e,n,r,i,o,a,s,l,c,f,u,d,h,m,v){let g=v?Nr(v[1])?v[1].error:v[1].data:void 0,p=t.createURL(e.location),x=t.createURL(i),y=n;o&&e.errors?y=iA(n,Object.keys(e.errors)[0],!0):v&&Nr(v[1])&&(y=iA(n,v[0]));let b=v?v[1].statusCode:void 0,S=a&&b&&b>=400,_=y.filter((T,M)=>{let{route:A}=T;if(A.lazy)return!0;if(A.loader==null)return!1;if(o)return pb(A,e.loaderData,e.errors);if(lz(e.loaderData,e.matches[M],T)||l.some(L=>L===T.route.id))return!0;let P=e.matches[M],O=T;return aA(T,rn({currentUrl:p,currentParams:P.params,nextUrl:x,nextParams:O.params},r,{actionResult:g,actionStatus:b,defaultShouldRevalidate:S?!1:s||p.pathname+p.search===x.pathname+x.search||p.search!==x.search||RD(P,O)}))}),w=[];return u.forEach((T,M)=>{if(o||!n.some(I=>I.route.id===T.routeId)||f.has(M))return;let A=vs(h,T.path,m);if(!A){w.push({key:M,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let P=e.fetchers.get(M),O=mf(A,T.path),L=!1;d.has(M)?L=!1:c.has(M)?(c.delete(M),L=!0):P&&P.state!=="idle"&&P.data===void 0?L=s:L=aA(O,rn({currentUrl:p,currentParams:e.matches[e.matches.length-1].params,nextUrl:x,nextParams:n[n.length-1].params},r,{actionResult:g,actionStatus:b,defaultShouldRevalidate:S?!1:s})),L&&w.push({key:M,routeId:T.routeId,path:T.path,matches:A,match:O,controller:new AbortController})}),[_,w]}function pb(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function lz(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function RD(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function aA(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function sA(t,e,n,r,i){var o;let a;if(t){let c=r[t];xt(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),a=c.children}else a=n;let s=e.filter(c=>!a.some(f=>ND(c,f))),l=Um(s,i,[t||"_","patch",String(((o=a)==null?void 0:o.length)||"0")],r);a.push(...l)}function ND(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>ND(n,o))}):!1}async function cz(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];xt(i,"No route found in manifest");let o={};for(let a in r){let l=i[a]!==void 0&&a!=="hasErrorBoundary";Pc(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!D$.has(a)&&(o[a]=r[a])}Object.assign(i,o),Object.assign(i,rn({},e(i),{lazy:void 0}))}async function uz(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,a)=>Object.assign(i,{[n[a].route.id]:o}),{})}async function fz(t,e,n,r,i,o,a,s,l,c){let f=o.map(h=>h.route.lazy?cz(h.route,l,s):void 0),u=o.map((h,m)=>{let v=f[m],g=i.some(x=>x.route.id===h.route.id);return rn({},h,{shouldLoad:g,resolve:async x=>(x&&r.method==="GET"&&(h.route.lazy||h.route.loader)&&(g=!0),g?dz(e,r,h,v,x,c):Promise.resolve({type:Bt.data,result:void 0}))})}),d=await t({matches:u,request:r,params:o[0].params,fetcherKey:a,context:c});try{await Promise.all(f)}catch{}return d}async function dz(t,e,n,r,i,o){let a,s,l=c=>{let f,u=new Promise((m,v)=>f=v);s=()=>f(),e.signal.addEventListener("abort",s);let d=m=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:o},...m!==void 0?[m]:[]),h=(async()=>{try{return{type:"data",result:await(i?i(v=>d(v)):d())}}catch(m){return{type:"error",result:m}}})();return Promise.race([h,u])};try{let c=n.route[t];if(r)if(c){let f,[u]=await Promise.all([l(c).catch(d=>{f=d}),r]);if(f!==void 0)throw f;a=u}else if(await r,c=n.route[t],c)a=await l(c);else if(t==="action"){let f=new URL(e.url),u=f.pathname+f.search;throw hr(405,{method:e.method,pathname:u,routeId:n.route.id})}else return{type:Bt.data,result:void 0};else if(c)a=await l(c);else{let f=new URL(e.url),u=f.pathname+f.search;throw hr(404,{pathname:u})}xt(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Bt.error,result:c}}finally{s&&e.signal.removeEventListener("abort",s)}return a}async function hz(t){let{result:e,type:n}=t;if(LD(e)){let c;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(f){return{type:Bt.error,error:f}}return n===Bt.error?{type:Bt.error,error:new Fm(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Bt.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Bt.error){if(pA(e)){var r;if(e.data instanceof Error){var i;return{type:Bt.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Fm(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Bt.error,error:e,statusCode:pg(e)?e.status:void 0}}if(yz(e)){var o,a;return{type:Bt.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((a=e.init)==null?void 0:a.headers)&&new Headers(e.init.headers)}}if(pA(e)){var s,l;return{type:Bt.data,data:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Bt.data,data:e}}function pz(t,e,n,r,i,o){let a=t.headers.get("Location");if(xt(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Jw.test(a)){let s=r.slice(0,r.findIndex(l=>l.route.id===n)+1);a=hb(new URL(e.url),s,i,!0,a,o),t.headers.set("Location",a)}return t}function lA(t,e,n){if(Jw.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=uu(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function dl(t,e,n,r){let i=t.createURL(DD(e)).toString(),o={signal:n};if(r&&Si(r.formMethod)){let{formMethod:a,formEncType:s}=r;o.method=a.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(r.json)):s==="text/plain"?o.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?o.body=mb(r.formData):o.body=r.formData}return new Request(i,o)}function mb(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function cA(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function mz(t,e,n,r,i){let o={},a=null,s,l=!1,c={},f=n&&Nr(n[1])?n[1].error:void 0;return t.forEach(u=>{if(!(u.route.id in e))return;let d=u.route.id,h=e[d];if(xt(!Es(h),"Cannot handle redirect results in processLoaderData"),Nr(h)){let m=h.error;f!==void 0&&(m=f,f=void 0),a=a||{};{let v=gs(t,d);a[v.route.id]==null&&(a[v.route.id]=m)}o[d]=void 0,l||(l=!0,s=pg(h.error)?h.error.status:500),h.headers&&(c[d]=h.headers)}else wa(h)?(r.set(d,h.deferredData),o[d]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(s=h.statusCode),h.headers&&(c[d]=h.headers)):(o[d]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(s=h.statusCode),h.headers&&(c[d]=h.headers))}),f!==void 0&&n&&(a={[n[0]]:f},o[n[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:c}}function uA(t,e,n,r,i,o,a){let{loaderData:s,errors:l}=mz(e,n,r,a);return i.forEach(c=>{let{key:f,match:u,controller:d}=c,h=o[f];if(xt(h,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(Nr(h)){let m=gs(t.matches,u==null?void 0:u.route.id);l&&l[m.route.id]||(l=rn({},l,{[m.route.id]:h.error})),t.fetchers.delete(f)}else if(Es(h))xt(!1,"Unhandled fetcher revalidation redirect");else if(wa(h))xt(!1,"Unhandled fetcher deferred data");else{let m=fa(h.data);t.fetchers.set(f,m)}}),{loaderData:s,errors:l}}function fA(t,e,n,r){let i=rn({},e);for(let o of n){let a=o.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&o.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function dA(t){return t?Nr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function gs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function hA(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hr(t,e){let{pathname:n,routeId:r,method:i,type:o,message:a}=e===void 0?{}:e,s="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(s="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",l='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Fm(t||500,s,new Error(l),!0)}function Hh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Es(i))return{key:r,result:i}}}function DD(t){let e=typeof t=="string"?Xa(t):t;return Bs(rn({},e,{hash:""}))}function vz(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function gz(t){return LD(t.result)&&nz.has(t.result.status)}function wa(t){return t.type===Bt.deferred}function Nr(t){return t.type===Bt.error}function Es(t){return(t&&t.type)===Bt.redirect}function pA(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function yz(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function LD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function xz(t){return tz.has(t.toLowerCase())}function Si(t){return Q$.has(t.toLowerCase())}async function bz(t,e,n,r,i){let o=Object.entries(e);for(let a=0;a<o.length;a++){let[s,l]=o[a],c=t.find(d=>(d==null?void 0:d.route.id)===s);if(!c)continue;let f=r.find(d=>d.route.id===c.route.id),u=f!=null&&!RD(f,c)&&(i&&i[c.route.id])!==void 0;wa(l)&&u&&await Qw(l,n,!1).then(d=>{d&&(e[s]=d)})}}async function _z(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:a}=n[r],s=e[i];t.find(c=>(c==null?void 0:c.route.id)===o)&&wa(s)&&(xt(a,"Expected an AbortController for revalidating fetcher deferred result"),await Qw(s,a.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function Qw(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Bt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Bt.error,error:i}}return{type:Bt.data,data:t.deferredData.data}}}function e1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function mf(t,e){let n=typeof e=="string"?Xa(e).search:e.search;if(t[t.length-1].route.index&&e1(n||""))return t[t.length-1];let r=PD(t);return r[r.length-1]}function mA(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function t0(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Sz(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Vu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function wz(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function fa(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ez(t,e){try{let n=t.sessionStorage.getItem(OD);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function Mz(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(OD,JSON.stringify(n))}catch(r){Pc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jm(){return jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jm.apply(this,arguments)}const mg=C.createContext(null),ID=C.createContext(null),nl=C.createContext(null),t1=C.createContext(null),qa=C.createContext({outlet:null,matches:[],isDataRoute:!1}),kD=C.createContext(null);function Az(t,e){let{relative:n}=e===void 0?{}:e;ih()||xt(!1);let{basename:r,navigator:i}=C.useContext(nl),{hash:o,pathname:a,search:s}=FD(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:No([r,a])),i.createHref({pathname:l,search:s,hash:o})}function ih(){return C.useContext(t1)!=null}function oh(){return ih()||xt(!1),C.useContext(t1).location}function UD(t){C.useContext(nl).static||C.useLayoutEffect(t)}function Tz(){let{isDataRoute:t}=C.useContext(qa);return t?$z():Pz()}function Pz(){ih()||xt(!1);let t=C.useContext(mg),{basename:e,future:n,navigator:r}=C.useContext(nl),{matches:i}=C.useContext(qa),{pathname:o}=oh(),a=JSON.stringify(Kw(i,n.v7_relativeSplatPath)),s=C.useRef(!1);return UD(()=>{s.current=!0}),C.useCallback(function(c,f){if(f===void 0&&(f={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let u=Zw(c,JSON.parse(a),o,f.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:No([e,u.pathname])),(f.replace?r.replace:r.push)(u,f.state,f)},[e,r,a,o,t])}const Cz=C.createContext(null);function Oz(t){let e=C.useContext(qa).outlet;return e&&C.createElement(Cz.Provider,{value:t},e)}function FD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(nl),{matches:i}=C.useContext(qa),{pathname:o}=oh(),a=JSON.stringify(Kw(i,r.v7_relativeSplatPath));return C.useMemo(()=>Zw(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function Rz(t,e,n,r){ih()||xt(!1);let{navigator:i}=C.useContext(nl),{matches:o}=C.useContext(qa),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=oh(),f;f=c;let u=f.pathname||"/",d=u;if(l!=="/"){let v=l.replace(/^\//,"").split("/");d="/"+u.replace(/^\//,"").split("/").slice(v.length).join("/")}let h=vs(t,{pathname:d});return kz(h&&h.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:No([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:No([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r)}function Nz(){let t=Bz(),e=pg(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,null)}const Dz=C.createElement(Nz,null);class Lz extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(qa.Provider,{value:this.props.routeContext},C.createElement(kD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Iz(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(mg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(qa.Provider,{value:e},r)}function kz(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let f=a.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);f>=0||xt(!1),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let u=a[f];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=f),u.route.id){let{loaderData:d,errors:h}=n,m=u.route.loader&&d[u.route.id]===void 0&&(!h||h[u.route.id]===void 0);if(u.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,u,d)=>{let h,m=!1,v=null,g=null;n&&(h=s&&u.route.id?s[u.route.id]:void 0,v=u.route.errorElement||Dz,l&&(c<0&&d===0?(m=!0,g=null):c===d&&(m=!0,g=u.route.hydrateFallbackElement||null)));let p=e.concat(a.slice(0,d+1)),x=()=>{let y;return h?y=v:m?y=g:u.route.Component?y=C.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=f,C.createElement(Iz,{match:u,routeContext:{outlet:f,matches:p,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?C.createElement(Lz,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:x(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):x()},null)}var jD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jD||{}),Bm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bm||{});function Uz(t){let e=C.useContext(mg);return e||xt(!1),e}function Fz(t){let e=C.useContext(ID);return e||xt(!1),e}function jz(t){let e=C.useContext(qa);return e||xt(!1),e}function BD(t){let e=jz(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function Bz(){var t;let e=C.useContext(kD),n=Fz(Bm.UseRouteError),r=BD(Bm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $z(){let{router:t}=Uz(jD.UseNavigateStable),e=BD(Bm.UseNavigateStable),n=C.useRef(!1);return UD(()=>{n.current=!0}),C.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,jm({fromRouteId:e},o)))},[t,e])}const vA={};function zz(t,e){vA[e]||(vA[e]=!0,console.warn(e))}const hl=(t,e,n)=>zz(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Hz(t,e){t!=null&&t.v7_startTransition||hl("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&(!e||!e.v7_relativeSplatPath)&&hl("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist||hl("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod||hl("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration||hl("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation||hl("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function Vz(t){return Oz(t.context)}function Gi(t){xt(!1)}function Gz(t){let{basename:e="/",children:n=null,location:r,navigationType:i=_n.Pop,navigator:o,static:a=!1,future:s}=t;ih()&&xt(!1);let l=e.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:o,static:a,future:jm({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Xa(r));let{pathname:f="/",search:u="",hash:d="",state:h=null,key:m="default"}=r,v=C.useMemo(()=>{let g=uu(f,l);return g==null?null:{location:{pathname:g,search:u,hash:d,state:h,key:m},navigationType:i}},[l,f,u,d,h,m,i]);return v==null?null:C.createElement(nl.Provider,{value:c},C.createElement(t1.Provider,{children:n,value:v}))}new Promise(()=>{});function vb(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let o=[...e,i];if(r.type===C.Fragment){n.push.apply(n,vb(r.props.children,o));return}r.type!==Gi&&xt(!1),!r.props.index||!r.props.children||xt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=vb(r.props.children,o)),n.push(a)}),n}function Wz(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:C.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:C.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:C.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function od(){return od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},od.apply(this,arguments)}function Xz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function qz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Yz(t,e){return t.button===0&&(!e||e==="_self")&&!qz(t)}const Kz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Zz="6";try{window.__reactRouterVersion=Zz}catch{}function Jz(t,e){return az({basename:e==null?void 0:e.basename,future:od({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:O$({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Qz(),routes:t,mapRouteProperties:Wz,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Qz(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=od({},e,{errors:e4(e.errors)})),e}function e4(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Fm(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let a=new o(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const t4=C.createContext({isTransitioning:!1}),n4=C.createContext(new Map),r4="startTransition",gA=_2[r4],i4="flushSync",yA=C$[i4];function o4(t){gA?gA(t):t()}function Gu(t){yA?yA(t):t()}class a4{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function s4(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=C.useState(n.state),[a,s]=C.useState(),[l,c]=C.useState({isTransitioning:!1}),[f,u]=C.useState(),[d,h]=C.useState(),[m,v]=C.useState(),g=C.useRef(new Map),{v7_startTransition:p}=r||{},x=C.useCallback(T=>{p?o4(T):T()},[p]),y=C.useCallback((T,M)=>{let{deletedFetchers:A,flushSync:P,viewTransitionOpts:O}=M;A.forEach(I=>g.current.delete(I)),T.fetchers.forEach((I,j)=>{I.data!==void 0&&g.current.set(j,I.data)});let L=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!O||L){P?Gu(()=>o(T)):x(()=>o(T));return}if(P){Gu(()=>{d&&(f&&f.resolve(),d.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let I=n.window.document.startViewTransition(()=>{Gu(()=>o(T))});I.finished.finally(()=>{Gu(()=>{u(void 0),h(void 0),s(void 0),c({isTransitioning:!1})})}),Gu(()=>h(I));return}d?(f&&f.resolve(),d.skipTransition(),v({state:T,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(s(T),c({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[n.window,d,f,g,x]);C.useLayoutEffect(()=>n.subscribe(y),[n,y]),C.useEffect(()=>{l.isTransitioning&&!l.flushSync&&u(new a4)},[l]),C.useEffect(()=>{if(f&&a&&n.window){let T=a,M=f.promise,A=n.window.document.startViewTransition(async()=>{x(()=>o(T)),await M});A.finished.finally(()=>{u(void 0),h(void 0),s(void 0),c({isTransitioning:!1})}),h(A)}},[x,a,f,n.window]),C.useEffect(()=>{f&&a&&i.location.key===a.location.key&&f.resolve()},[f,d,i.location,a]),C.useEffect(()=>{!l.isTransitioning&&m&&(s(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),v(void 0))},[l.isTransitioning,m]),C.useEffect(()=>{},[]);let b=C.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:T=>n.navigate(T),push:(T,M,A)=>n.navigate(T,{state:M,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(T,M,A)=>n.navigate(T,{replace:!0,state:M,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),S=n.basename||"/",_=C.useMemo(()=>({router:n,navigator:b,static:!1,basename:S}),[n,b,S]),w=C.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return C.useEffect(()=>Hz(r,n.future),[r,n.future]),C.createElement(C.Fragment,null,C.createElement(mg.Provider,{value:_},C.createElement(ID.Provider,{value:i},C.createElement(n4.Provider,{value:g.current},C.createElement(t4.Provider,{value:l},C.createElement(Gz,{basename:S,location:i.location,navigationType:i.historyAction,navigator:b,future:w},i.initialized||n.future.v7_partialHydration?C.createElement(l4,{routes:n.routes,future:n.future,state:i}):e))))),null)}const l4=C.memo(c4);function c4(t){let{routes:e,future:n,state:r}=t;return Rz(e,void 0,r,n)}const u4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vf=C.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:f,viewTransition:u}=e,d=Xz(e,Kz),{basename:h}=C.useContext(nl),m,v=!1;if(typeof c=="string"&&f4.test(c)&&(m=c,u4))try{let y=new URL(window.location.href),b=c.startsWith("//")?new URL(y.protocol+c):new URL(c),S=uu(b.pathname,h);b.origin===y.origin&&S!=null?c=S+b.search+b.hash:v=!0}catch{}let g=Az(c,{relative:i}),p=d4(c,{replace:a,state:s,target:l,preventScrollReset:f,relative:i,viewTransition:u});function x(y){r&&r(y),y.defaultPrevented||p(y)}return C.createElement("a",od({},d,{href:m||g,onClick:v||o?r:x,ref:n,target:l}))});var xA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xA||(xA={}));var bA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bA||(bA={}));function d4(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=Tz(),c=oh(),f=FD(t,{relative:a});return C.useCallback(u=>{if(Yz(u,n)){u.preventDefault();let d=r!==void 0?r:Bs(c)===Bs(f);l(t,{replace:d,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[c,l,f,r,i,n,t,o,a,s])}const h4=()=>E.jsx("div",{className:"navigation",children:E.jsxs("div",{className:"button-container",children:[E.jsx(vf,{to:"/",children:E.jsx("button",{id:"homeButton",className:"button","aria-label":"Go to Home",children:E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-book-open",children:[E.jsx("path",{d:"M12 7v14"}),E.jsx("path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"})]})})}),E.jsx(vf,{to:"/about",children:E.jsx("button",{className:"button",id:"aboutButton","aria-label":"Go to About Page",children:E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle-user-round",children:[E.jsx("path",{d:"M18 20a6 6 0 0 0-12 0"}),E.jsx("circle",{cx:"12",cy:"10",r:"4"}),E.jsx("circle",{cx:"12",cy:"12",r:"10"})]})})}),E.jsx(vf,{to:"/blog",children:E.jsx("button",{className:"button",id:"blogButton",children:E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-pencil-line",children:[E.jsx("path",{d:"M12 20h9"}),E.jsx("path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z"}),E.jsx("path",{d:"m15 5 3 3"})]})})}),E.jsx(vf,{to:"/contact",children:E.jsx("button",{className:"button",id:"contactButton",children:E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-mail",children:[E.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),E.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]})})})]})}),p4=({title:t,tag:e,link:n,isImage:r,imageSrc:i})=>E.jsx("div",{className:"card-wrapper",children:E.jsx(vf,{to:n,children:E.jsx("div",{className:"project-card border-[0.5px] border-[#9a9a9a] p-8 rounded-lg backdrop-blur-lg w-80 h-80 flex items-center justify-center relative",style:{background:"radial-gradient(circle, #24242410, #0000003e)"},children:E.jsxs("div",{className:"text-center",children:[e&&E.jsx("span",{className:"absolute top-5 left-5 text-white py-1 rounded text-xs font-semibold",children:e}),r?E.jsx("img",{src:i,alt:t,loading:"lazy"}):E.jsx("p",{className:"text-5xl font-bold",children:t})]})})})});function m4(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]}["SCREEN","LINEAR_LIGHT"].reduce((t,e,n)=>Object.assign(t,{[e]:n}),{});class v4{constructor(e,n,r,i=!1){const o=this,a=document.location.search.toLowerCase().indexOf("debug=webgl")!==-1;o.canvas=e,o.gl=o.canvas.getContext("webgl",{antialias:!0}),o.meshes=[];const s=o.gl;n&&r&&this.setSize(n,r),o.lastDebugMsg,o.debug=i&&a?function(c){const f=new Date;f-o.lastDebugMsg>1e3&&console.log("---"),console.log(f.toLocaleTimeString()+Array(Math.max(0,32-c.length)).join(" ")+c+": ",...Array.from(arguments).slice(1)),o.lastDebugMsg=f}:()=>{},Object.defineProperties(o,{Material:{enumerable:!1,value:class{constructor(c,f,u={}){const d=this;function h(g,p){const x=s.createShader(g);return s.shaderSource(x,p),s.compileShader(x),s.getShaderParameter(x,s.COMPILE_STATUS)||console.error(s.getShaderInfoLog(x)),o.debug("Material.compileShaderSource",{source:p}),x}function m(g,p){return Object.entries(g).map(([x,y])=>y.getDeclaration(x,p)).join(`
`)}d.uniforms=u,d.uniformInstances=[];const v=`
              precision highp float;
            `;d.vertexSource=`
              ${v}
              attribute vec4 position;
              attribute vec2 uv;
              attribute vec2 uvNorm;
              ${m(o.commonUniforms,"vertex")}
              ${m(u,"vertex")}
              ${c}
            `,d.Source=`
              ${v}
              ${m(o.commonUniforms,"fragment")}
              ${m(u,"fragment")}
              ${f}
            `,d.vertexShader=h(s.VERTEX_SHADER,d.vertexSource),d.fragmentShader=h(s.FRAGMENT_SHADER,d.Source),d.program=s.createProgram(),s.attachShader(d.program,d.vertexShader),s.attachShader(d.program,d.fragmentShader),s.linkProgram(d.program),s.getProgramParameter(d.program,s.LINK_STATUS)||console.error(s.getProgramInfoLog(d.program)),s.useProgram(d.program),d.attachUniforms(void 0,o.commonUniforms),d.attachUniforms(void 0,d.uniforms)}attachUniforms(c,f){const u=this;c===void 0?Object.entries(f).forEach(([d,h])=>{u.attachUniforms(d,h)}):f.type=="array"?f.value.forEach((d,h)=>u.attachUniforms(`${c}[${h}]`,d)):f.type=="struct"?Object.entries(f.value).forEach(([d,h])=>u.attachUniforms(`${c}.${d}`,h)):(o.debug("Material.attachUniforms",{name:c,uniform:f}),u.uniformInstances.push({uniform:f,location:s.getUniformLocation(u.program,c)}))}}},Uniform:{enumerable:!1,value:class{constructor(c){this.type="float",Object.assign(this,c),this.typeFn={float:"1f",int:"1i",vec2:"2fv",vec3:"3fv",vec4:"4fv",mat4:"Matrix4fv"}[this.type]||"1f",this.update()}update(c){this.value!==void 0&&s[`uniform${this.typeFn}`](c,this.typeFn.indexOf("Matrix")===0?this.transpose:this.value,this.typeFn.indexOf("Matrix")===0?this.value:null)}getDeclaration(c,f,u){const d=this;if(d.excludeFrom!==f){if(d.type==="array")return d.value[0].getDeclaration(c,f,d.value.length)+`
const int ${c}_length = ${d.value.length};`;if(d.type==="struct"){let h=c.replace("u_","");return h=h.charAt(0).toUpperCase()+h.slice(1),`uniform struct ${h} 
                                  {
`+Object.entries(d.value).map(([m,v])=>v.getDeclaration(m,f).replace(/^uniform/,"")).join("")+`
} ${c}${u>0?`[${u}]`:""};`}return`uniform ${d.type} ${c}${u>0?`[${u}]`:""};`}}}},PlaneGeometry:{enumerable:!1,value:class{constructor(c,f,u,d,h){s.createBuffer(),this.attributes={position:new o.Attribute({target:s.ARRAY_BUFFER,size:3}),uv:new o.Attribute({target:s.ARRAY_BUFFER,size:2}),uvNorm:new o.Attribute({target:s.ARRAY_BUFFER,size:2}),index:new o.Attribute({target:s.ELEMENT_ARRAY_BUFFER,size:3,type:s.UNSIGNED_SHORT})},this.setTopology(u,d),this.setSize(c,f,h)}setTopology(c=1,f=1){const u=this;u.xSegCount=c,u.ySegCount=f,u.vertexCount=(u.xSegCount+1)*(u.ySegCount+1),u.quadCount=u.xSegCount*u.ySegCount*2,u.attributes.uv.values=new Float32Array(2*u.vertexCount),u.attributes.uvNorm.values=new Float32Array(2*u.vertexCount),u.attributes.index.values=new Uint16Array(3*u.quadCount);for(let d=0;d<=u.ySegCount;d++)for(let h=0;h<=u.xSegCount;h++){const m=d*(u.xSegCount+1)+h;if(u.attributes.uv.values[2*m]=h/u.xSegCount,u.attributes.uv.values[2*m+1]=1-d/u.ySegCount,u.attributes.uvNorm.values[2*m]=h/u.xSegCount*2-1,u.attributes.uvNorm.values[2*m+1]=1-d/u.ySegCount*2,h<u.xSegCount&&d<u.ySegCount){const v=d*u.xSegCount+h;u.attributes.index.values[6*v]=m,u.attributes.index.values[6*v+1]=m+1+u.xSegCount,u.attributes.index.values[6*v+2]=m+1,u.attributes.index.values[6*v+3]=m+1,u.attributes.index.values[6*v+4]=m+1+u.xSegCount,u.attributes.index.values[6*v+5]=m+2+u.xSegCount}}u.attributes.uv.update(),u.attributes.uvNorm.update(),u.attributes.index.update(),o.debug("Geometry.setTopology",{uv:u.attributes.uv,uvNorm:u.attributes.uvNorm,index:u.attributes.index})}setSize(c=1,f=1,u="xz"){const d=this;d.width=c,d.height=f,d.orientation=u,d.attributes.position.values&&d.attributes.position.values.length===3*d.vertexCount||(d.attributes.position.values=new Float32Array(3*d.vertexCount));const h=c/-2,m=f/-2,v=c/d.xSegCount,g=f/d.ySegCount;for(let p=0;p<=d.ySegCount;p++){const x=m+p*g;for(let y=0;y<=d.xSegCount;y++){const b=h+y*v,S=p*(d.xSegCount+1)+y;d.attributes.position.values[3*S+"xyz".indexOf(u[0])]=b,d.attributes.position.values[3*S+"xyz".indexOf(u[1])]=-x}}d.attributes.position.update(),o.debug("Geometry.setSize",{position:d.attributes.position})}}},Mesh:{enumerable:!1,value:class{constructor(c,f){const u=this;u.geometry=c,u.material=f,u.wireframe=!1,u.attributeInstances=[],Object.entries(u.geometry.attributes).forEach(([d,h])=>{u.attributeInstances.push({attribute:h,location:h.attach(d,u.material.program)})}),o.meshes.push(u),o.debug("Mesh.constructor",{mesh:u})}draw(){s.useProgram(this.material.program),this.material.uniformInstances.forEach(({uniform:c,location:f})=>c.update(f)),this.attributeInstances.forEach(({attribute:c,location:f})=>c.use(f)),s.drawElements(this.wireframe?s.LINES:s.TRIANGLES,this.geometry.attributes.index.values.length,s.UNSIGNED_SHORT,0)}remove(){o.meshes=o.meshes.filter(c=>c!=this)}}},Attribute:{enumerable:!1,value:class{constructor(c){this.type=s.FLOAT,this.normalized=!1,this.buffer=s.createBuffer(),Object.assign(this,c),this.update()}update(){this.values!==void 0&&(s.bindBuffer(this.target,this.buffer),s.bufferData(this.target,this.values,s.STATIC_DRAW))}attach(c,f){const u=s.getAttribLocation(f,c);return this.target===s.ARRAY_BUFFER&&(s.enableVertexAttribArray(u),s.vertexAttribPointer(u,this.size,this.type,this.normalized,0,0)),u}use(c){s.bindBuffer(this.target,this.buffer),this.target===s.ARRAY_BUFFER&&(s.enableVertexAttribArray(c),s.vertexAttribPointer(c,this.size,this.type,this.normalized,0,0))}}}});const l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];o.commonUniforms={projectionMatrix:new o.Uniform({type:"mat4",value:l}),modelViewMatrix:new o.Uniform({type:"mat4",value:l}),resolution:new o.Uniform({type:"vec2",value:[1,1]}),aspectRatio:new o.Uniform({type:"float",value:1})}}setSize(e=640,n=480){this.width=e,this.height=n,this.canvas.width=e,this.canvas.height=n,this.gl.viewport(0,0,e,n),this.commonUniforms.resolution.value=[e,n],this.commonUniforms.aspectRatio.value=e/n,this.debug("MiniGL.setSize",{width:e,height:n})}setOrthographicCamera(e=0,n=0,r=0,i=-2e3,o=2e3){this.commonUniforms.projectionMatrix.value=[2/this.width,0,0,0,0,2/this.height,0,0,0,0,2/(i-o),0,e,n,r,1],this.debug("setOrthographicCamera",this.commonUniforms.projectionMatrix.value)}render(){this.gl.clearColor(0,0,0,0),this.gl.clearDepth(1),this.meshes.forEach(e=>e.draw())}}function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class $D{constructor(...e){st(this,"el",void 0),st(this,"cssVarRetries",0),st(this,"maxCssVarRetries",200),st(this,"angle",0),st(this,"isLoadedClass",!1),st(this,"isScrolling",!1),st(this,"scrollingTimeout",void 0),st(this,"scrollingRefreshDelay",200),st(this,"isIntersecting",!1),st(this,"shaderFiles",void 0),st(this,"vertexShader",void 0),st(this,"sectionColors",void 0),st(this,"computedCanvasStyle",void 0),st(this,"conf",void 0),st(this,"uniforms",void 0),st(this,"t",1253106),st(this,"last",0),st(this,"width",void 0),st(this,"minWidth",1111),st(this,"height",600),st(this,"xSegCount",void 0),st(this,"ySegCount",void 0),st(this,"mesh",void 0),st(this,"material",void 0),st(this,"geometry",void 0),st(this,"minigl",void 0),st(this,"scrollObserver",void 0),st(this,"amp",320),st(this,"seed",5),st(this,"freqX",14e-5),st(this,"freqY",29e-5),st(this,"freqDelta",1e-5),st(this,"activeColors",[1,1,1,1]),st(this,"isMetaKey",!1),st(this,"isGradientLegendVisible",!1),st(this,"isMouseDown",!1),st(this,"handleScroll",()=>{clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(this.handleScrollEnd,this.scrollingRefreshDelay),this.isGradientLegendVisible&&this.hideGradientLegend(),this.conf.playing&&(this.isScrolling=!0,this.pause())}),st(this,"handleScrollEnd",()=>{this.isScrolling=!1,this.isIntersecting&&this.play()}),st(this,"resize",()=>{this.width=window.innerWidth,this.minigl.setSize(this.width,this.height),this.minigl.setOrthographicCamera(),this.xSegCount=Math.ceil(this.width*this.conf.density[0]),this.ySegCount=Math.ceil(this.height*this.conf.density[1]),this.mesh.geometry.setTopology(this.xSegCount,this.ySegCount),this.mesh.geometry.setSize(this.width,this.height),this.mesh.material.uniforms.u_shadow_power.value=this.width<600?5:6}),st(this,"handleMouseDown",n=>{this.isGradientLegendVisible&&(this.isMetaKey=n.metaKey,this.isMouseDown=!0,this.conf.playing===!1&&requestAnimationFrame(this.animate))}),st(this,"handleMouseUp",()=>{this.isMouseDown=!1}),st(this,"animate",n=>{if(!this.shouldSkipFrame(n)||this.isMouseDown){if(this.t+=Math.min(n-this.last,1e3/15),this.last=n,this.isMouseDown){let r=160;this.isMetaKey&&(r=-160),this.t+=r}this.mesh.material.uniforms.u_time.value=this.t,this.minigl.render()}if(this.last!==0&&this.isStatic)return this.minigl.render(),void this.disconnect();(this.conf.playing||this.isMouseDown)&&requestAnimationFrame(this.animate)}),st(this,"addIsLoadedClass",()=>{!this.isLoadedClass&&(this.isLoadedClass=!0,this.el.classList.add("isLoaded"),setTimeout(()=>{this.el.parentElement.classList.add("isLoaded")},3e3))}),st(this,"pause",()=>{this.conf.playing=!1}),st(this,"play",()=>{requestAnimationFrame(this.animate),this.conf.playing=!0}),st(this,"initGradient",n=>(this.el=document.querySelector(n),this.connect(),this))}async connect(){this.shaderFiles={vertex:`varying vec3 v_color;

void main() {
  float time = u_time * u_global.noiseSpeed;

  vec2 noiseCoord = resolution * uvNorm * u_global.noiseFreq;

  vec2 st = 1. - uvNorm.xy;

  //
  // Tilting the plane
  //

  // Front-to-back tilt
  float tilt = resolution.y / 2.0 * uvNorm.y;

  // Left-to-right angle
  float incline = resolution.x * uvNorm.x / 2.0 * u_vertDeform.incline;

  // Up-down shift to offset incline
  float offset = resolution.x / 2.0 * u_vertDeform.incline * mix(u_vertDeform.offsetBottom, u_vertDeform.offsetTop, uv.y);

  //
  // Vertex noise
  //

  float noise = snoise(vec3(
    noiseCoord.x * u_vertDeform.noiseFreq.x + time * u_vertDeform.noiseFlow,
    noiseCoord.y * u_vertDeform.noiseFreq.y,
    time * u_vertDeform.noiseSpeed + u_vertDeform.noiseSeed
  )) * u_vertDeform.noiseAmp;

  // Fade noise to zero at edges
  noise *= 1.0 - pow(abs(uvNorm.y), 2.0);

  // Clamp to 0
  noise = max(0.0, noise);

  vec3 pos = vec3(
    position.x,
    position.y + tilt + incline + noise - offset,
    position.z
  );

  //
  // Vertex color, to be passed to fragment shader
  //

  if (u_active_colors[0] == 1.) {
    v_color = u_baseColor;
  }

  for (int i = 0; i < u_waveLayers_length; i++) {
    if (u_active_colors[i + 1] == 1.) {
      WaveLayers layer = u_waveLayers[i];

      float noise = smoothstep(
        layer.noiseFloor,
        layer.noiseCeil,
        snoise(vec3(
          noiseCoord.x * layer.noiseFreq.x + time * layer.noiseFlow,
          noiseCoord.y * layer.noiseFreq.y,
          time * layer.noiseSpeed + layer.noiseSeed
        )) / 2.0 + 0.5
      );

      v_color = blendNormal(v_color, layer.color, pow(noise, 4.));
    }
  }

  //
  // Finish
  //

  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
}`,noise:`//
// Description : Array and textureless GLSL 2D/3D/4D simplex
//               noise functions.
//      Author : Ian McEwan, Ashima Arts.
//  Maintainer : stegu
//     Lastmod : 20110822 (ijm)
//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.
//               Distributed under the MIT License. See LICENSE file.
//               https://github.com/ashima/webgl-noise
//               https://github.com/stegu/webgl-noise
//

vec3 mod289(vec3 x) {
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 mod289(vec4 x) {
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 permute(vec4 x) {
    return mod289(((x*34.0)+1.0)*x);
}

vec4 taylorInvSqrt(vec4 r)
{
  return 1.79284291400159 - 0.85373472095314 * r;
}

float snoise(vec3 v)
{
  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);

// First corner
  vec3 i  = floor(v + dot(v, C.yyy) );
  vec3 x0 =   v - i + dot(i, C.xxx) ;

// Other corners
  vec3 g = step(x0.yzx, x0.xyz);
  vec3 l = 1.0 - g;
  vec3 i1 = min( g.xyz, l.zxy );
  vec3 i2 = max( g.xyz, l.zxy );

  //   x0 = x0 - 0.0 + 0.0 * C.xxx;
  //   x1 = x0 - i1  + 1.0 * C.xxx;
  //   x2 = x0 - i2  + 2.0 * C.xxx;
  //   x3 = x0 - 1.0 + 3.0 * C.xxx;
  vec3 x1 = x0 - i1 + C.xxx;
  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y
  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y

// Permutations
  i = mod289(i);
  vec4 p = permute( permute( permute(
            i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
          + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
          + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));

// Gradients: 7x7 points over a square, mapped onto an octahedron.
// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)
  float n_ = 0.142857142857; // 1.0/7.0
  vec3  ns = n_ * D.wyz - D.xzx;

  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)

  vec4 x_ = floor(j * ns.z);
  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)

  vec4 x = x_ *ns.x + ns.yyyy;
  vec4 y = y_ *ns.x + ns.yyyy;
  vec4 h = 1.0 - abs(x) - abs(y);

  vec4 b0 = vec4( x.xy, y.xy );
  vec4 b1 = vec4( x.zw, y.zw );

  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;
  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;
  vec4 s0 = floor(b0)*2.0 + 1.0;
  vec4 s1 = floor(b1)*2.0 + 1.0;
  vec4 sh = -step(h, vec4(0.0));

  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;

  vec3 p0 = vec3(a0.xy,h.x);
  vec3 p1 = vec3(a0.zw,h.y);
  vec3 p2 = vec3(a1.xy,h.z);
  vec3 p3 = vec3(a1.zw,h.w);

//Normalise gradients
  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
  p0 *= norm.x;
  p1 *= norm.y;
  p2 *= norm.z;
  p3 *= norm.w;

// Mix final noise value
  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
  m = m * m;
  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),
                                dot(p2,x2), dot(p3,x3) ) );
}`,blend:`//
// https://github.com/jamieowen/glsl-blend
//

// Normal

vec3 blendNormal(vec3 base, vec3 blend) {
	return blend;
}

vec3 blendNormal(vec3 base, vec3 blend, float opacity) {
	return (blendNormal(base, blend) * opacity + base * (1.0 - opacity));
}

// Screen

float blendScreen(float base, float blend) {
	return 1.0-((1.0-base)*(1.0-blend));
}

vec3 blendScreen(vec3 base, vec3 blend) {
	return vec3(blendScreen(base.r,blend.r),blendScreen(base.g,blend.g),blendScreen(base.b,blend.b));
}

vec3 blendScreen(vec3 base, vec3 blend, float opacity) {
	return (blendScreen(base, blend) * opacity + base * (1.0 - opacity));
}

// Multiply

vec3 blendMultiply(vec3 base, vec3 blend) {
	return base*blend;
}

vec3 blendMultiply(vec3 base, vec3 blend, float opacity) {
	return (blendMultiply(base, blend) * opacity + base * (1.0 - opacity));
}

// Overlay

float blendOverlay(float base, float blend) {
	return base<0.5?(2.0*base*blend):(1.0-2.0*(1.0-base)*(1.0-blend));
}

vec3 blendOverlay(vec3 base, vec3 blend) {
	return vec3(blendOverlay(base.r,blend.r),blendOverlay(base.g,blend.g),blendOverlay(base.b,blend.b));
}

vec3 blendOverlay(vec3 base, vec3 blend, float opacity) {
	return (blendOverlay(base, blend) * opacity + base * (1.0 - opacity));
}

// Hard light

vec3 blendHardLight(vec3 base, vec3 blend) {
	return blendOverlay(blend,base);
}

vec3 blendHardLight(vec3 base, vec3 blend, float opacity) {
	return (blendHardLight(base, blend) * opacity + base * (1.0 - opacity));
}

// Soft light

float blendSoftLight(float base, float blend) {
	return (blend<0.5)?(2.0*base*blend+base*base*(1.0-2.0*blend)):(sqrt(base)*(2.0*blend-1.0)+2.0*base*(1.0-blend));
}

vec3 blendSoftLight(vec3 base, vec3 blend) {
	return vec3(blendSoftLight(base.r,blend.r),blendSoftLight(base.g,blend.g),blendSoftLight(base.b,blend.b));
}

vec3 blendSoftLight(vec3 base, vec3 blend, float opacity) {
	return (blendSoftLight(base, blend) * opacity + base * (1.0 - opacity));
}

// Color dodge

float blendColorDodge(float base, float blend) {
	return (blend==1.0)?blend:min(base/(1.0-blend),1.0);
}

vec3 blendColorDodge(vec3 base, vec3 blend) {
	return vec3(blendColorDodge(base.r,blend.r),blendColorDodge(base.g,blend.g),blendColorDodge(base.b,blend.b));
}

vec3 blendColorDodge(vec3 base, vec3 blend, float opacity) {
	return (blendColorDodge(base, blend) * opacity + base * (1.0 - opacity));
}

// Color burn

float blendColorBurn(float base, float blend) {
	return (blend==0.0)?blend:max((1.0-((1.0-base)/blend)),0.0);
}

vec3 blendColorBurn(vec3 base, vec3 blend) {
	return vec3(blendColorBurn(base.r,blend.r),blendColorBurn(base.g,blend.g),blendColorBurn(base.b,blend.b));
}

vec3 blendColorBurn(vec3 base, vec3 blend, float opacity) {
	return (blendColorBurn(base, blend) * opacity + base * (1.0 - opacity));
}

// Vivid Light

float blendVividLight(float base, float blend) {
	return (blend<0.5)?blendColorBurn(base,(2.0*blend)):blendColorDodge(base,(2.0*(blend-0.5)));
}

vec3 blendVividLight(vec3 base, vec3 blend) {
	return vec3(blendVividLight(base.r,blend.r),blendVividLight(base.g,blend.g),blendVividLight(base.b,blend.b));
}

vec3 blendVividLight(vec3 base, vec3 blend, float opacity) {
	return (blendVividLight(base, blend) * opacity + base * (1.0 - opacity));
}

// Lighten

float blendLighten(float base, float blend) {
	return max(blend,base);
}

vec3 blendLighten(vec3 base, vec3 blend) {
	return vec3(blendLighten(base.r,blend.r),blendLighten(base.g,blend.g),blendLighten(base.b,blend.b));
}

vec3 blendLighten(vec3 base, vec3 blend, float opacity) {
	return (blendLighten(base, blend) * opacity + base * (1.0 - opacity));
}

// Linear burn

float blendLinearBurn(float base, float blend) {
	// Note : Same implementation as BlendSubtractf
	return max(base+blend-1.0,0.0);
}

vec3 blendLinearBurn(vec3 base, vec3 blend) {
	// Note : Same implementation as BlendSubtract
	return max(base+blend-vec3(1.0),vec3(0.0));
}

vec3 blendLinearBurn(vec3 base, vec3 blend, float opacity) {
	return (blendLinearBurn(base, blend) * opacity + base * (1.0 - opacity));
}

// Linear dodge

float blendLinearDodge(float base, float blend) {
	// Note : Same implementation as BlendAddf
	return min(base+blend,1.0);
}

vec3 blendLinearDodge(vec3 base, vec3 blend) {
	// Note : Same implementation as BlendAdd
	return min(base+blend,vec3(1.0));
}

vec3 blendLinearDodge(vec3 base, vec3 blend, float opacity) {
	return (blendLinearDodge(base, blend) * opacity + base * (1.0 - opacity));
}

// Linear light

float blendLinearLight(float base, float blend) {
	return blend<0.5?blendLinearBurn(base,(2.0*blend)):blendLinearDodge(base,(2.0*(blend-0.5)));
}

vec3 blendLinearLight(vec3 base, vec3 blend) {
	return vec3(blendLinearLight(base.r,blend.r),blendLinearLight(base.g,blend.g),blendLinearLight(base.b,blend.b));
}

vec3 blendLinearLight(vec3 base, vec3 blend, float opacity) {
	return (blendLinearLight(base, blend) * opacity + base * (1.0 - opacity));
}`,fragment:`varying vec3 v_color;

void main() {
  vec3 color = v_color;
  if (u_darken_top == 1.0) {
    vec2 st = gl_FragCoord.xy/resolution.xy;
    color.g -= pow(st.y + sin(-12.0) * st.x, u_shadow_power) * 0.4;
  }
  gl_FragColor = vec4(color, 1.0);
}`},this.conf={presetName:"",wireframe:!1,density:[.06,.16],zoom:1,rotation:0,playing:!0},document.querySelectorAll("canvas").length<1?console.log("DID NOT LOAD HERO STRIPE CANVAS"):(this.minigl=new v4(this.el,null,null,!0),requestAnimationFrame(()=>{this.el&&(this.computedCanvasStyle=getComputedStyle(this.el),this.waitForCssVars())}))}disconnect(){this.scrollObserver&&(window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("keydown",this.handleKeyDown),this.scrollObserver.disconnect()),window.removeEventListener("resize",this.resize)}initMaterial(){this.uniforms={u_time:new this.minigl.Uniform({value:0}),u_shadow_power:new this.minigl.Uniform({value:5}),u_darken_top:new this.minigl.Uniform({value:this.el.dataset.jsDarkenTop===""?1:0}),u_active_colors:new this.minigl.Uniform({value:this.activeColors,type:"vec4"}),u_global:new this.minigl.Uniform({value:{noiseFreq:new this.minigl.Uniform({value:[this.freqX,this.freqY],type:"vec2"}),noiseSpeed:new this.minigl.Uniform({value:5e-6})},type:"struct"}),u_vertDeform:new this.minigl.Uniform({value:{incline:new this.minigl.Uniform({value:Math.sin(this.angle)/Math.cos(this.angle)}),offsetTop:new this.minigl.Uniform({value:-.5}),offsetBottom:new this.minigl.Uniform({value:-.5}),noiseFreq:new this.minigl.Uniform({value:[3,4],type:"vec2"}),noiseAmp:new this.minigl.Uniform({value:this.amp}),noiseSpeed:new this.minigl.Uniform({value:10}),noiseFlow:new this.minigl.Uniform({value:3}),noiseSeed:new this.minigl.Uniform({value:this.seed})},type:"struct",excludeFrom:"fragment"}),u_baseColor:new this.minigl.Uniform({value:this.sectionColors[0],type:"vec3",excludeFrom:"fragment"}),u_waveLayers:new this.minigl.Uniform({value:[],excludeFrom:"fragment",type:"array"})};for(let e=1;e<this.sectionColors.length;e+=1)this.uniforms.u_waveLayers.value.push(new this.minigl.Uniform({value:{color:new this.minigl.Uniform({value:this.sectionColors[e],type:"vec3"}),noiseFreq:new this.minigl.Uniform({value:[2+e/this.sectionColors.length,3+e/this.sectionColors.length],type:"vec2"}),noiseSpeed:new this.minigl.Uniform({value:11+.3*e}),noiseFlow:new this.minigl.Uniform({value:6.5+.3*e}),noiseSeed:new this.minigl.Uniform({value:this.seed+10*e}),noiseFloor:new this.minigl.Uniform({value:.1}),noiseCeil:new this.minigl.Uniform({value:.63+.07*e})},type:"struct"}));return this.vertexShader=[this.shaderFiles.noise,this.shaderFiles.blend,this.shaderFiles.vertex].join(`

`),new this.minigl.Material(this.vertexShader,this.shaderFiles.fragment,this.uniforms)}initMesh(){this.material=this.initMaterial(),this.geometry=new this.minigl.PlaneGeometry,this.mesh=new this.minigl.Mesh(this.geometry,this.material)}shouldSkipFrame(e){return!!window.document.hidden||!this.conf.playing||parseInt(e,10)%2==0||void 0}updateFrequency(e){this.freqX+=e,this.freqY+=e}toggleColor(e){this.activeColors[e]=this.activeColors[e]===0?1:0}showGradientLegend(){this.width>this.minWidth&&(this.isGradientLegendVisible=!0,document.body.classList.add("isGradientLegendVisible"))}hideGradientLegend(){this.isGradientLegendVisible=!1,document.body.classList.remove("isGradientLegendVisible")}init(){this.initGradientColors(),this.initMesh(),this.resize(),requestAnimationFrame(this.animate),window.addEventListener("resize",this.resize)}waitForCssVars(){if(this.computedCanvasStyle&&this.computedCanvasStyle.getPropertyValue("--gradient-color-1").indexOf("#")!==-1)this.init(),this.addIsLoadedClass();else{if(this.cssVarRetries+=1,this.cssVarRetries>this.maxCssVarRetries)return this.sectionColors=[16711680,16711680,16711935,65280,255],void this.init();requestAnimationFrame(()=>this.waitForCssVars())}}initGradientColors(){this.sectionColors=["--gradient-color-1","--gradient-color-2","--gradient-color-3","--gradient-color-4"].map(e=>{let n=this.computedCanvasStyle.getPropertyValue(e).trim();return n.length===4&&(n=`#${n.substr(1).split("").map(i=>i+i).join("")}`),n&&`0x${n.substr(1)}`}).filter(Boolean).map(m4)}}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const n1="170",uc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Yl={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},g4=0,_A=1,y4=2,zD=1,x4=2,bo=3,ja=0,_r=1,Ai=2,Da=0,fc=1,SA=2,wA=3,EA=4,b4=5,ys=100,_4=101,S4=102,w4=103,E4=104,M4=200,A4=201,T4=202,P4=203,gb=204,yb=205,C4=206,O4=207,R4=208,N4=209,D4=210,L4=211,I4=212,k4=213,U4=214,xb=0,bb=1,_b=2,Cc=3,Sb=4,wb=5,Eb=6,Mb=7,HD=0,F4=1,j4=2,La=0,B4=1,$4=2,z4=3,H4=4,V4=5,G4=6,W4=7,VD=300,Oc=301,Rc=302,Ab=303,Tb=304,vg=306,Pb=1e3,Ms=1001,Cb=1002,ki=1003,X4=1004,Vh=1005,Ki=1006,n0=1007,As=1008,$o=1009,GD=1010,WD=1011,ad=1012,r1=1013,$s=1014,Ao=1015,ah=1016,i1=1017,o1=1018,Nc=1020,XD=35902,qD=1021,YD=1022,Ni=1023,KD=1024,ZD=1025,dc=1026,Dc=1027,JD=1028,a1=1029,QD=1030,s1=1031,l1=1033,rm=33776,im=33777,om=33778,am=33779,Ob=35840,Rb=35841,Nb=35842,Db=35843,Lb=36196,Ib=37492,kb=37496,Ub=37808,Fb=37809,jb=37810,Bb=37811,$b=37812,zb=37813,Hb=37814,Vb=37815,Gb=37816,Wb=37817,Xb=37818,qb=37819,Yb=37820,Kb=37821,sm=36492,Zb=36494,Jb=36495,eL=36283,Qb=36284,e_=36285,t_=36286,q4=3200,Y4=3201,K4=0,Z4=1,xa="",Jr="srgb",fu="srgb-linear",gg="linear",jt="srgb",pl=7680,MA=519,J4=512,Q4=513,e5=514,tL=515,t5=516,n5=517,r5=518,i5=519,AA=35044,TA="300 es",To=2e3,$m=2001;class rl{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}const Kn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let PA=1234567;const hc=Math.PI/180,sd=180/Math.PI;function il(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Kn[t&255]+Kn[t>>8&255]+Kn[t>>16&255]+Kn[t>>24&255]+"-"+Kn[e&255]+Kn[e>>8&255]+"-"+Kn[e>>16&15|64]+Kn[e>>24&255]+"-"+Kn[n&63|128]+Kn[n>>8&255]+"-"+Kn[n>>16&255]+Kn[n>>24&255]+Kn[r&255]+Kn[r>>8&255]+Kn[r>>16&255]+Kn[r>>24&255]).toLowerCase()}function Un(t,e,n){return Math.max(e,Math.min(n,t))}function c1(t,e){return(t%e+e)%e}function o5(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function a5(t,e,n){return t!==e?(n-t)/(e-t):0}function Of(t,e,n){return(1-n)*t+n*e}function s5(t,e,n,r){return Of(t,e,1-Math.exp(-n*r))}function l5(t,e=1){return e-Math.abs(c1(t,e*2)-e)}function c5(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function u5(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function f5(t,e){return t+Math.floor(Math.random()*(e-t+1))}function d5(t,e){return t+Math.random()*(e-t)}function h5(t){return t*(.5-Math.random())}function p5(t){t!==void 0&&(PA=t);let e=PA+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function m5(t){return t*hc}function v5(t){return t*sd}function g5(t){return(t&t-1)===0&&t!==0}function y5(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function x5(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function b5(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((e+r)/2),f=a((e+r)/2),u=o((e-r)/2),d=a((e-r)/2),h=o((r-e)/2),m=a((r-e)/2);switch(i){case"XYX":t.set(s*f,l*u,l*d,s*c);break;case"YZY":t.set(l*d,s*f,l*u,s*c);break;case"ZXZ":t.set(l*u,l*d,s*f,s*c);break;case"XZX":t.set(s*f,l*m,l*h,s*c);break;case"YXY":t.set(l*h,s*f,l*m,s*c);break;case"ZYZ":t.set(l*m,l*h,s*f,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function kl(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function rr(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const _5={DEG2RAD:hc,RAD2DEG:sd,generateUUID:il,clamp:Un,euclideanModulo:c1,mapLinear:o5,inverseLerp:a5,lerp:Of,damp:s5,pingpong:l5,smoothstep:c5,smootherstep:u5,randInt:f5,randFloat:d5,randFloatSpread:h5,seededRandom:p5,degToRad:m5,radToDeg:v5,isPowerOfTwo:g5,ceilPowerOfTwo:y5,floorPowerOfTwo:x5,setQuaternionFromProperEuler:b5,normalize:rr,denormalize:kl};class Oe{constructor(e=0,n=0){Oe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Un(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class mt{constructor(e,n,r,i,o,a,s,l,c){mt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c)}set(e,n,r,i,o,a,s,l,c){const f=this.elements;return f[0]=e,f[1]=i,f[2]=s,f[3]=n,f[4]=o,f[5]=l,f[6]=r,f[7]=a,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],l=r[6],c=r[1],f=r[4],u=r[7],d=r[2],h=r[5],m=r[8],v=i[0],g=i[3],p=i[6],x=i[1],y=i[4],b=i[7],S=i[2],_=i[5],w=i[8];return o[0]=a*v+s*x+l*S,o[3]=a*g+s*y+l*_,o[6]=a*p+s*b+l*w,o[1]=c*v+f*x+u*S,o[4]=c*g+f*y+u*_,o[7]=c*p+f*b+u*w,o[2]=d*v+h*x+m*S,o[5]=d*g+h*y+m*_,o[8]=d*p+h*b+m*w,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],f=e[8];return n*a*f-n*s*c-r*o*f+r*s*l+i*o*c-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],f=e[8],u=f*a-s*c,d=s*l-f*o,h=c*o-a*l,m=n*u+r*d+i*h;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/m;return e[0]=u*v,e[1]=(i*c-f*r)*v,e[2]=(s*r-i*a)*v,e[3]=d*v,e[4]=(f*n-i*l)*v,e[5]=(i*o-s*n)*v,e[6]=h*v,e[7]=(r*l-c*n)*v,e[8]=(a*n-r*o)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*a+c*s)+a+e,-i*c,i*l,-i*(-c*a+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(r0.makeScale(e,n)),this}rotate(e){return this.premultiply(r0.makeRotation(-e)),this}translate(e,n){return this.premultiply(r0.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const r0=new mt;function nL(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function zm(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function S5(){const t=zm("canvas");return t.style.display="block",t}const CA={};function gf(t){t in CA||(CA[t]=!0,console.warn(t))}function w5(t,e,n){return new Promise(function(r,i){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}setTimeout(o,n)})}function E5(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function M5(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const At={enabled:!0,workingColorSpace:fu,spaces:{},convert:function(t,e,n){return this.enabled===!1||e===n||!e||!n||(this.spaces[e].transfer===jt&&(t.r=Do(t.r),t.g=Do(t.g),t.b=Do(t.b)),this.spaces[e].primaries!==this.spaces[n].primaries&&(t.applyMatrix3(this.spaces[e].toXYZ),t.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===jt&&(t.r=pc(t.r),t.g=pc(t.g),t.b=pc(t.b))),t},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)},getPrimaries:function(t){return this.spaces[t].primaries},getTransfer:function(t){return t===xa?gg:this.spaces[t].transfer},getLuminanceCoefficients:function(t,e=this.workingColorSpace){return t.fromArray(this.spaces[e].luminanceCoefficients)},define:function(t){Object.assign(this.spaces,t)},_getMatrix:function(t,e,n){return t.copy(this.spaces[e].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(t){return this.spaces[t].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(t=this.workingColorSpace){return this.spaces[t].workingColorSpaceConfig.unpackColorSpace}};function Do(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function pc(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const OA=[.64,.33,.3,.6,.15,.06],RA=[.2126,.7152,.0722],NA=[.3127,.329],DA=new mt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),LA=new mt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);At.define({[fu]:{primaries:OA,whitePoint:NA,transfer:gg,toXYZ:DA,fromXYZ:LA,luminanceCoefficients:RA,workingColorSpaceConfig:{unpackColorSpace:Jr},outputColorSpaceConfig:{drawingBufferColorSpace:Jr}},[Jr]:{primaries:OA,whitePoint:NA,transfer:jt,toXYZ:DA,fromXYZ:LA,luminanceCoefficients:RA,outputColorSpaceConfig:{drawingBufferColorSpace:Jr}}});let ml;class A5{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{ml===void 0&&(ml=zm("canvas")),ml.width=e.width,ml.height=e.height;const r=ml.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=ml}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=zm("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=Do(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Do(n[r]/255)*255):n[r]=Do(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let T5=0;class rL{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:T5++}),this.uuid=il(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(i0(i[a].image)):o.push(i0(i[a]))}else o=i0(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function i0(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?A5.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let P5=0;class Sr extends rl{constructor(e=Sr.DEFAULT_IMAGE,n=Sr.DEFAULT_MAPPING,r=Ms,i=Ms,o=Ki,a=As,s=Ni,l=$o,c=Sr.DEFAULT_ANISOTROPY,f=xa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:P5++}),this.uuid=il(),this.name="",this.source=new rL(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new Oe(0,0),this.repeat=new Oe(1,1),this.center=new Oe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new mt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==VD)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Pb:e.x=e.x-Math.floor(e.x);break;case Ms:e.x=e.x<0?0:1;break;case Cb:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Pb:e.y=e.y-Math.floor(e.y);break;case Ms:e.y=e.y<0?0:1;break;case Cb:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Sr.DEFAULT_IMAGE=null;Sr.DEFAULT_MAPPING=VD;Sr.DEFAULT_ANISOTROPY=1;class yn{constructor(e=0,n=0,r=0,i=1){yn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],f=l[4],u=l[8],d=l[1],h=l[5],m=l[9],v=l[2],g=l[6],p=l[10];if(Math.abs(f-d)<.01&&Math.abs(u-v)<.01&&Math.abs(m-g)<.01){if(Math.abs(f+d)<.1&&Math.abs(u+v)<.1&&Math.abs(m+g)<.1&&Math.abs(c+h+p-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const y=(c+1)/2,b=(h+1)/2,S=(p+1)/2,_=(f+d)/4,w=(u+v)/4,T=(m+g)/4;return y>b&&y>S?y<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(y),i=_/r,o=w/r):b>S?b<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(b),r=_/i,o=T/i):S<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(S),r=w/o,i=T/o),this.set(r,i,o,n),this}let x=Math.sqrt((g-m)*(g-m)+(u-v)*(u-v)+(d-f)*(d-f));return Math.abs(x)<.001&&(x=1),this.x=(g-m)/x,this.y=(u-v)/x,this.z=(d-f)/x,this.w=Math.acos((c+h+p-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class C5 extends rl{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new yn(0,0,e,n),this.scissorTest=!1,this.viewport=new yn(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ki,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const o=new Sr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const a=r.count;for(let s=0;s<a;s++)this.textures[s]=o.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new rL(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class zs extends C5{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class iL extends Sr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=ki,this.minFilter=ki,this.wrapR=Ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class O5 extends Sr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=ki,this.minFilter=ki,this.wrapR=Ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Hs{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,a,s){let l=r[i+0],c=r[i+1],f=r[i+2],u=r[i+3];const d=o[a+0],h=o[a+1],m=o[a+2],v=o[a+3];if(s===0){e[n+0]=l,e[n+1]=c,e[n+2]=f,e[n+3]=u;return}if(s===1){e[n+0]=d,e[n+1]=h,e[n+2]=m,e[n+3]=v;return}if(u!==v||l!==d||c!==h||f!==m){let g=1-s;const p=l*d+c*h+f*m+u*v,x=p>=0?1:-1,y=1-p*p;if(y>Number.EPSILON){const S=Math.sqrt(y),_=Math.atan2(S,p*x);g=Math.sin(g*_)/S,s=Math.sin(s*_)/S}const b=s*x;if(l=l*g+d*b,c=c*g+h*b,f=f*g+m*b,u=u*g+v*b,g===1-s){const S=1/Math.sqrt(l*l+c*c+f*f+u*u);l*=S,c*=S,f*=S,u*=S}}e[n]=l,e[n+1]=c,e[n+2]=f,e[n+3]=u}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],l=r[i+1],c=r[i+2],f=r[i+3],u=o[a],d=o[a+1],h=o[a+2],m=o[a+3];return e[n]=s*m+f*u+l*h-c*d,e[n+1]=l*m+f*d+c*u-s*h,e[n+2]=c*m+f*h+s*d-l*u,e[n+3]=f*m-s*u-l*d-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,c=s(r/2),f=s(i/2),u=s(o/2),d=l(r/2),h=l(i/2),m=l(o/2);switch(a){case"XYZ":this._x=d*f*u+c*h*m,this._y=c*h*u-d*f*m,this._z=c*f*m+d*h*u,this._w=c*f*u-d*h*m;break;case"YXZ":this._x=d*f*u+c*h*m,this._y=c*h*u-d*f*m,this._z=c*f*m-d*h*u,this._w=c*f*u+d*h*m;break;case"ZXY":this._x=d*f*u-c*h*m,this._y=c*h*u+d*f*m,this._z=c*f*m+d*h*u,this._w=c*f*u-d*h*m;break;case"ZYX":this._x=d*f*u-c*h*m,this._y=c*h*u+d*f*m,this._z=c*f*m-d*h*u,this._w=c*f*u+d*h*m;break;case"YZX":this._x=d*f*u+c*h*m,this._y=c*h*u+d*f*m,this._z=c*f*m-d*h*u,this._w=c*f*u-d*h*m;break;case"XZY":this._x=d*f*u-c*h*m,this._y=c*h*u-d*f*m,this._z=c*f*m+d*h*u,this._w=c*f*u+d*h*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],c=n[2],f=n[6],u=n[10],d=r+s+u;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(f-l)*h,this._y=(o-c)*h,this._z=(a-i)*h}else if(r>s&&r>u){const h=2*Math.sqrt(1+r-s-u);this._w=(f-l)/h,this._x=.25*h,this._y=(i+a)/h,this._z=(o+c)/h}else if(s>u){const h=2*Math.sqrt(1+s-r-u);this._w=(o-c)/h,this._x=(i+a)/h,this._y=.25*h,this._z=(l+f)/h}else{const h=2*Math.sqrt(1+u-r-s);this._w=(a-i)/h,this._x=(o+c)/h,this._y=(l+f)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Un(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,l=n._y,c=n._z,f=n._w;return this._x=r*f+a*s+i*c-o*l,this._y=i*f+a*l+o*s-r*c,this._z=o*f+a*c+r*l-i*s,this._w=a*f-r*s-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,a=this._w;let s=a*e._w+r*e._x+i*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=r,this._y=i,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const h=1-n;return this._w=h*a+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),f=Math.atan2(c,s),u=Math.sin((1-n)*f)/c,d=Math.sin(n*f)/c;return this._w=a*u+this._w*d,this._x=r*u+this._x*d,this._y=i*u+this._y*d,this._z=o*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class X{constructor(e=0,n=0,r=0){X.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(IA.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(IA.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,c=2*(a*i-s*r),f=2*(s*n-o*i),u=2*(o*r-a*n);return this.x=n+l*c+a*u-s*f,this.y=r+l*f+s*c-o*u,this.z=i+l*u+o*f-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return o0.copy(this).projectOnVector(e),this.sub(o0)}reflect(e){return this.sub(o0.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Un(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const o0=new X,IA=new Hs;class sh{constructor(e=new X(1/0,1/0,1/0),n=new X(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(mi.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(mi.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=mi.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,mi):mi.fromBufferAttribute(o,a),mi.applyMatrix4(e.matrixWorld),this.expandByPoint(mi);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Gh.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Gh.copy(r.boundingBox)),Gh.applyMatrix4(e.matrixWorld),this.union(Gh)}const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,mi),mi.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Wu),Wh.subVectors(this.max,Wu),vl.subVectors(e.a,Wu),gl.subVectors(e.b,Wu),yl.subVectors(e.c,Wu),ra.subVectors(gl,vl),ia.subVectors(yl,gl),ts.subVectors(vl,yl);let n=[0,-ra.z,ra.y,0,-ia.z,ia.y,0,-ts.z,ts.y,ra.z,0,-ra.x,ia.z,0,-ia.x,ts.z,0,-ts.x,-ra.y,ra.x,0,-ia.y,ia.x,0,-ts.y,ts.x,0];return!a0(n,vl,gl,yl,Wh)||(n=[1,0,0,0,1,0,0,0,1],!a0(n,vl,gl,yl,Wh))?!1:(Xh.crossVectors(ra,ia),n=[Xh.x,Xh.y,Xh.z],a0(n,vl,gl,yl,Wh))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,mi).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(mi).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ho[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ho[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ho[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ho[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ho[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ho[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ho[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ho[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ho),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ho=[new X,new X,new X,new X,new X,new X,new X,new X],mi=new X,Gh=new sh,vl=new X,gl=new X,yl=new X,ra=new X,ia=new X,ts=new X,Wu=new X,Wh=new X,Xh=new X,ns=new X;function a0(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){ns.fromArray(t,o);const s=i.x*Math.abs(ns.x)+i.y*Math.abs(ns.y)+i.z*Math.abs(ns.z),l=e.dot(ns),c=n.dot(ns),f=r.dot(ns);if(Math.max(-Math.max(l,c,f),Math.min(l,c,f))>s)return!1}return!0}const R5=new sh,Xu=new X,s0=new X;class lh{constructor(e=new X,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):R5.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Xu.subVectors(e,this.center);const n=Xu.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Xu,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(s0.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Xu.copy(e.center).add(s0)),this.expandByPoint(Xu.copy(e.center).sub(s0))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const po=new X,l0=new X,qh=new X,oa=new X,c0=new X,Yh=new X,u0=new X;class ch{constructor(e=new X,n=new X(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,po)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=po.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(po.copy(this.origin).addScaledVector(this.direction,n),po.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){l0.copy(e).add(n).multiplyScalar(.5),qh.copy(n).sub(e).normalize(),oa.copy(this.origin).sub(l0);const o=e.distanceTo(n)*.5,a=-this.direction.dot(qh),s=oa.dot(this.direction),l=-oa.dot(qh),c=oa.lengthSq(),f=Math.abs(1-a*a);let u,d,h,m;if(f>0)if(u=a*l-s,d=a*s-l,m=o*f,u>=0)if(d>=-m)if(d<=m){const v=1/f;u*=v,d*=v,h=u*(u+a*d+2*s)+d*(a*u+d+2*l)+c}else d=o,u=Math.max(0,-(a*d+s)),h=-u*u+d*(d+2*l)+c;else d=-o,u=Math.max(0,-(a*d+s)),h=-u*u+d*(d+2*l)+c;else d<=-m?(u=Math.max(0,-(-a*o+s)),d=u>0?-o:Math.min(Math.max(-o,-l),o),h=-u*u+d*(d+2*l)+c):d<=m?(u=0,d=Math.min(Math.max(-o,-l),o),h=d*(d+2*l)+c):(u=Math.max(0,-(a*o+s)),d=u>0?o:Math.min(Math.max(-o,-l),o),h=-u*u+d*(d+2*l)+c);else d=a>0?-o:o,u=Math.max(0,-(a*d+s)),h=-u*u+d*(d+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,u),i&&i.copy(l0).addScaledVector(qh,d),h}intersectSphere(e,n){po.subVectors(e.center,this.origin);const r=po.dot(this.direction),i=po.dot(po)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,l;const c=1/this.direction.x,f=1/this.direction.y,u=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),f>=0?(o=(e.min.y-d.y)*f,a=(e.max.y-d.y)*f):(o=(e.max.y-d.y)*f,a=(e.min.y-d.y)*f),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),u>=0?(s=(e.min.z-d.z)*u,l=(e.max.z-d.z)*u):(s=(e.max.z-d.z)*u,l=(e.min.z-d.z)*u),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,po)!==null}intersectTriangle(e,n,r,i,o){c0.subVectors(n,e),Yh.subVectors(r,e),u0.crossVectors(c0,Yh);let a=this.direction.dot(u0),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;oa.subVectors(this.origin,e);const l=s*this.direction.dot(Yh.crossVectors(oa,Yh));if(l<0)return null;const c=s*this.direction.dot(c0.cross(oa));if(c<0||l+c>a)return null;const f=-s*oa.dot(u0);return f<0?null:this.at(f/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class nn{constructor(e,n,r,i,o,a,s,l,c,f,u,d,h,m,v,g){nn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c,f,u,d,h,m,v,g)}set(e,n,r,i,o,a,s,l,c,f,u,d,h,m,v,g){const p=this.elements;return p[0]=e,p[4]=n,p[8]=r,p[12]=i,p[1]=o,p[5]=a,p[9]=s,p[13]=l,p[2]=c,p[6]=f,p[10]=u,p[14]=d,p[3]=h,p[7]=m,p[11]=v,p[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new nn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/xl.setFromMatrixColumn(e,0).length(),o=1/xl.setFromMatrixColumn(e,1).length(),a=1/xl.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i),f=Math.cos(o),u=Math.sin(o);if(e.order==="XYZ"){const d=a*f,h=a*u,m=s*f,v=s*u;n[0]=l*f,n[4]=-l*u,n[8]=c,n[1]=h+m*c,n[5]=d-v*c,n[9]=-s*l,n[2]=v-d*c,n[6]=m+h*c,n[10]=a*l}else if(e.order==="YXZ"){const d=l*f,h=l*u,m=c*f,v=c*u;n[0]=d+v*s,n[4]=m*s-h,n[8]=a*c,n[1]=a*u,n[5]=a*f,n[9]=-s,n[2]=h*s-m,n[6]=v+d*s,n[10]=a*l}else if(e.order==="ZXY"){const d=l*f,h=l*u,m=c*f,v=c*u;n[0]=d-v*s,n[4]=-a*u,n[8]=m+h*s,n[1]=h+m*s,n[5]=a*f,n[9]=v-d*s,n[2]=-a*c,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const d=a*f,h=a*u,m=s*f,v=s*u;n[0]=l*f,n[4]=m*c-h,n[8]=d*c+v,n[1]=l*u,n[5]=v*c+d,n[9]=h*c-m,n[2]=-c,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const d=a*l,h=a*c,m=s*l,v=s*c;n[0]=l*f,n[4]=v-d*u,n[8]=m*u+h,n[1]=u,n[5]=a*f,n[9]=-s*f,n[2]=-c*f,n[6]=h*u+m,n[10]=d-v*u}else if(e.order==="XZY"){const d=a*l,h=a*c,m=s*l,v=s*c;n[0]=l*f,n[4]=-u,n[8]=c*f,n[1]=d*u+v,n[5]=a*f,n[9]=h*u-m,n[2]=m*u-h,n[6]=s*f,n[10]=v*u+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(N5,e,D5)}lookAt(e,n,r){const i=this.elements;return Ar.subVectors(e,n),Ar.lengthSq()===0&&(Ar.z=1),Ar.normalize(),aa.crossVectors(r,Ar),aa.lengthSq()===0&&(Math.abs(r.z)===1?Ar.x+=1e-4:Ar.z+=1e-4,Ar.normalize(),aa.crossVectors(r,Ar)),aa.normalize(),Kh.crossVectors(Ar,aa),i[0]=aa.x,i[4]=Kh.x,i[8]=Ar.x,i[1]=aa.y,i[5]=Kh.y,i[9]=Ar.y,i[2]=aa.z,i[6]=Kh.z,i[10]=Ar.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],l=r[8],c=r[12],f=r[1],u=r[5],d=r[9],h=r[13],m=r[2],v=r[6],g=r[10],p=r[14],x=r[3],y=r[7],b=r[11],S=r[15],_=i[0],w=i[4],T=i[8],M=i[12],A=i[1],P=i[5],O=i[9],L=i[13],I=i[2],j=i[6],F=i[10],B=i[14],D=i[3],z=i[7],W=i[11],J=i[15];return o[0]=a*_+s*A+l*I+c*D,o[4]=a*w+s*P+l*j+c*z,o[8]=a*T+s*O+l*F+c*W,o[12]=a*M+s*L+l*B+c*J,o[1]=f*_+u*A+d*I+h*D,o[5]=f*w+u*P+d*j+h*z,o[9]=f*T+u*O+d*F+h*W,o[13]=f*M+u*L+d*B+h*J,o[2]=m*_+v*A+g*I+p*D,o[6]=m*w+v*P+g*j+p*z,o[10]=m*T+v*O+g*F+p*W,o[14]=m*M+v*L+g*B+p*J,o[3]=x*_+y*A+b*I+S*D,o[7]=x*w+y*P+b*j+S*z,o[11]=x*T+y*O+b*F+S*W,o[15]=x*M+y*L+b*B+S*J,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],c=e[13],f=e[2],u=e[6],d=e[10],h=e[14],m=e[3],v=e[7],g=e[11],p=e[15];return m*(+o*l*u-i*c*u-o*s*d+r*c*d+i*s*h-r*l*h)+v*(+n*l*h-n*c*d+o*a*d-i*a*h+i*c*f-o*l*f)+g*(+n*c*u-n*s*h-o*a*u+r*a*h+o*s*f-r*c*f)+p*(-i*s*f-n*l*u+n*s*d+i*a*u-r*a*d+r*l*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],f=e[8],u=e[9],d=e[10],h=e[11],m=e[12],v=e[13],g=e[14],p=e[15],x=u*g*c-v*d*c+v*l*h-s*g*h-u*l*p+s*d*p,y=m*d*c-f*g*c-m*l*h+a*g*h+f*l*p-a*d*p,b=f*v*c-m*u*c+m*s*h-a*v*h-f*s*p+a*u*p,S=m*u*l-f*v*l-m*s*d+a*v*d+f*s*g-a*u*g,_=n*x+r*y+i*b+o*S;if(_===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/_;return e[0]=x*w,e[1]=(v*d*o-u*g*o-v*i*h+r*g*h+u*i*p-r*d*p)*w,e[2]=(s*g*o-v*l*o+v*i*c-r*g*c-s*i*p+r*l*p)*w,e[3]=(u*l*o-s*d*o-u*i*c+r*d*c+s*i*h-r*l*h)*w,e[4]=y*w,e[5]=(f*g*o-m*d*o+m*i*h-n*g*h-f*i*p+n*d*p)*w,e[6]=(m*l*o-a*g*o-m*i*c+n*g*c+a*i*p-n*l*p)*w,e[7]=(a*d*o-f*l*o+f*i*c-n*d*c-a*i*h+n*l*h)*w,e[8]=b*w,e[9]=(m*u*o-f*v*o-m*r*h+n*v*h+f*r*p-n*u*p)*w,e[10]=(a*v*o-m*s*o+m*r*c-n*v*c-a*r*p+n*s*p)*w,e[11]=(f*s*o-a*u*o-f*r*c+n*u*c+a*r*h-n*s*h)*w,e[12]=S*w,e[13]=(f*v*i-m*u*i+m*r*d-n*v*d-f*r*g+n*u*g)*w,e[14]=(m*s*i-a*v*i-m*r*l+n*v*l+a*r*g-n*s*g)*w,e[15]=(a*u*i-f*s*i+f*r*l-n*u*l-a*r*d+n*s*d)*w,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,l=e.z,c=o*a,f=o*s;return this.set(c*a+r,c*s-i*l,c*l+i*s,0,c*s+i*l,f*s+r,f*l-i*a,0,c*l-i*s,f*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,c=o+o,f=a+a,u=s+s,d=o*c,h=o*f,m=o*u,v=a*f,g=a*u,p=s*u,x=l*c,y=l*f,b=l*u,S=r.x,_=r.y,w=r.z;return i[0]=(1-(v+p))*S,i[1]=(h+b)*S,i[2]=(m-y)*S,i[3]=0,i[4]=(h-b)*_,i[5]=(1-(d+p))*_,i[6]=(g+x)*_,i[7]=0,i[8]=(m+y)*w,i[9]=(g-x)*w,i[10]=(1-(d+v))*w,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=xl.set(i[0],i[1],i[2]).length();const a=xl.set(i[4],i[5],i[6]).length(),s=xl.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],vi.copy(this);const c=1/o,f=1/a,u=1/s;return vi.elements[0]*=c,vi.elements[1]*=c,vi.elements[2]*=c,vi.elements[4]*=f,vi.elements[5]*=f,vi.elements[6]*=f,vi.elements[8]*=u,vi.elements[9]*=u,vi.elements[10]*=u,n.setFromRotationMatrix(vi),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a,s=To){const l=this.elements,c=2*o/(n-e),f=2*o/(r-i),u=(n+e)/(n-e),d=(r+i)/(r-i);let h,m;if(s===To)h=-(a+o)/(a-o),m=-2*a*o/(a-o);else if(s===$m)h=-a/(a-o),m=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=c,l[4]=0,l[8]=u,l[12]=0,l[1]=0,l[5]=f,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=m,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,a,s=To){const l=this.elements,c=1/(n-e),f=1/(r-i),u=1/(a-o),d=(n+e)*c,h=(r+i)*f;let m,v;if(s===To)m=(a+o)*u,v=-2*u;else if(s===$m)m=o*u,v=-1*u;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=v,l[14]=-m,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const xl=new X,vi=new nn,N5=new X(0,0,0),D5=new X(1,1,1),aa=new X,Kh=new X,Ar=new X,kA=new nn,UA=new Hs;class zo{constructor(e=0,n=0,r=0,i=zo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],c=i[5],f=i[9],u=i[2],d=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(Un(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-f,h),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Un(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-u,o),this._z=0);break;case"ZXY":this._x=Math.asin(Un(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Un(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(Un(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-u,o)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-Un(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-f,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return kA.makeRotationFromQuaternion(e),this.setFromRotationMatrix(kA,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return UA.setFromEuler(this),this.setFromQuaternion(UA,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}zo.DEFAULT_ORDER="XYZ";let u1=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},L5=0;const FA=new X,bl=new Hs,mo=new nn,Zh=new X,qu=new X,I5=new X,k5=new Hs,jA=new X(1,0,0),BA=new X(0,1,0),$A=new X(0,0,1),zA={type:"added"},U5={type:"removed"},_l={type:"childadded",child:null},f0={type:"childremoved",child:null};class Wn extends rl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:L5++}),this.uuid=il(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Wn.DEFAULT_UP.clone();const e=new X,n=new zo,r=new Hs,i=new X(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new nn},normalMatrix:{value:new mt}}),this.matrix=new nn,this.matrixWorld=new nn,this.matrixAutoUpdate=Wn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new u1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return bl.setFromAxisAngle(e,n),this.quaternion.multiply(bl),this}rotateOnWorldAxis(e,n){return bl.setFromAxisAngle(e,n),this.quaternion.premultiply(bl),this}rotateX(e){return this.rotateOnAxis(jA,e)}rotateY(e){return this.rotateOnAxis(BA,e)}rotateZ(e){return this.rotateOnAxis($A,e)}translateOnAxis(e,n){return FA.copy(e).applyQuaternion(this.quaternion),this.position.add(FA.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(jA,e)}translateY(e){return this.translateOnAxis(BA,e)}translateZ(e){return this.translateOnAxis($A,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(mo.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Zh.copy(e):Zh.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),qu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?mo.lookAt(qu,Zh,this.up):mo.lookAt(Zh,qu,this.up),this.quaternion.setFromRotationMatrix(mo),i&&(mo.extractRotation(i.matrixWorld),bl.setFromRotationMatrix(mo),this.quaternion.premultiply(bl.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(zA),_l.child=e,this.dispatchEvent(_l),_l.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(U5),f0.child=e,this.dispatchEvent(f0),f0.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),mo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),mo.multiply(e.parent.matrixWorld)),e.applyMatrix4(mo),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(zA),_l.child=e,this.dispatchEvent(_l),_l.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qu,e,I5),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qu,k5,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,f=l.length;c<f;c++){const u=l[c];o(e.shapes,u)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),c=a(e.textures),f=a(e.images),u=a(e.shapes),d=a(e.skeletons),h=a(e.animations),m=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),f.length>0&&(r.images=f),u.length>0&&(r.shapes=u),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),m.length>0&&(r.nodes=m)}return r.object=i,r;function a(s){const l=[];for(const c in s){const f=s[c];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Wn.DEFAULT_UP=new X(0,1,0);Wn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const gi=new X,vo=new X,d0=new X,go=new X,Sl=new X,wl=new X,HA=new X,h0=new X,p0=new X,m0=new X,v0=new yn,g0=new yn,y0=new yn;class ni{constructor(e=new X,n=new X,r=new X){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),gi.subVectors(e,n),i.cross(gi);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){gi.subVectors(i,n),vo.subVectors(r,n),d0.subVectors(e,n);const a=gi.dot(gi),s=gi.dot(vo),l=gi.dot(d0),c=vo.dot(vo),f=vo.dot(d0),u=a*c-s*s;if(u===0)return o.set(0,0,0),null;const d=1/u,h=(c*l-s*f)*d,m=(a*f-s*l)*d;return o.set(1-h-m,m,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,go)===null?!1:go.x>=0&&go.y>=0&&go.x+go.y<=1}static getInterpolation(e,n,r,i,o,a,s,l){return this.getBarycoord(e,n,r,i,go)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,go.x),l.addScaledVector(a,go.y),l.addScaledVector(s,go.z),l)}static getInterpolatedAttribute(e,n,r,i,o,a){return v0.setScalar(0),g0.setScalar(0),y0.setScalar(0),v0.fromBufferAttribute(e,n),g0.fromBufferAttribute(e,r),y0.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(v0,o.x),a.addScaledVector(g0,o.y),a.addScaledVector(y0,o.z),a}static isFrontFacing(e,n,r,i){return gi.subVectors(r,n),vo.subVectors(e,n),gi.cross(vo).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return gi.subVectors(this.c,this.b),vo.subVectors(this.a,this.b),gi.cross(vo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ni.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ni.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return ni.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return ni.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ni.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;Sl.subVectors(i,r),wl.subVectors(o,r),h0.subVectors(e,r);const l=Sl.dot(h0),c=wl.dot(h0);if(l<=0&&c<=0)return n.copy(r);p0.subVectors(e,i);const f=Sl.dot(p0),u=wl.dot(p0);if(f>=0&&u<=f)return n.copy(i);const d=l*u-f*c;if(d<=0&&l>=0&&f<=0)return a=l/(l-f),n.copy(r).addScaledVector(Sl,a);m0.subVectors(e,o);const h=Sl.dot(m0),m=wl.dot(m0);if(m>=0&&h<=m)return n.copy(o);const v=h*c-l*m;if(v<=0&&c>=0&&m<=0)return s=c/(c-m),n.copy(r).addScaledVector(wl,s);const g=f*m-h*u;if(g<=0&&u-f>=0&&h-m>=0)return HA.subVectors(o,i),s=(u-f)/(u-f+(h-m)),n.copy(i).addScaledVector(HA,s);const p=1/(g+v+d);return a=v*p,s=d*p,n.copy(r).addScaledVector(Sl,a).addScaledVector(wl,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const oL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},sa={h:0,s:0,l:0},Jh={h:0,s:0,l:0};function x0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Tt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Jr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,At.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=At.workingColorSpace){return this.r=e,this.g=n,this.b=r,At.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=At.workingColorSpace){if(e=c1(e,1),n=Un(n,0,1),r=Un(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=x0(a,o,e+1/3),this.g=x0(a,o,e),this.b=x0(a,o,e-1/3)}return At.toWorkingColorSpace(this,i),this}setStyle(e,n=Jr){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Jr){const r=oL[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Do(e.r),this.g=Do(e.g),this.b=Do(e.b),this}copyLinearToSRGB(e){return this.r=pc(e.r),this.g=pc(e.g),this.b=pc(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Jr){return At.fromWorkingColorSpace(Zn.copy(this),e),Math.round(Un(Zn.r*255,0,255))*65536+Math.round(Un(Zn.g*255,0,255))*256+Math.round(Un(Zn.b*255,0,255))}getHexString(e=Jr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=At.workingColorSpace){At.fromWorkingColorSpace(Zn.copy(this),n);const r=Zn.r,i=Zn.g,o=Zn.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,c;const f=(s+a)/2;if(s===a)l=0,c=0;else{const u=a-s;switch(c=f<=.5?u/(a+s):u/(2-a-s),a){case r:l=(i-o)/u+(i<o?6:0);break;case i:l=(o-r)/u+2;break;case o:l=(r-i)/u+4;break}l/=6}return e.h=l,e.s=c,e.l=f,e}getRGB(e,n=At.workingColorSpace){return At.fromWorkingColorSpace(Zn.copy(this),n),e.r=Zn.r,e.g=Zn.g,e.b=Zn.b,e}getStyle(e=Jr){At.fromWorkingColorSpace(Zn.copy(this),e);const n=Zn.r,r=Zn.g,i=Zn.b;return e!==Jr?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(sa),this.setHSL(sa.h+e,sa.s+n,sa.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(sa),e.getHSL(Jh);const r=Of(sa.h,Jh.h,n),i=Of(sa.s,Jh.s,n),o=Of(sa.l,Jh.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Zn=new Tt;Tt.NAMES=oL;let F5=0;class du extends rl{static get type(){return"Material"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:F5++}),this.uuid=il(),this.name="",this.blending=fc,this.side=ja,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=gb,this.blendDst=yb,this.blendEquation=ys,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Tt(0,0,0),this.blendAlpha=0,this.depthFunc=Cc,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=MA,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=pl,this.stencilZFail=pl,this.stencilZPass=pl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==fc&&(r.blending=this.blending),this.side!==ja&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==gb&&(r.blendSrc=this.blendSrc),this.blendDst!==yb&&(r.blendDst=this.blendDst),this.blendEquation!==ys&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Cc&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==MA&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==pl&&(r.stencilFail=this.stencilFail),this.stencilZFail!==pl&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==pl&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class yg extends du{static get type(){return"MeshBasicMaterial"}constructor(e){super(),this.isMeshBasicMaterial=!0,this.color=new Tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zo,this.combine=HD,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const xn=new X,Qh=new Oe;class Fr{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=AA,this.updateRanges=[],this.gpuType=Ao,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Qh.fromBufferAttribute(this,n),Qh.applyMatrix3(e),this.setXY(n,Qh.x,Qh.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)xn.fromBufferAttribute(this,n),xn.applyMatrix3(e),this.setXYZ(n,xn.x,xn.y,xn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)xn.fromBufferAttribute(this,n),xn.applyMatrix4(e),this.setXYZ(n,xn.x,xn.y,xn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)xn.fromBufferAttribute(this,n),xn.applyNormalMatrix(e),this.setXYZ(n,xn.x,xn.y,xn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)xn.fromBufferAttribute(this,n),xn.transformDirection(e),this.setXYZ(n,xn.x,xn.y,xn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=kl(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=rr(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=kl(n,this.array)),n}setX(e,n){return this.normalized&&(n=rr(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=kl(n,this.array)),n}setY(e,n){return this.normalized&&(n=rr(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=kl(n,this.array)),n}setZ(e,n){return this.normalized&&(n=rr(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=kl(n,this.array)),n}setW(e,n){return this.normalized&&(n=rr(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=rr(n,this.array),r=rr(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=rr(n,this.array),r=rr(r,this.array),i=rr(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=rr(n,this.array),r=rr(r,this.array),i=rr(i,this.array),o=rr(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==AA&&(e.usage=this.usage),e}}class aL extends Fr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class sL extends Fr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Bn extends Fr{constructor(e,n,r){super(new Float32Array(e),n,r)}}let j5=0;const qr=new nn,b0=new Wn,El=new X,Tr=new sh,Yu=new sh,Ln=new X;class $n extends rl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:j5++}),this.uuid=il(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(nL(e)?sL:aL)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new mt().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return qr.makeRotationFromQuaternion(e),this.applyMatrix4(qr),this}rotateX(e){return qr.makeRotationX(e),this.applyMatrix4(qr),this}rotateY(e){return qr.makeRotationY(e),this.applyMatrix4(qr),this}rotateZ(e){return qr.makeRotationZ(e),this.applyMatrix4(qr),this}translate(e,n,r){return qr.makeTranslation(e,n,r),this.applyMatrix4(qr),this}scale(e,n,r){return qr.makeScale(e,n,r),this.applyMatrix4(qr),this}lookAt(e){return b0.lookAt(e),b0.updateMatrix(),this.applyMatrix4(b0.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(El).negate(),this.translate(El.x,El.y,El.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,o=e.length;i<o;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Bn(r,3))}else{for(let r=0,i=n.count;r<i;r++){const o=e[r];n.setXYZ(r,o.x,o.y,o.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new sh);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new X(-1/0,-1/0,-1/0),new X(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Tr.setFromBufferAttribute(o),this.morphTargetsRelative?(Ln.addVectors(this.boundingBox.min,Tr.min),this.boundingBox.expandByPoint(Ln),Ln.addVectors(this.boundingBox.max,Tr.max),this.boundingBox.expandByPoint(Ln)):(this.boundingBox.expandByPoint(Tr.min),this.boundingBox.expandByPoint(Tr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new lh);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new X,1/0);return}if(e){const r=this.boundingSphere.center;if(Tr.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];Yu.setFromBufferAttribute(s),this.morphTargetsRelative?(Ln.addVectors(Tr.min,Yu.min),Tr.expandByPoint(Ln),Ln.addVectors(Tr.max,Yu.max),Tr.expandByPoint(Ln)):(Tr.expandByPoint(Yu.min),Tr.expandByPoint(Yu.max))}Tr.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)Ln.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Ln));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let c=0,f=s.count;c<f;c++)Ln.fromBufferAttribute(s,c),l&&(El.fromBufferAttribute(e,c),Ln.add(El)),i=Math.max(i,r.distanceToSquared(Ln))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Fr(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),s=[],l=[];for(let T=0;T<r.count;T++)s[T]=new X,l[T]=new X;const c=new X,f=new X,u=new X,d=new Oe,h=new Oe,m=new Oe,v=new X,g=new X;function p(T,M,A){c.fromBufferAttribute(r,T),f.fromBufferAttribute(r,M),u.fromBufferAttribute(r,A),d.fromBufferAttribute(o,T),h.fromBufferAttribute(o,M),m.fromBufferAttribute(o,A),f.sub(c),u.sub(c),h.sub(d),m.sub(d);const P=1/(h.x*m.y-m.x*h.y);isFinite(P)&&(v.copy(f).multiplyScalar(m.y).addScaledVector(u,-h.y).multiplyScalar(P),g.copy(u).multiplyScalar(h.x).addScaledVector(f,-m.x).multiplyScalar(P),s[T].add(v),s[M].add(v),s[A].add(v),l[T].add(g),l[M].add(g),l[A].add(g))}let x=this.groups;x.length===0&&(x=[{start:0,count:e.count}]);for(let T=0,M=x.length;T<M;++T){const A=x[T],P=A.start,O=A.count;for(let L=P,I=P+O;L<I;L+=3)p(e.getX(L+0),e.getX(L+1),e.getX(L+2))}const y=new X,b=new X,S=new X,_=new X;function w(T){S.fromBufferAttribute(i,T),_.copy(S);const M=s[T];y.copy(M),y.sub(S.multiplyScalar(S.dot(M))).normalize(),b.crossVectors(_,M);const P=b.dot(l[T])<0?-1:1;a.setXYZW(T,y.x,y.y,y.z,P)}for(let T=0,M=x.length;T<M;++T){const A=x[T],P=A.start,O=A.count;for(let L=P,I=P+O;L<I;L+=3)w(e.getX(L+0)),w(e.getX(L+1)),w(e.getX(L+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Fr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);const i=new X,o=new X,a=new X,s=new X,l=new X,c=new X,f=new X,u=new X;if(e)for(let d=0,h=e.count;d<h;d+=3){const m=e.getX(d+0),v=e.getX(d+1),g=e.getX(d+2);i.fromBufferAttribute(n,m),o.fromBufferAttribute(n,v),a.fromBufferAttribute(n,g),f.subVectors(a,o),u.subVectors(i,o),f.cross(u),s.fromBufferAttribute(r,m),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,g),s.add(f),l.add(f),c.add(f),r.setXYZ(m,s.x,s.y,s.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(g,c.x,c.y,c.z)}else for(let d=0,h=n.count;d<h;d+=3)i.fromBufferAttribute(n,d+0),o.fromBufferAttribute(n,d+1),a.fromBufferAttribute(n,d+2),f.subVectors(a,o),u.subVectors(i,o),f.cross(u),r.setXYZ(d+0,f.x,f.y,f.z),r.setXYZ(d+1,f.x,f.y,f.z),r.setXYZ(d+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Ln.fromBufferAttribute(e,n),Ln.normalize(),e.setXYZ(n,Ln.x,Ln.y,Ln.z)}toNonIndexed(){function e(s,l){const c=s.array,f=s.itemSize,u=s.normalized,d=new c.constructor(l.length*f);let h=0,m=0;for(let v=0,g=l.length;v<g;v++){s.isInterleavedBufferAttribute?h=l[v]*s.data.stride+s.offset:h=l[v]*f;for(let p=0;p<f;p++)d[m++]=c[h++]}return new Fr(d,f,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new $n,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],c=e(l,r);n.setAttribute(s,c)}const o=this.morphAttributes;for(const s in o){const l=[],c=o[s];for(let f=0,u=c.length;f<u;f++){const d=c[f],h=e(d,r);l.push(h)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const c=a[s];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],f=[];for(let u=0,d=c.length;u<d;u++){const h=c[u];f.push(h.toJSON(e.data))}f.length>0&&(i[l]=f,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const f=i[c];this.setAttribute(c,f.clone(n))}const o=e.morphAttributes;for(const c in o){const f=[],u=o[c];for(let d=0,h=u.length;d<h;d++)f.push(u[d].clone(n));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,f=a.length;c<f;c++){const u=a[c];this.addGroup(u.start,u.count,u.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const VA=new nn,rs=new ch,ep=new lh,GA=new X,tp=new X,np=new X,rp=new X,_0=new X,ip=new X,WA=new X,op=new X;class Di extends Wn{constructor(e=new $n,n=new yg){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(o&&s){ip.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const f=s[l],u=o[l];f!==0&&(_0.fromBufferAttribute(u,e),a?ip.addScaledVector(_0,f):ip.addScaledVector(_0.sub(n),f))}n.add(ip)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),ep.copy(r.boundingSphere),ep.applyMatrix4(o),rs.copy(e.ray).recast(e.near),!(ep.containsPoint(rs.origin)===!1&&(rs.intersectSphere(ep,GA)===null||rs.origin.distanceToSquared(GA)>(e.far-e.near)**2))&&(VA.copy(o).invert(),rs.copy(e.ray).applyMatrix4(VA),!(r.boundingBox!==null&&rs.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,rs)))}_computeIntersections(e,n,r){let i;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,c=o.attributes.uv,f=o.attributes.uv1,u=o.attributes.normal,d=o.groups,h=o.drawRange;if(s!==null)if(Array.isArray(a))for(let m=0,v=d.length;m<v;m++){const g=d[m],p=a[g.materialIndex],x=Math.max(g.start,h.start),y=Math.min(s.count,Math.min(g.start+g.count,h.start+h.count));for(let b=x,S=y;b<S;b+=3){const _=s.getX(b),w=s.getX(b+1),T=s.getX(b+2);i=ap(this,p,e,r,c,f,u,_,w,T),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=g.materialIndex,n.push(i))}}else{const m=Math.max(0,h.start),v=Math.min(s.count,h.start+h.count);for(let g=m,p=v;g<p;g+=3){const x=s.getX(g),y=s.getX(g+1),b=s.getX(g+2);i=ap(this,a,e,r,c,f,u,x,y,b),i&&(i.faceIndex=Math.floor(g/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let m=0,v=d.length;m<v;m++){const g=d[m],p=a[g.materialIndex],x=Math.max(g.start,h.start),y=Math.min(l.count,Math.min(g.start+g.count,h.start+h.count));for(let b=x,S=y;b<S;b+=3){const _=b,w=b+1,T=b+2;i=ap(this,p,e,r,c,f,u,_,w,T),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=g.materialIndex,n.push(i))}}else{const m=Math.max(0,h.start),v=Math.min(l.count,h.start+h.count);for(let g=m,p=v;g<p;g+=3){const x=g,y=g+1,b=g+2;i=ap(this,a,e,r,c,f,u,x,y,b),i&&(i.faceIndex=Math.floor(g/3),n.push(i))}}}}function B5(t,e,n,r,i,o,a,s){let l;if(e.side===_r?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side===ja,s),l===null)return null;op.copy(s),op.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(op);return c<n.near||c>n.far?null:{distance:c,point:op.clone(),object:t}}function ap(t,e,n,r,i,o,a,s,l,c){t.getVertexPosition(s,tp),t.getVertexPosition(l,np),t.getVertexPosition(c,rp);const f=B5(t,e,n,r,tp,np,rp,WA);if(f){const u=new X;ni.getBarycoord(WA,tp,np,rp,u),i&&(f.uv=ni.getInterpolatedAttribute(i,s,l,c,u,new Oe)),o&&(f.uv1=ni.getInterpolatedAttribute(o,s,l,c,u,new Oe)),a&&(f.normal=ni.getInterpolatedAttribute(a,s,l,c,u,new X),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const d={a:s,b:l,c,normal:new X,materialIndex:0};ni.getNormal(tp,np,rp,d.normal),f.face=d,f.barycoord=u}return f}class uh extends $n{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],c=[],f=[],u=[];let d=0,h=0;m("z","y","x",-1,-1,r,n,e,a,o,0),m("z","y","x",1,-1,r,n,-e,a,o,1),m("x","z","y",1,1,e,r,n,i,a,2),m("x","z","y",1,-1,e,r,-n,i,a,3),m("x","y","z",1,-1,e,n,r,i,o,4),m("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Bn(c,3)),this.setAttribute("normal",new Bn(f,3)),this.setAttribute("uv",new Bn(u,2));function m(v,g,p,x,y,b,S,_,w,T,M){const A=b/w,P=S/T,O=b/2,L=S/2,I=_/2,j=w+1,F=T+1;let B=0,D=0;const z=new X;for(let W=0;W<F;W++){const J=W*P-L;for(let ie=0;ie<j;ie++){const xe=ie*A-O;z[v]=xe*x,z[g]=J*y,z[p]=I,c.push(z.x,z.y,z.z),z[v]=0,z[g]=0,z[p]=_>0?1:-1,f.push(z.x,z.y,z.z),u.push(ie/w),u.push(1-W/T),B+=1}}for(let W=0;W<T;W++)for(let J=0;J<w;J++){const ie=d+J+j*W,xe=d+J+j*(W+1),Z=d+(J+1)+j*(W+1),ue=d+(J+1)+j*W;l.push(ie,xe,ue),l.push(xe,Z,ue),D+=6}s.addGroup(h,D,M),h+=D,d+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Lc(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ir(t){const e={};for(let n=0;n<t.length;n++){const r=Lc(t[n]);for(const i in r)e[i]=r[i]}return e}function $5(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function lL(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:At.workingColorSpace}const z5={clone:Lc,merge:ir};var H5=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,V5=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ba extends du{static get type(){return"ShaderMaterial"}constructor(e){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=H5,this.fragmentShader=V5,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Lc(e.uniforms),this.uniformsGroups=$5(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class cL extends Wn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new nn,this.projectionMatrix=new nn,this.projectionMatrixInverse=new nn,this.coordinateSystem=To}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const la=new X,XA=new Oe,qA=new Oe;class ti extends cL{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=sd*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(hc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return sd*2*Math.atan(Math.tan(hc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){la.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(la.x,la.y).multiplyScalar(-e/la.z),la.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(la.x,la.y).multiplyScalar(-e/la.z)}getViewSize(e,n){return this.getViewBounds(e,XA,qA),n.subVectors(qA,XA)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(hc*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;o+=a.offsetX*i/l,n-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Ml=-90,Al=1;class G5 extends Wn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new ti(Ml,Al,e,n);i.layers=this.layers,this.add(i);const o=new ti(Ml,Al,e,n);o.layers=this.layers,this.add(o);const a=new ti(Ml,Al,e,n);a.layers=this.layers,this.add(a);const s=new ti(Ml,Al,e,n);s.layers=this.layers,this.add(s);const l=new ti(Ml,Al,e,n);l.layers=this.layers,this.add(l);const c=new ti(Ml,Al,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,l]=n;for(const c of n)this.remove(c);if(e===To)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===$m)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,c,f]=this.children,u=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const v=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=v,e.setRenderTarget(r,5,i),e.render(n,f),e.setRenderTarget(u,d,h),e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class uL extends Sr{constructor(e,n,r,i,o,a,s,l,c,f){e=e!==void 0?e:[],n=n!==void 0?n:Oc,super(e,n,r,i,o,a,s,l,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class W5 extends zs{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new uL(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Ki}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new uh(5,5,5),o=new Ba({name:"CubemapFromEquirect",uniforms:Lc(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:_r,blending:Da});o.uniforms.tEquirect.value=n;const a=new Di(i,o),s=n.minFilter;return n.minFilter===As&&(n.minFilter=Ki),new G5(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}const S0=new X,X5=new X,q5=new mt;class ma{constructor(e=new X(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=S0.subVectors(r,n).cross(X5.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(S0),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||q5.getNormalMatrix(e),i=this.coplanarPoint(S0).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const is=new lh,sp=new X;class fL{constructor(e=new ma,n=new ma,r=new ma,i=new ma,o=new ma,a=new ma){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=To){const r=this.planes,i=e.elements,o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],f=i[5],u=i[6],d=i[7],h=i[8],m=i[9],v=i[10],g=i[11],p=i[12],x=i[13],y=i[14],b=i[15];if(r[0].setComponents(l-o,d-c,g-h,b-p).normalize(),r[1].setComponents(l+o,d+c,g+h,b+p).normalize(),r[2].setComponents(l+a,d+f,g+m,b+x).normalize(),r[3].setComponents(l-a,d-f,g-m,b-x).normalize(),r[4].setComponents(l-s,d-u,g-v,b-y).normalize(),n===To)r[5].setComponents(l+s,d+u,g+v,b+y).normalize();else if(n===$m)r[5].setComponents(s,u,v,y).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),is.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),is.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(is)}intersectsSprite(e){return is.center.set(0,0,0),is.radius=.7071067811865476,is.applyMatrix4(e.matrixWorld),this.intersectsSphere(is)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(sp.x=i.normal.x>0?e.max.x:e.min.x,sp.y=i.normal.y>0?e.max.y:e.min.y,sp.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(sp)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function dL(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function Y5(t){const e=new WeakMap;function n(s,l){const c=s.array,f=s.usage,u=c.byteLength,d=t.createBuffer();t.bindBuffer(l,d),t.bufferData(l,c,f),s.onUploadCallback();let h;if(c instanceof Float32Array)h=t.FLOAT;else if(c instanceof Uint16Array)s.isFloat16BufferAttribute?h=t.HALF_FLOAT:h=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=t.SHORT;else if(c instanceof Uint32Array)h=t.UNSIGNED_INT;else if(c instanceof Int32Array)h=t.INT;else if(c instanceof Int8Array)h=t.BYTE;else if(c instanceof Uint8Array)h=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:d,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:s.version,size:u}}function r(s,l,c){const f=l.array,u=l.updateRanges;if(t.bindBuffer(c,s),u.length===0)t.bufferSubData(c,0,f);else{u.sort((h,m)=>h.start-m.start);let d=0;for(let h=1;h<u.length;h++){const m=u[d],v=u[h];v.start<=m.start+m.count+1?m.count=Math.max(m.count,v.start+v.count-m.start):(++d,u[d]=v)}u.length=d+1;for(let h=0,m=u.length;h<m;h++){const v=u[h];t.bufferSubData(c,v.start*f.BYTES_PER_ELEMENT,f,v.start,v.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function o(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(t.deleteBuffer(l.buffer),e.delete(s))}function a(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const f=e.get(s);(!f||f.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const c=e.get(s);if(c===void 0)e.set(s,n(s,l));else if(c.version<s.version){if(c.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,s,l),c.version=s.version}}return{get:i,remove:o,update:a}}class xg extends $n{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),l=Math.floor(i),c=s+1,f=l+1,u=e/s,d=n/l,h=[],m=[],v=[],g=[];for(let p=0;p<f;p++){const x=p*d-a;for(let y=0;y<c;y++){const b=y*u-o;m.push(b,-x,0),v.push(0,0,1),g.push(y/s),g.push(1-p/l)}}for(let p=0;p<l;p++)for(let x=0;x<s;x++){const y=x+c*p,b=x+c*(p+1),S=x+1+c*(p+1),_=x+1+c*p;h.push(y,b,_),h.push(b,S,_)}this.setIndex(h),this.setAttribute("position",new Bn(m,3)),this.setAttribute("normal",new Bn(v,3)),this.setAttribute("uv",new Bn(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xg(e.width,e.height,e.widthSegments,e.heightSegments)}}var K5=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Z5=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,J5=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Q5=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eH=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,tH=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,nH=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,rH=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,iH=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,oH=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,aH=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,sH=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,lH=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,cH=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,uH=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,fH=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,dH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,hH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,pH=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,mH=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,vH=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,gH=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,yH=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,xH=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,bH=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,_H=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,SH=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,wH=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,EH=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,MH=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,AH="gl_FragColor = linearToOutputTexel( gl_FragColor );",TH=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,PH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,CH=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,OH=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,RH=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,NH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,DH=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,LH=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,IH=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,kH=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,UH=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,FH=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,jH=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,BH=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,$H=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,zH=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,HH=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,VH=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,GH=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,WH=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,XH=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,qH=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,YH=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,KH=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,ZH=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,JH=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,QH=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,eV=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,tV=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,nV=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,rV=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,iV=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,oV=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,aV=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,sV=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,lV=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,cV=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,uV=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,fV=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,dV=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,hV=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,pV=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,mV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,vV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,gV=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,yV=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,xV=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,bV=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,_V=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,SV=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,wV=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,EV=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,MV=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,AV=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,TV=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,PV=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,CV=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,OV=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,RV=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,NV=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,DV=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,LV=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,IV=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,kV=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,UV=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,FV=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,jV=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,BV=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,$V=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,zV=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,HV=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,VV=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,GV=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,WV=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,XV=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,qV=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const YV=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,KV=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ZV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,JV=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,QV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,eG=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tG=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,nG=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,rG=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,iG=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,oG=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,aG=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sG=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,lG=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cG=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,uG=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fG=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dG=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hG=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,pG=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mG=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,vG=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,gG=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yG=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xG=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,bG=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_G=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SG=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wG=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,EG=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,MG=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,AG=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,TG=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,PG=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,gt={alphahash_fragment:K5,alphahash_pars_fragment:Z5,alphamap_fragment:J5,alphamap_pars_fragment:Q5,alphatest_fragment:eH,alphatest_pars_fragment:tH,aomap_fragment:nH,aomap_pars_fragment:rH,batching_pars_vertex:iH,batching_vertex:oH,begin_vertex:aH,beginnormal_vertex:sH,bsdfs:lH,iridescence_fragment:cH,bumpmap_pars_fragment:uH,clipping_planes_fragment:fH,clipping_planes_pars_fragment:dH,clipping_planes_pars_vertex:hH,clipping_planes_vertex:pH,color_fragment:mH,color_pars_fragment:vH,color_pars_vertex:gH,color_vertex:yH,common:xH,cube_uv_reflection_fragment:bH,defaultnormal_vertex:_H,displacementmap_pars_vertex:SH,displacementmap_vertex:wH,emissivemap_fragment:EH,emissivemap_pars_fragment:MH,colorspace_fragment:AH,colorspace_pars_fragment:TH,envmap_fragment:PH,envmap_common_pars_fragment:CH,envmap_pars_fragment:OH,envmap_pars_vertex:RH,envmap_physical_pars_fragment:zH,envmap_vertex:NH,fog_vertex:DH,fog_pars_vertex:LH,fog_fragment:IH,fog_pars_fragment:kH,gradientmap_pars_fragment:UH,lightmap_pars_fragment:FH,lights_lambert_fragment:jH,lights_lambert_pars_fragment:BH,lights_pars_begin:$H,lights_toon_fragment:HH,lights_toon_pars_fragment:VH,lights_phong_fragment:GH,lights_phong_pars_fragment:WH,lights_physical_fragment:XH,lights_physical_pars_fragment:qH,lights_fragment_begin:YH,lights_fragment_maps:KH,lights_fragment_end:ZH,logdepthbuf_fragment:JH,logdepthbuf_pars_fragment:QH,logdepthbuf_pars_vertex:eV,logdepthbuf_vertex:tV,map_fragment:nV,map_pars_fragment:rV,map_particle_fragment:iV,map_particle_pars_fragment:oV,metalnessmap_fragment:aV,metalnessmap_pars_fragment:sV,morphinstance_vertex:lV,morphcolor_vertex:cV,morphnormal_vertex:uV,morphtarget_pars_vertex:fV,morphtarget_vertex:dV,normal_fragment_begin:hV,normal_fragment_maps:pV,normal_pars_fragment:mV,normal_pars_vertex:vV,normal_vertex:gV,normalmap_pars_fragment:yV,clearcoat_normal_fragment_begin:xV,clearcoat_normal_fragment_maps:bV,clearcoat_pars_fragment:_V,iridescence_pars_fragment:SV,opaque_fragment:wV,packing:EV,premultiplied_alpha_fragment:MV,project_vertex:AV,dithering_fragment:TV,dithering_pars_fragment:PV,roughnessmap_fragment:CV,roughnessmap_pars_fragment:OV,shadowmap_pars_fragment:RV,shadowmap_pars_vertex:NV,shadowmap_vertex:DV,shadowmask_pars_fragment:LV,skinbase_vertex:IV,skinning_pars_vertex:kV,skinning_vertex:UV,skinnormal_vertex:FV,specularmap_fragment:jV,specularmap_pars_fragment:BV,tonemapping_fragment:$V,tonemapping_pars_fragment:zV,transmission_fragment:HV,transmission_pars_fragment:VV,uv_pars_fragment:GV,uv_pars_vertex:WV,uv_vertex:XV,worldpos_vertex:qV,background_vert:YV,background_frag:KV,backgroundCube_vert:ZV,backgroundCube_frag:JV,cube_vert:QV,cube_frag:eG,depth_vert:tG,depth_frag:nG,distanceRGBA_vert:rG,distanceRGBA_frag:iG,equirect_vert:oG,equirect_frag:aG,linedashed_vert:sG,linedashed_frag:lG,meshbasic_vert:cG,meshbasic_frag:uG,meshlambert_vert:fG,meshlambert_frag:dG,meshmatcap_vert:hG,meshmatcap_frag:pG,meshnormal_vert:mG,meshnormal_frag:vG,meshphong_vert:gG,meshphong_frag:yG,meshphysical_vert:xG,meshphysical_frag:bG,meshtoon_vert:_G,meshtoon_frag:SG,points_vert:wG,points_frag:EG,shadow_vert:MG,shadow_frag:AG,sprite_vert:TG,sprite_frag:PG},Ne={common:{diffuse:{value:new Tt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new mt},alphaMap:{value:null},alphaMapTransform:{value:new mt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new mt}},envmap:{envMap:{value:null},envMapRotation:{value:new mt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new mt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new mt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new mt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new mt},normalScale:{value:new Oe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new mt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new mt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new mt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new mt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Tt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Tt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new mt},alphaTest:{value:0},uvTransform:{value:new mt}},sprite:{diffuse:{value:new Tt(16777215)},opacity:{value:1},center:{value:new Oe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new mt},alphaMap:{value:null},alphaMapTransform:{value:new mt},alphaTest:{value:0}}},Xi={basic:{uniforms:ir([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.fog]),vertexShader:gt.meshbasic_vert,fragmentShader:gt.meshbasic_frag},lambert:{uniforms:ir([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,Ne.lights,{emissive:{value:new Tt(0)}}]),vertexShader:gt.meshlambert_vert,fragmentShader:gt.meshlambert_frag},phong:{uniforms:ir([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,Ne.lights,{emissive:{value:new Tt(0)},specular:{value:new Tt(1118481)},shininess:{value:30}}]),vertexShader:gt.meshphong_vert,fragmentShader:gt.meshphong_frag},standard:{uniforms:ir([Ne.common,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.roughnessmap,Ne.metalnessmap,Ne.fog,Ne.lights,{emissive:{value:new Tt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag},toon:{uniforms:ir([Ne.common,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.gradientmap,Ne.fog,Ne.lights,{emissive:{value:new Tt(0)}}]),vertexShader:gt.meshtoon_vert,fragmentShader:gt.meshtoon_frag},matcap:{uniforms:ir([Ne.common,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,{matcap:{value:null}}]),vertexShader:gt.meshmatcap_vert,fragmentShader:gt.meshmatcap_frag},points:{uniforms:ir([Ne.points,Ne.fog]),vertexShader:gt.points_vert,fragmentShader:gt.points_frag},dashed:{uniforms:ir([Ne.common,Ne.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gt.linedashed_vert,fragmentShader:gt.linedashed_frag},depth:{uniforms:ir([Ne.common,Ne.displacementmap]),vertexShader:gt.depth_vert,fragmentShader:gt.depth_frag},normal:{uniforms:ir([Ne.common,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,{opacity:{value:1}}]),vertexShader:gt.meshnormal_vert,fragmentShader:gt.meshnormal_frag},sprite:{uniforms:ir([Ne.sprite,Ne.fog]),vertexShader:gt.sprite_vert,fragmentShader:gt.sprite_frag},background:{uniforms:{uvTransform:{value:new mt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:gt.background_vert,fragmentShader:gt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new mt}},vertexShader:gt.backgroundCube_vert,fragmentShader:gt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:gt.cube_vert,fragmentShader:gt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gt.equirect_vert,fragmentShader:gt.equirect_frag},distanceRGBA:{uniforms:ir([Ne.common,Ne.displacementmap,{referencePosition:{value:new X},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gt.distanceRGBA_vert,fragmentShader:gt.distanceRGBA_frag},shadow:{uniforms:ir([Ne.lights,Ne.fog,{color:{value:new Tt(0)},opacity:{value:1}}]),vertexShader:gt.shadow_vert,fragmentShader:gt.shadow_frag}};Xi.physical={uniforms:ir([Xi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new mt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new mt},clearcoatNormalScale:{value:new Oe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new mt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new mt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new mt},sheen:{value:0},sheenColor:{value:new Tt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new mt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new mt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new mt},transmissionSamplerSize:{value:new Oe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new mt},attenuationDistance:{value:0},attenuationColor:{value:new Tt(0)},specularColor:{value:new Tt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new mt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new mt},anisotropyVector:{value:new Oe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new mt}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag};const lp={r:0,b:0,g:0},os=new zo,CG=new nn;function OG(t,e,n,r,i,o,a){const s=new Tt(0);let l=o===!0?0:1,c,f,u=null,d=0,h=null;function m(x){let y=x.isScene===!0?x.background:null;return y&&y.isTexture&&(y=(x.backgroundBlurriness>0?n:e).get(y)),y}function v(x){let y=!1;const b=m(x);b===null?p(s,l):b&&b.isColor&&(p(b,1),y=!0);const S=t.xr.getEnvironmentBlendMode();S==="additive"?r.buffers.color.setClear(0,0,0,1,a):S==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||y)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function g(x,y){const b=m(y);b&&(b.isCubeTexture||b.mapping===vg)?(f===void 0&&(f=new Di(new uh(1,1,1),new Ba({name:"BackgroundCubeMaterial",uniforms:Lc(Xi.backgroundCube.uniforms),vertexShader:Xi.backgroundCube.vertexShader,fragmentShader:Xi.backgroundCube.fragmentShader,side:_r,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(S,_,w){this.matrixWorld.copyPosition(w.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),os.copy(y.backgroundRotation),os.x*=-1,os.y*=-1,os.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(os.y*=-1,os.z*=-1),f.material.uniforms.envMap.value=b,f.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=y.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(CG.makeRotationFromEuler(os)),f.material.toneMapped=At.getTransfer(b.colorSpace)!==jt,(u!==b||d!==b.version||h!==t.toneMapping)&&(f.material.needsUpdate=!0,u=b,d=b.version,h=t.toneMapping),f.layers.enableAll(),x.unshift(f,f.geometry,f.material,0,0,null)):b&&b.isTexture&&(c===void 0&&(c=new Di(new xg(2,2),new Ba({name:"BackgroundMaterial",uniforms:Lc(Xi.background.uniforms),vertexShader:Xi.background.vertexShader,fragmentShader:Xi.background.fragmentShader,side:ja,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=b,c.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,c.material.toneMapped=At.getTransfer(b.colorSpace)!==jt,b.matrixAutoUpdate===!0&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(u!==b||d!==b.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,u=b,d=b.version,h=t.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function p(x,y){x.getRGB(lp,lL(t)),r.buffers.color.setClear(lp.r,lp.g,lp.b,y,a)}return{getClearColor:function(){return s},setClearColor:function(x,y=1){s.set(x),l=y,p(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,p(s,l)},render:v,addToRenderList:g}}function RG(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=d(null);let o=i,a=!1;function s(A,P,O,L,I){let j=!1;const F=u(L,O,P);o!==F&&(o=F,c(o.object)),j=h(A,L,O,I),j&&m(A,L,O,I),I!==null&&e.update(I,t.ELEMENT_ARRAY_BUFFER),(j||a)&&(a=!1,b(A,P,O,L),I!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(I).buffer))}function l(){return t.createVertexArray()}function c(A){return t.bindVertexArray(A)}function f(A){return t.deleteVertexArray(A)}function u(A,P,O){const L=O.wireframe===!0;let I=r[A.id];I===void 0&&(I={},r[A.id]=I);let j=I[P.id];j===void 0&&(j={},I[P.id]=j);let F=j[L];return F===void 0&&(F=d(l()),j[L]=F),F}function d(A){const P=[],O=[],L=[];for(let I=0;I<n;I++)P[I]=0,O[I]=0,L[I]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:P,enabledAttributes:O,attributeDivisors:L,object:A,attributes:{},index:null}}function h(A,P,O,L){const I=o.attributes,j=P.attributes;let F=0;const B=O.getAttributes();for(const D in B)if(B[D].location>=0){const W=I[D];let J=j[D];if(J===void 0&&(D==="instanceMatrix"&&A.instanceMatrix&&(J=A.instanceMatrix),D==="instanceColor"&&A.instanceColor&&(J=A.instanceColor)),W===void 0||W.attribute!==J||J&&W.data!==J.data)return!0;F++}return o.attributesNum!==F||o.index!==L}function m(A,P,O,L){const I={},j=P.attributes;let F=0;const B=O.getAttributes();for(const D in B)if(B[D].location>=0){let W=j[D];W===void 0&&(D==="instanceMatrix"&&A.instanceMatrix&&(W=A.instanceMatrix),D==="instanceColor"&&A.instanceColor&&(W=A.instanceColor));const J={};J.attribute=W,W&&W.data&&(J.data=W.data),I[D]=J,F++}o.attributes=I,o.attributesNum=F,o.index=L}function v(){const A=o.newAttributes;for(let P=0,O=A.length;P<O;P++)A[P]=0}function g(A){p(A,0)}function p(A,P){const O=o.newAttributes,L=o.enabledAttributes,I=o.attributeDivisors;O[A]=1,L[A]===0&&(t.enableVertexAttribArray(A),L[A]=1),I[A]!==P&&(t.vertexAttribDivisor(A,P),I[A]=P)}function x(){const A=o.newAttributes,P=o.enabledAttributes;for(let O=0,L=P.length;O<L;O++)P[O]!==A[O]&&(t.disableVertexAttribArray(O),P[O]=0)}function y(A,P,O,L,I,j,F){F===!0?t.vertexAttribIPointer(A,P,O,I,j):t.vertexAttribPointer(A,P,O,L,I,j)}function b(A,P,O,L){v();const I=L.attributes,j=O.getAttributes(),F=P.defaultAttributeValues;for(const B in j){const D=j[B];if(D.location>=0){let z=I[B];if(z===void 0&&(B==="instanceMatrix"&&A.instanceMatrix&&(z=A.instanceMatrix),B==="instanceColor"&&A.instanceColor&&(z=A.instanceColor)),z!==void 0){const W=z.normalized,J=z.itemSize,ie=e.get(z);if(ie===void 0)continue;const xe=ie.buffer,Z=ie.type,ue=ie.bytesPerElement,be=Z===t.INT||Z===t.UNSIGNED_INT||z.gpuType===r1;if(z.isInterleavedBufferAttribute){const ne=z.data,_e=ne.stride,Q=z.offset;if(ne.isInstancedInterleavedBuffer){for(let ae=0;ae<D.locationSize;ae++)p(D.location+ae,ne.meshPerAttribute);A.isInstancedMesh!==!0&&L._maxInstanceCount===void 0&&(L._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let ae=0;ae<D.locationSize;ae++)g(D.location+ae);t.bindBuffer(t.ARRAY_BUFFER,xe);for(let ae=0;ae<D.locationSize;ae++)y(D.location+ae,J/D.locationSize,Z,W,_e*ue,(Q+J/D.locationSize*ae)*ue,be)}else{if(z.isInstancedBufferAttribute){for(let ne=0;ne<D.locationSize;ne++)p(D.location+ne,z.meshPerAttribute);A.isInstancedMesh!==!0&&L._maxInstanceCount===void 0&&(L._maxInstanceCount=z.meshPerAttribute*z.count)}else for(let ne=0;ne<D.locationSize;ne++)g(D.location+ne);t.bindBuffer(t.ARRAY_BUFFER,xe);for(let ne=0;ne<D.locationSize;ne++)y(D.location+ne,J/D.locationSize,Z,W,J*ue,J/D.locationSize*ne*ue,be)}}else if(F!==void 0){const W=F[B];if(W!==void 0)switch(W.length){case 2:t.vertexAttrib2fv(D.location,W);break;case 3:t.vertexAttrib3fv(D.location,W);break;case 4:t.vertexAttrib4fv(D.location,W);break;default:t.vertexAttrib1fv(D.location,W)}}}}x()}function S(){T();for(const A in r){const P=r[A];for(const O in P){const L=P[O];for(const I in L)f(L[I].object),delete L[I];delete P[O]}delete r[A]}}function _(A){if(r[A.id]===void 0)return;const P=r[A.id];for(const O in P){const L=P[O];for(const I in L)f(L[I].object),delete L[I];delete P[O]}delete r[A.id]}function w(A){for(const P in r){const O=r[P];if(O[A.id]===void 0)continue;const L=O[A.id];for(const I in L)f(L[I].object),delete L[I];delete O[A.id]}}function T(){M(),a=!0,o!==i&&(o=i,c(o.object))}function M(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:T,resetDefaultState:M,dispose:S,releaseStatesOfGeometry:_,releaseStatesOfProgram:w,initAttributes:v,enableAttribute:g,disableUnusedAttributes:x}}function NG(t,e,n){let r;function i(c){r=c}function o(c,f){t.drawArrays(r,c,f),n.update(f,r,1)}function a(c,f,u){u!==0&&(t.drawArraysInstanced(r,c,f,u),n.update(f,r,u))}function s(c,f,u){if(u===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,f,0,u);let h=0;for(let m=0;m<u;m++)h+=f[m];n.update(h,r,1)}function l(c,f,u,d){if(u===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let m=0;m<c.length;m++)a(c[m],f[m],d[m]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,f,0,d,0,u);let m=0;for(let v=0;v<u;v++)m+=f[v]*d[v];n.update(m,r,1)}}this.setMode=i,this.render=o,this.renderInstances=a,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function DG(t,e,n,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const w=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(w.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(w){return!(w!==Ni&&r.convert(w)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(w){const T=w===ah&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(w!==$o&&r.convert(w)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&w!==Ao&&!T)}function l(w){if(w==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";w="mediump"}return w==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const f=l(c);f!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",f,"instead."),c=f);const u=n.logarithmicDepthBuffer===!0,d=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),y=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),S=m>0,_=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:s,precision:c,logarithmicDepthBuffer:u,reverseDepthBuffer:d,maxTextures:h,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:g,maxAttributes:p,maxVertexUniforms:x,maxVaryings:y,maxFragmentUniforms:b,vertexTextures:S,maxSamples:_}}function LG(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new ma,s=new mt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,d){const h=u.length!==0||d||r!==0||i;return i=d,r=u.length,h},this.beginShadows=function(){o=!0,f(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(u,d){n=f(u,d,0)},this.setState=function(u,d,h){const m=u.clippingPlanes,v=u.clipIntersection,g=u.clipShadows,p=t.get(u);if(!i||m===null||m.length===0||o&&!g)o?f(null):c();else{const x=o?0:r,y=x*4;let b=p.clippingState||null;l.value=b,b=f(m,d,y,h);for(let S=0;S!==y;++S)b[S]=n[S];p.clippingState=b,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(u,d,h,m){const v=u!==null?u.length:0;let g=null;if(v!==0){if(g=l.value,m!==!0||g===null){const p=h+v*4,x=d.matrixWorldInverse;s.getNormalMatrix(x),(g===null||g.length<p)&&(g=new Float32Array(p));for(let y=0,b=h;y!==v;++y,b+=4)a.copy(u[y]).applyMatrix4(x,s),a.normal.toArray(g,b),g[b+3]=a.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,g}}function IG(t){let e=new WeakMap;function n(a,s){return s===Ab?a.mapping=Oc:s===Tb&&(a.mapping=Rc),a}function r(a){if(a&&a.isTexture){const s=a.mapping;if(s===Ab||s===Tb)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new W5(l.height);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",i),n(c.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class kG extends cL{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,a=o+c*this.view.width,s-=f*this.view.offsetY,l=s-f*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Kl=4,YA=[.125,.215,.35,.446,.526,.582],xs=20,w0=new kG,KA=new Tt;let E0=null,M0=0,A0=0,T0=!1;const ds=(1+Math.sqrt(5))/2,Tl=1/ds,ZA=[new X(-ds,Tl,0),new X(ds,Tl,0),new X(-Tl,0,ds),new X(Tl,0,ds),new X(0,ds,-Tl),new X(0,ds,Tl),new X(-1,1,-1),new X(1,1,-1),new X(-1,1,1),new X(1,1,1)];class JA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){E0=this._renderer.getRenderTarget(),M0=this._renderer.getActiveCubeFace(),A0=this._renderer.getActiveMipmapLevel(),T0=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=tT(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=eT(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(E0,M0,A0),this._renderer.xr.enabled=T0,e.scissorTest=!1,cp(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Oc||e.mapping===Rc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),E0=this._renderer.getRenderTarget(),M0=this._renderer.getActiveCubeFace(),A0=this._renderer.getActiveMipmapLevel(),T0=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Ki,minFilter:Ki,generateMipmaps:!1,type:ah,format:Ni,colorSpace:fu,depthBuffer:!1},i=QA(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=QA(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=UG(o)),this._blurMaterial=FG(o,e,n)}return i}_compileMaterial(e){const n=new Di(this._lodPlanes[0],e);this._renderer.compile(n,w0)}_sceneToCubeUV(e,n,r,i){const s=new ti(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,u=f.autoClear,d=f.toneMapping;f.getClearColor(KA),f.toneMapping=La,f.autoClear=!1;const h=new yg({name:"PMREM.Background",side:_r,depthWrite:!1,depthTest:!1}),m=new Di(new uh,h);let v=!1;const g=e.background;g?g.isColor&&(h.color.copy(g),e.background=null,v=!0):(h.color.copy(KA),v=!0);for(let p=0;p<6;p++){const x=p%3;x===0?(s.up.set(0,l[p],0),s.lookAt(c[p],0,0)):x===1?(s.up.set(0,0,l[p]),s.lookAt(0,c[p],0)):(s.up.set(0,l[p],0),s.lookAt(0,0,c[p]));const y=this._cubeSize;cp(i,x*y,p>2?y:0,y,y),f.setRenderTarget(i),v&&f.render(m,s),f.render(e,s)}m.geometry.dispose(),m.material.dispose(),f.toneMapping=d,f.autoClear=u,e.background=g}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Oc||e.mapping===Rc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=tT()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=eT());const o=i?this._cubemapMaterial:this._equirectMaterial,a=new Di(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;cp(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,w0)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let o=1;o<i;o++){const a=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),s=ZA[(i-o-1)%ZA.length];this._blur(e,o-1,o,a,s)}n.autoClear=r}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,u=new Di(this._lodPlanes[i],c),d=c.uniforms,h=this._sizeLods[r]-1,m=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*xs-1),v=o/m,g=isFinite(o)?1+Math.floor(f*v):xs;g>xs&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${xs}`);const p=[];let x=0;for(let w=0;w<xs;++w){const T=w/v,M=Math.exp(-T*T/2);p.push(M),w===0?x+=M:w<g&&(x+=2*M)}for(let w=0;w<p.length;w++)p[w]=p[w]/x;d.envMap.value=e.texture,d.samples.value=g,d.weights.value=p,d.latitudinal.value=a==="latitudinal",s&&(d.poleAxis.value=s);const{_lodMax:y}=this;d.dTheta.value=m,d.mipInt.value=y-r;const b=this._sizeLods[i],S=3*b*(i>y-Kl?i-y+Kl:0),_=4*(this._cubeSize-b);cp(n,S,_,3*b,2*b),l.setRenderTarget(n),l.render(u,w0)}}function UG(t){const e=[],n=[],r=[];let i=t;const o=t-Kl+1+YA.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);n.push(s);let l=1/s;a>t-Kl?l=YA[a-t+Kl-1]:a===0&&(l=0),r.push(l);const c=1/(s-2),f=-c,u=1+c,d=[f,f,u,f,u,u,f,f,u,u,f,u],h=6,m=6,v=3,g=2,p=1,x=new Float32Array(v*m*h),y=new Float32Array(g*m*h),b=new Float32Array(p*m*h);for(let _=0;_<h;_++){const w=_%3*2/3-1,T=_>2?0:-1,M=[w,T,0,w+2/3,T,0,w+2/3,T+1,0,w,T,0,w+2/3,T+1,0,w,T+1,0];x.set(M,v*m*_),y.set(d,g*m*_);const A=[_,_,_,_,_,_];b.set(A,p*m*_)}const S=new $n;S.setAttribute("position",new Fr(x,v)),S.setAttribute("uv",new Fr(y,g)),S.setAttribute("faceIndex",new Fr(b,p)),e.push(S),i>Kl&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function QA(t,e,n){const r=new zs(t,e,n);return r.texture.mapping=vg,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function cp(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function FG(t,e,n){const r=new Float32Array(xs),i=new X(0,1,0);return new Ba({name:"SphericalGaussianBlur",defines:{n:xs,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:f1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Da,depthTest:!1,depthWrite:!1})}function eT(){return new Ba({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:f1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Da,depthTest:!1,depthWrite:!1})}function tT(){return new Ba({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:f1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Da,depthTest:!1,depthWrite:!1})}function f1(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function jG(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,c=l===Ab||l===Tb,f=l===Oc||l===Rc;if(c||f){let u=e.get(s);const d=u!==void 0?u.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==d)return n===null&&(n=new JA(t)),u=c?n.fromEquirectangular(s,u):n.fromCubemap(s,u),u.texture.pmremVersion=s.pmremVersion,e.set(s,u),u.texture;if(u!==void 0)return u.texture;{const h=s.image;return c&&h&&h.height>0||f&&h&&i(h)?(n===null&&(n=new JA(t)),u=c?n.fromEquirectangular(s):n.fromCubemap(s),u.texture.pmremVersion=s.pmremVersion,e.set(s,u),s.addEventListener("dispose",o),u.texture):null}}}return s}function i(s){let l=0;const c=6;for(let f=0;f<c;f++)s[f]!==void 0&&l++;return l===c}function o(s){const l=s.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function BG(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&gf("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function $G(t,e,n,r){const i={},o=new WeakMap;function a(u){const d=u.target;d.index!==null&&e.remove(d.index);for(const m in d.attributes)e.remove(d.attributes[m]);for(const m in d.morphAttributes){const v=d.morphAttributes[m];for(let g=0,p=v.length;g<p;g++)e.remove(v[g])}d.removeEventListener("dispose",a),delete i[d.id];const h=o.get(d);h&&(e.remove(h),o.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function s(u,d){return i[d.id]===!0||(d.addEventListener("dispose",a),i[d.id]=!0,n.memory.geometries++),d}function l(u){const d=u.attributes;for(const m in d)e.update(d[m],t.ARRAY_BUFFER);const h=u.morphAttributes;for(const m in h){const v=h[m];for(let g=0,p=v.length;g<p;g++)e.update(v[g],t.ARRAY_BUFFER)}}function c(u){const d=[],h=u.index,m=u.attributes.position;let v=0;if(h!==null){const x=h.array;v=h.version;for(let y=0,b=x.length;y<b;y+=3){const S=x[y+0],_=x[y+1],w=x[y+2];d.push(S,_,_,w,w,S)}}else if(m!==void 0){const x=m.array;v=m.version;for(let y=0,b=x.length/3-1;y<b;y+=3){const S=y+0,_=y+1,w=y+2;d.push(S,_,_,w,w,S)}}else return;const g=new(nL(d)?sL:aL)(d,1);g.version=v;const p=o.get(u);p&&e.remove(p),o.set(u,g)}function f(u){const d=o.get(u);if(d){const h=u.index;h!==null&&d.version<h.version&&c(u)}else c(u);return o.get(u)}return{get:s,update:l,getWireframeAttribute:f}}function zG(t,e,n){let r;function i(d){r=d}let o,a;function s(d){o=d.type,a=d.bytesPerElement}function l(d,h){t.drawElements(r,h,o,d*a),n.update(h,r,1)}function c(d,h,m){m!==0&&(t.drawElementsInstanced(r,h,o,d*a,m),n.update(h,r,m))}function f(d,h,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,o,d,0,m);let g=0;for(let p=0;p<m;p++)g+=h[p];n.update(g,r,1)}function u(d,h,m,v){if(m===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let p=0;p<d.length;p++)c(d[p]/a,h[p],v[p]);else{g.multiDrawElementsInstancedWEBGL(r,h,0,o,d,0,v,0,m);let p=0;for(let x=0;x<m;x++)p+=h[x]*v[x];n.update(p,r,1)}}this.setMode=i,this.setIndex=s,this.render=l,this.renderInstances=c,this.renderMultiDraw=f,this.renderMultiDrawInstances=u}function HG(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function VG(t,e,n){const r=new WeakMap,i=new yn;function o(a,s,l){const c=a.morphTargetInfluences,f=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,u=f!==void 0?f.length:0;let d=r.get(s);if(d===void 0||d.count!==u){let A=function(){T.dispose(),r.delete(s),s.removeEventListener("dispose",A)};var h=A;d!==void 0&&d.texture.dispose();const m=s.morphAttributes.position!==void 0,v=s.morphAttributes.normal!==void 0,g=s.morphAttributes.color!==void 0,p=s.morphAttributes.position||[],x=s.morphAttributes.normal||[],y=s.morphAttributes.color||[];let b=0;m===!0&&(b=1),v===!0&&(b=2),g===!0&&(b=3);let S=s.attributes.position.count*b,_=1;S>e.maxTextureSize&&(_=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const w=new Float32Array(S*_*4*u),T=new iL(w,S,_,u);T.type=Ao,T.needsUpdate=!0;const M=b*4;for(let P=0;P<u;P++){const O=p[P],L=x[P],I=y[P],j=S*_*4*P;for(let F=0;F<O.count;F++){const B=F*M;m===!0&&(i.fromBufferAttribute(O,F),w[j+B+0]=i.x,w[j+B+1]=i.y,w[j+B+2]=i.z,w[j+B+3]=0),v===!0&&(i.fromBufferAttribute(L,F),w[j+B+4]=i.x,w[j+B+5]=i.y,w[j+B+6]=i.z,w[j+B+7]=0),g===!0&&(i.fromBufferAttribute(I,F),w[j+B+8]=i.x,w[j+B+9]=i.y,w[j+B+10]=i.z,w[j+B+11]=I.itemSize===4?i.w:1)}}d={count:u,texture:T,size:new Oe(S,_)},r.set(s,d),s.addEventListener("dispose",A)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let m=0;for(let g=0;g<c.length;g++)m+=c[g];const v=s.morphTargetsRelative?1:1-m;l.getUniforms().setValue(t,"morphTargetBaseInfluence",v),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",d.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",d.size)}return{update:o}}function GG(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,f=l.geometry,u=e.get(l,f);if(i.get(u)!==c&&(e.update(u),i.set(u,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==c&&(d.update(),i.set(d,c))}return u}function a(){i=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:a}}class hL extends Sr{constructor(e,n,r,i,o,a,s,l,c,f=dc){if(f!==dc&&f!==Dc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&f===dc&&(r=$s),r===void 0&&f===Dc&&(r=Nc),super(null,i,o,a,s,l,f,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:ki,this.minFilter=l!==void 0?l:ki,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const pL=new Sr,nT=new hL(1,1),mL=new iL,vL=new O5,gL=new uL,rT=[],iT=[],oT=new Float32Array(16),aT=new Float32Array(9),sT=new Float32Array(4);function hu(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=rT[i];if(o===void 0&&(o=new Float32Array(i),rT[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function Rn(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Nn(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function bg(t,e){let n=iT[e];n===void 0&&(n=new Int32Array(e),iT[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function WG(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function XG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Rn(n,e))return;t.uniform2fv(this.addr,e),Nn(n,e)}}function qG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Rn(n,e))return;t.uniform3fv(this.addr,e),Nn(n,e)}}function YG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Rn(n,e))return;t.uniform4fv(this.addr,e),Nn(n,e)}}function KG(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Rn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Nn(n,e)}else{if(Rn(n,r))return;sT.set(r),t.uniformMatrix2fv(this.addr,!1,sT),Nn(n,r)}}function ZG(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Rn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Nn(n,e)}else{if(Rn(n,r))return;aT.set(r),t.uniformMatrix3fv(this.addr,!1,aT),Nn(n,r)}}function JG(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Rn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Nn(n,e)}else{if(Rn(n,r))return;oT.set(r),t.uniformMatrix4fv(this.addr,!1,oT),Nn(n,r)}}function QG(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function eW(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Rn(n,e))return;t.uniform2iv(this.addr,e),Nn(n,e)}}function tW(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Rn(n,e))return;t.uniform3iv(this.addr,e),Nn(n,e)}}function nW(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Rn(n,e))return;t.uniform4iv(this.addr,e),Nn(n,e)}}function rW(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function iW(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Rn(n,e))return;t.uniform2uiv(this.addr,e),Nn(n,e)}}function oW(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Rn(n,e))return;t.uniform3uiv(this.addr,e),Nn(n,e)}}function aW(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Rn(n,e))return;t.uniform4uiv(this.addr,e),Nn(n,e)}}function sW(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let o;this.type===t.SAMPLER_2D_SHADOW?(nT.compareFunction=tL,o=nT):o=pL,n.setTexture2D(e||o,i)}function lW(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||vL,i)}function cW(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||gL,i)}function uW(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||mL,i)}function fW(t){switch(t){case 5126:return WG;case 35664:return XG;case 35665:return qG;case 35666:return YG;case 35674:return KG;case 35675:return ZG;case 35676:return JG;case 5124:case 35670:return QG;case 35667:case 35671:return eW;case 35668:case 35672:return tW;case 35669:case 35673:return nW;case 5125:return rW;case 36294:return iW;case 36295:return oW;case 36296:return aW;case 35678:case 36198:case 36298:case 36306:case 35682:return sW;case 35679:case 36299:case 36307:return lW;case 35680:case 36300:case 36308:case 36293:return cW;case 36289:case 36303:case 36311:case 36292:return uW}}function dW(t,e){t.uniform1fv(this.addr,e)}function hW(t,e){const n=hu(e,this.size,2);t.uniform2fv(this.addr,n)}function pW(t,e){const n=hu(e,this.size,3);t.uniform3fv(this.addr,n)}function mW(t,e){const n=hu(e,this.size,4);t.uniform4fv(this.addr,n)}function vW(t,e){const n=hu(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function gW(t,e){const n=hu(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function yW(t,e){const n=hu(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function xW(t,e){t.uniform1iv(this.addr,e)}function bW(t,e){t.uniform2iv(this.addr,e)}function _W(t,e){t.uniform3iv(this.addr,e)}function SW(t,e){t.uniform4iv(this.addr,e)}function wW(t,e){t.uniform1uiv(this.addr,e)}function EW(t,e){t.uniform2uiv(this.addr,e)}function MW(t,e){t.uniform3uiv(this.addr,e)}function AW(t,e){t.uniform4uiv(this.addr,e)}function TW(t,e,n){const r=this.cache,i=e.length,o=bg(n,i);Rn(r,o)||(t.uniform1iv(this.addr,o),Nn(r,o));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||pL,o[a])}function PW(t,e,n){const r=this.cache,i=e.length,o=bg(n,i);Rn(r,o)||(t.uniform1iv(this.addr,o),Nn(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||vL,o[a])}function CW(t,e,n){const r=this.cache,i=e.length,o=bg(n,i);Rn(r,o)||(t.uniform1iv(this.addr,o),Nn(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||gL,o[a])}function OW(t,e,n){const r=this.cache,i=e.length,o=bg(n,i);Rn(r,o)||(t.uniform1iv(this.addr,o),Nn(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||mL,o[a])}function RW(t){switch(t){case 5126:return dW;case 35664:return hW;case 35665:return pW;case 35666:return mW;case 35674:return vW;case 35675:return gW;case 35676:return yW;case 5124:case 35670:return xW;case 35667:case 35671:return bW;case 35668:case 35672:return _W;case 35669:case 35673:return SW;case 5125:return wW;case 36294:return EW;case 36295:return MW;case 36296:return AW;case 35678:case 36198:case 36298:case 36306:case 35682:return TW;case 35679:case 36299:case 36307:return PW;case 35680:case 36300:case 36308:case 36293:return CW;case 36289:case 36303:case 36311:case 36292:return OW}}class NW{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=fW(n.type)}}class DW{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=RW(n.type)}}class LW{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(e,n[s.id],r)}}}const P0=/(\w+)(\])?(\[|\.)?/g;function lT(t,e){t.seq.push(e),t.map[e.id]=e}function IW(t,e,n){const r=t.name,i=r.length;for(P0.lastIndex=0;;){const o=P0.exec(r),a=P0.lastIndex;let s=o[1];const l=o[2]==="]",c=o[3];if(l&&(s=s|0),c===void 0||c==="["&&a+2===i){lT(n,c===void 0?new NW(s,t,e):new DW(s,t,e));break}else{let u=n.map[s];u===void 0&&(u=new LW(s),lT(n,u)),n=u}}}class lm{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),a=e.getUniformLocation(n,o.name);IW(o,a,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function cT(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const kW=37297;let UW=0;function FW(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}const uT=new mt;function jW(t){At._getMatrix(uT,At.workingColorSpace,t);const e=`mat3( ${uT.elements.map(n=>n.toFixed(4))} )`;switch(At.getTransfer(t)){case gg:return[e,"LinearTransferOETF"];case jt:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function fT(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+FW(t.getShaderSource(e),a)}else return i}function BW(t,e){const n=jW(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function $W(t,e){let n;switch(e){case B4:n="Linear";break;case $4:n="Reinhard";break;case z4:n="Cineon";break;case H4:n="ACESFilmic";break;case G4:n="AgX";break;case W4:n="Neutral";break;case V4:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const up=new X;function zW(){At.getLuminanceCoefficients(up);const t=up.x.toFixed(4),e=up.y.toFixed(4),n=up.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function HW(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(yf).join(`
`)}function VW(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function GW(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function yf(t){return t!==""}function dT(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function hT(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const WW=/^[ \t]*#include +<([\w\d./]+)>/gm;function n_(t){return t.replace(WW,qW)}const XW=new Map;function qW(t,e){let n=gt[e];if(n===void 0){const r=XW.get(e);if(r!==void 0)n=gt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return n_(n)}const YW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function pT(t){return t.replace(YW,KW)}function KW(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function mT(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function ZW(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===zD?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===x4?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===bo&&(e="SHADOWMAP_TYPE_VSM"),e}function JW(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Oc:case Rc:e="ENVMAP_TYPE_CUBE";break;case vg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function QW(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Rc:e="ENVMAP_MODE_REFRACTION";break}return e}function e8(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case HD:e="ENVMAP_BLENDING_MULTIPLY";break;case F4:e="ENVMAP_BLENDING_MIX";break;case j4:e="ENVMAP_BLENDING_ADD";break}return e}function t8(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function n8(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=ZW(n),c=JW(n),f=QW(n),u=e8(n),d=t8(n),h=HW(n),m=VW(o),v=i.createProgram();let g,p,x=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(yf).join(`
`),g.length>0&&(g+=`
`),p=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(yf).join(`
`),p.length>0&&(p+=`
`)):(g=[mT(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(yf).join(`
`),p=[mT(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",n.envMap?"#define "+u:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==La?"#define TONE_MAPPING":"",n.toneMapping!==La?gt.tonemapping_pars_fragment:"",n.toneMapping!==La?$W("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",gt.colorspace_pars_fragment,BW("linearToOutputTexel",n.outputColorSpace),zW(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(yf).join(`
`)),a=n_(a),a=dT(a,n),a=hT(a,n),s=n_(s),s=dT(s,n),s=hT(s,n),a=pT(a),s=pT(s),n.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,g=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,p=["#define varying in",n.glslVersion===TA?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===TA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p);const y=x+g+a,b=x+p+s,S=cT(i,i.VERTEX_SHADER,y),_=cT(i,i.FRAGMENT_SHADER,b);i.attachShader(v,S),i.attachShader(v,_),n.index0AttributeName!==void 0?i.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v);function w(P){if(t.debug.checkShaderErrors){const O=i.getProgramInfoLog(v).trim(),L=i.getShaderInfoLog(S).trim(),I=i.getShaderInfoLog(_).trim();let j=!0,F=!0;if(i.getProgramParameter(v,i.LINK_STATUS)===!1)if(j=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,v,S,_);else{const B=fT(i,S,"vertex"),D=fT(i,_,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,i.VALIDATE_STATUS)+`

Material Name: `+P.name+`
Material Type: `+P.type+`

Program Info Log: `+O+`
`+B+`
`+D)}else O!==""?console.warn("THREE.WebGLProgram: Program Info Log:",O):(L===""||I==="")&&(F=!1);F&&(P.diagnostics={runnable:j,programLog:O,vertexShader:{log:L,prefix:g},fragmentShader:{log:I,prefix:p}})}i.deleteShader(S),i.deleteShader(_),T=new lm(i,v),M=GW(i,v)}let T;this.getUniforms=function(){return T===void 0&&w(this),T};let M;this.getAttributes=function(){return M===void 0&&w(this),M};let A=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return A===!1&&(A=i.getProgramParameter(v,kW)),A},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=UW++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=S,this.fragmentShader=_,this}let r8=0;class i8{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new o8(e),n.set(e,r)),r}}class o8{constructor(e){this.id=r8++,this.code=e,this.usedTimes=0}}function a8(t,e,n,r,i,o,a){const s=new u1,l=new i8,c=new Set,f=[],u=i.logarithmicDepthBuffer,d=i.vertexTextures;let h=i.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(M){return c.add(M),M===0?"uv":`uv${M}`}function g(M,A,P,O,L){const I=O.fog,j=L.geometry,F=M.isMeshStandardMaterial?O.environment:null,B=(M.isMeshStandardMaterial?n:e).get(M.envMap||F),D=B&&B.mapping===vg?B.image.height:null,z=m[M.type];M.precision!==null&&(h=i.getMaxPrecision(M.precision),h!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",h,"instead."));const W=j.morphAttributes.position||j.morphAttributes.normal||j.morphAttributes.color,J=W!==void 0?W.length:0;let ie=0;j.morphAttributes.position!==void 0&&(ie=1),j.morphAttributes.normal!==void 0&&(ie=2),j.morphAttributes.color!==void 0&&(ie=3);let xe,Z,ue,be;if(z){const Nt=Xi[z];xe=Nt.vertexShader,Z=Nt.fragmentShader}else xe=M.vertexShader,Z=M.fragmentShader,l.update(M),ue=l.getVertexShaderID(M),be=l.getFragmentShaderID(M);const ne=t.getRenderTarget(),_e=t.state.buffers.depth.getReversed(),Q=L.isInstancedMesh===!0,ae=L.isBatchedMesh===!0,le=!!M.map,$=!!M.matcap,se=!!B,k=!!M.aoMap,ve=!!M.lightMap,fe=!!M.bumpMap,we=!!M.normalMap,Ee=!!M.displacementMap,Ye=!!M.emissiveMap,Le=!!M.metalnessMap,U=!!M.roughnessMap,R=M.anisotropy>0,ee=M.clearcoat>0,de=M.dispersion>0,ye=M.iridescence>0,pe=M.sheen>0,$e=M.transmission>0,Ce=R&&!!M.anisotropyMap,je=ee&&!!M.clearcoatMap,dt=ee&&!!M.clearcoatNormalMap,Ae=ee&&!!M.clearcoatRoughnessMap,Ie=ye&&!!M.iridescenceMap,tt=ye&&!!M.iridescenceThicknessMap,rt=pe&&!!M.sheenColorMap,He=pe&&!!M.sheenRoughnessMap,St=!!M.specularMap,ut=!!M.specularColorMap,Rt=!!M.specularIntensityMap,q=$e&&!!M.transmissionMap,Re=$e&&!!M.thicknessMap,ce=!!M.gradientMap,ge=!!M.alphaMap,ke=M.alphaTest>0,Ue=!!M.alphaHash,ct=!!M.extensions;let Ht=La;M.toneMapped&&(ne===null||ne.isXRRenderTarget===!0)&&(Ht=t.toneMapping);const vn={shaderID:z,shaderType:M.type,shaderName:M.name,vertexShader:xe,fragmentShader:Z,defines:M.defines,customVertexShaderID:ue,customFragmentShaderID:be,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:h,batching:ae,batchingColor:ae&&L._colorsTexture!==null,instancing:Q,instancingColor:Q&&L.instanceColor!==null,instancingMorph:Q&&L.morphTexture!==null,supportsVertexTextures:d,outputColorSpace:ne===null?t.outputColorSpace:ne.isXRRenderTarget===!0?ne.texture.colorSpace:fu,alphaToCoverage:!!M.alphaToCoverage,map:le,matcap:$,envMap:se,envMapMode:se&&B.mapping,envMapCubeUVHeight:D,aoMap:k,lightMap:ve,bumpMap:fe,normalMap:we,displacementMap:d&&Ee,emissiveMap:Ye,normalMapObjectSpace:we&&M.normalMapType===Z4,normalMapTangentSpace:we&&M.normalMapType===K4,metalnessMap:Le,roughnessMap:U,anisotropy:R,anisotropyMap:Ce,clearcoat:ee,clearcoatMap:je,clearcoatNormalMap:dt,clearcoatRoughnessMap:Ae,dispersion:de,iridescence:ye,iridescenceMap:Ie,iridescenceThicknessMap:tt,sheen:pe,sheenColorMap:rt,sheenRoughnessMap:He,specularMap:St,specularColorMap:ut,specularIntensityMap:Rt,transmission:$e,transmissionMap:q,thicknessMap:Re,gradientMap:ce,opaque:M.transparent===!1&&M.blending===fc&&M.alphaToCoverage===!1,alphaMap:ge,alphaTest:ke,alphaHash:Ue,combine:M.combine,mapUv:le&&v(M.map.channel),aoMapUv:k&&v(M.aoMap.channel),lightMapUv:ve&&v(M.lightMap.channel),bumpMapUv:fe&&v(M.bumpMap.channel),normalMapUv:we&&v(M.normalMap.channel),displacementMapUv:Ee&&v(M.displacementMap.channel),emissiveMapUv:Ye&&v(M.emissiveMap.channel),metalnessMapUv:Le&&v(M.metalnessMap.channel),roughnessMapUv:U&&v(M.roughnessMap.channel),anisotropyMapUv:Ce&&v(M.anisotropyMap.channel),clearcoatMapUv:je&&v(M.clearcoatMap.channel),clearcoatNormalMapUv:dt&&v(M.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ae&&v(M.clearcoatRoughnessMap.channel),iridescenceMapUv:Ie&&v(M.iridescenceMap.channel),iridescenceThicknessMapUv:tt&&v(M.iridescenceThicknessMap.channel),sheenColorMapUv:rt&&v(M.sheenColorMap.channel),sheenRoughnessMapUv:He&&v(M.sheenRoughnessMap.channel),specularMapUv:St&&v(M.specularMap.channel),specularColorMapUv:ut&&v(M.specularColorMap.channel),specularIntensityMapUv:Rt&&v(M.specularIntensityMap.channel),transmissionMapUv:q&&v(M.transmissionMap.channel),thicknessMapUv:Re&&v(M.thicknessMap.channel),alphaMapUv:ge&&v(M.alphaMap.channel),vertexTangents:!!j.attributes.tangent&&(we||R),vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!j.attributes.color&&j.attributes.color.itemSize===4,pointsUvs:L.isPoints===!0&&!!j.attributes.uv&&(le||ge),fog:!!I,useFog:M.fog===!0,fogExp2:!!I&&I.isFogExp2,flatShading:M.flatShading===!0,sizeAttenuation:M.sizeAttenuation===!0,logarithmicDepthBuffer:u,reverseDepthBuffer:_e,skinning:L.isSkinnedMesh===!0,morphTargets:j.morphAttributes.position!==void 0,morphNormals:j.morphAttributes.normal!==void 0,morphColors:j.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:ie,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numLightProbes:A.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:M.dithering,shadowMapEnabled:t.shadowMap.enabled&&P.length>0,shadowMapType:t.shadowMap.type,toneMapping:Ht,decodeVideoTexture:le&&M.map.isVideoTexture===!0&&At.getTransfer(M.map.colorSpace)===jt,decodeVideoTextureEmissive:Ye&&M.emissiveMap.isVideoTexture===!0&&At.getTransfer(M.emissiveMap.colorSpace)===jt,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===Ai,flipSided:M.side===_r,useDepthPacking:M.depthPacking>=0,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionClipCullDistance:ct&&M.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ct&&M.extensions.multiDraw===!0||ae)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:M.customProgramCacheKey()};return vn.vertexUv1s=c.has(1),vn.vertexUv2s=c.has(2),vn.vertexUv3s=c.has(3),c.clear(),vn}function p(M){const A=[];if(M.shaderID?A.push(M.shaderID):(A.push(M.customVertexShaderID),A.push(M.customFragmentShaderID)),M.defines!==void 0)for(const P in M.defines)A.push(P),A.push(M.defines[P]);return M.isRawShaderMaterial===!1&&(x(A,M),y(A,M),A.push(t.outputColorSpace)),A.push(M.customProgramCacheKey),A.join()}function x(M,A){M.push(A.precision),M.push(A.outputColorSpace),M.push(A.envMapMode),M.push(A.envMapCubeUVHeight),M.push(A.mapUv),M.push(A.alphaMapUv),M.push(A.lightMapUv),M.push(A.aoMapUv),M.push(A.bumpMapUv),M.push(A.normalMapUv),M.push(A.displacementMapUv),M.push(A.emissiveMapUv),M.push(A.metalnessMapUv),M.push(A.roughnessMapUv),M.push(A.anisotropyMapUv),M.push(A.clearcoatMapUv),M.push(A.clearcoatNormalMapUv),M.push(A.clearcoatRoughnessMapUv),M.push(A.iridescenceMapUv),M.push(A.iridescenceThicknessMapUv),M.push(A.sheenColorMapUv),M.push(A.sheenRoughnessMapUv),M.push(A.specularMapUv),M.push(A.specularColorMapUv),M.push(A.specularIntensityMapUv),M.push(A.transmissionMapUv),M.push(A.thicknessMapUv),M.push(A.combine),M.push(A.fogExp2),M.push(A.sizeAttenuation),M.push(A.morphTargetsCount),M.push(A.morphAttributeCount),M.push(A.numDirLights),M.push(A.numPointLights),M.push(A.numSpotLights),M.push(A.numSpotLightMaps),M.push(A.numHemiLights),M.push(A.numRectAreaLights),M.push(A.numDirLightShadows),M.push(A.numPointLightShadows),M.push(A.numSpotLightShadows),M.push(A.numSpotLightShadowsWithMaps),M.push(A.numLightProbes),M.push(A.shadowMapType),M.push(A.toneMapping),M.push(A.numClippingPlanes),M.push(A.numClipIntersection),M.push(A.depthPacking)}function y(M,A){s.disableAll(),A.supportsVertexTextures&&s.enable(0),A.instancing&&s.enable(1),A.instancingColor&&s.enable(2),A.instancingMorph&&s.enable(3),A.matcap&&s.enable(4),A.envMap&&s.enable(5),A.normalMapObjectSpace&&s.enable(6),A.normalMapTangentSpace&&s.enable(7),A.clearcoat&&s.enable(8),A.iridescence&&s.enable(9),A.alphaTest&&s.enable(10),A.vertexColors&&s.enable(11),A.vertexAlphas&&s.enable(12),A.vertexUv1s&&s.enable(13),A.vertexUv2s&&s.enable(14),A.vertexUv3s&&s.enable(15),A.vertexTangents&&s.enable(16),A.anisotropy&&s.enable(17),A.alphaHash&&s.enable(18),A.batching&&s.enable(19),A.dispersion&&s.enable(20),A.batchingColor&&s.enable(21),M.push(s.mask),s.disableAll(),A.fog&&s.enable(0),A.useFog&&s.enable(1),A.flatShading&&s.enable(2),A.logarithmicDepthBuffer&&s.enable(3),A.reverseDepthBuffer&&s.enable(4),A.skinning&&s.enable(5),A.morphTargets&&s.enable(6),A.morphNormals&&s.enable(7),A.morphColors&&s.enable(8),A.premultipliedAlpha&&s.enable(9),A.shadowMapEnabled&&s.enable(10),A.doubleSided&&s.enable(11),A.flipSided&&s.enable(12),A.useDepthPacking&&s.enable(13),A.dithering&&s.enable(14),A.transmission&&s.enable(15),A.sheen&&s.enable(16),A.opaque&&s.enable(17),A.pointsUvs&&s.enable(18),A.decodeVideoTexture&&s.enable(19),A.decodeVideoTextureEmissive&&s.enable(20),A.alphaToCoverage&&s.enable(21),M.push(s.mask)}function b(M){const A=m[M.type];let P;if(A){const O=Xi[A];P=z5.clone(O.uniforms)}else P=M.uniforms;return P}function S(M,A){let P;for(let O=0,L=f.length;O<L;O++){const I=f[O];if(I.cacheKey===A){P=I,++P.usedTimes;break}}return P===void 0&&(P=new n8(t,A,M,o),f.push(P)),P}function _(M){if(--M.usedTimes===0){const A=f.indexOf(M);f[A]=f[f.length-1],f.pop(),M.destroy()}}function w(M){l.remove(M)}function T(){l.dispose()}return{getParameters:g,getProgramCacheKey:p,getUniforms:b,acquireProgram:S,releaseProgram:_,releaseShaderCache:w,programs:f,dispose:T}}function s8(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let s=t.get(a);return s===void 0&&(s={},t.set(a,s)),s}function r(a){t.delete(a)}function i(a,s,l){t.get(a)[s]=l}function o(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:o}}function l8(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function vT(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function gT(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(u,d,h,m,v,g){let p=t[e];return p===void 0?(p={id:u.id,object:u,geometry:d,material:h,groupOrder:m,renderOrder:u.renderOrder,z:v,group:g},t[e]=p):(p.id=u.id,p.object=u,p.geometry=d,p.material=h,p.groupOrder=m,p.renderOrder=u.renderOrder,p.z=v,p.group=g),e++,p}function s(u,d,h,m,v,g){const p=a(u,d,h,m,v,g);h.transmission>0?r.push(p):h.transparent===!0?i.push(p):n.push(p)}function l(u,d,h,m,v,g){const p=a(u,d,h,m,v,g);h.transmission>0?r.unshift(p):h.transparent===!0?i.unshift(p):n.unshift(p)}function c(u,d){n.length>1&&n.sort(u||l8),r.length>1&&r.sort(d||vT),i.length>1&&i.sort(d||vT)}function f(){for(let u=e,d=t.length;u<d;u++){const h=t[u];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:f,sort:c}}function c8(){let t=new WeakMap;function e(r,i){const o=t.get(r);let a;return o===void 0?(a=new gT,t.set(r,[a])):i>=o.length?(a=new gT,o.push(a)):a=o[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function u8(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new X,color:new Tt};break;case"SpotLight":n={position:new X,direction:new X,color:new Tt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new X,color:new Tt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new X,skyColor:new Tt,groundColor:new Tt};break;case"RectAreaLight":n={color:new Tt,position:new X,halfWidth:new X,halfHeight:new X};break}return t[e.id]=n,n}}}function f8(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Oe};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Oe};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Oe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let d8=0;function h8(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function p8(t){const e=new u8,n=f8(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new X);const i=new X,o=new nn,a=new nn;function s(c){let f=0,u=0,d=0;for(let M=0;M<9;M++)r.probe[M].set(0,0,0);let h=0,m=0,v=0,g=0,p=0,x=0,y=0,b=0,S=0,_=0,w=0;c.sort(h8);for(let M=0,A=c.length;M<A;M++){const P=c[M],O=P.color,L=P.intensity,I=P.distance,j=P.shadow&&P.shadow.map?P.shadow.map.texture:null;if(P.isAmbientLight)f+=O.r*L,u+=O.g*L,d+=O.b*L;else if(P.isLightProbe){for(let F=0;F<9;F++)r.probe[F].addScaledVector(P.sh.coefficients[F],L);w++}else if(P.isDirectionalLight){const F=e.get(P);if(F.color.copy(P.color).multiplyScalar(P.intensity),P.castShadow){const B=P.shadow,D=n.get(P);D.shadowIntensity=B.intensity,D.shadowBias=B.bias,D.shadowNormalBias=B.normalBias,D.shadowRadius=B.radius,D.shadowMapSize=B.mapSize,r.directionalShadow[h]=D,r.directionalShadowMap[h]=j,r.directionalShadowMatrix[h]=P.shadow.matrix,x++}r.directional[h]=F,h++}else if(P.isSpotLight){const F=e.get(P);F.position.setFromMatrixPosition(P.matrixWorld),F.color.copy(O).multiplyScalar(L),F.distance=I,F.coneCos=Math.cos(P.angle),F.penumbraCos=Math.cos(P.angle*(1-P.penumbra)),F.decay=P.decay,r.spot[v]=F;const B=P.shadow;if(P.map&&(r.spotLightMap[S]=P.map,S++,B.updateMatrices(P),P.castShadow&&_++),r.spotLightMatrix[v]=B.matrix,P.castShadow){const D=n.get(P);D.shadowIntensity=B.intensity,D.shadowBias=B.bias,D.shadowNormalBias=B.normalBias,D.shadowRadius=B.radius,D.shadowMapSize=B.mapSize,r.spotShadow[v]=D,r.spotShadowMap[v]=j,b++}v++}else if(P.isRectAreaLight){const F=e.get(P);F.color.copy(O).multiplyScalar(L),F.halfWidth.set(P.width*.5,0,0),F.halfHeight.set(0,P.height*.5,0),r.rectArea[g]=F,g++}else if(P.isPointLight){const F=e.get(P);if(F.color.copy(P.color).multiplyScalar(P.intensity),F.distance=P.distance,F.decay=P.decay,P.castShadow){const B=P.shadow,D=n.get(P);D.shadowIntensity=B.intensity,D.shadowBias=B.bias,D.shadowNormalBias=B.normalBias,D.shadowRadius=B.radius,D.shadowMapSize=B.mapSize,D.shadowCameraNear=B.camera.near,D.shadowCameraFar=B.camera.far,r.pointShadow[m]=D,r.pointShadowMap[m]=j,r.pointShadowMatrix[m]=P.shadow.matrix,y++}r.point[m]=F,m++}else if(P.isHemisphereLight){const F=e.get(P);F.skyColor.copy(P.color).multiplyScalar(L),F.groundColor.copy(P.groundColor).multiplyScalar(L),r.hemi[p]=F,p++}}g>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ne.LTC_FLOAT_1,r.rectAreaLTC2=Ne.LTC_FLOAT_2):(r.rectAreaLTC1=Ne.LTC_HALF_1,r.rectAreaLTC2=Ne.LTC_HALF_2)),r.ambient[0]=f,r.ambient[1]=u,r.ambient[2]=d;const T=r.hash;(T.directionalLength!==h||T.pointLength!==m||T.spotLength!==v||T.rectAreaLength!==g||T.hemiLength!==p||T.numDirectionalShadows!==x||T.numPointShadows!==y||T.numSpotShadows!==b||T.numSpotMaps!==S||T.numLightProbes!==w)&&(r.directional.length=h,r.spot.length=v,r.rectArea.length=g,r.point.length=m,r.hemi.length=p,r.directionalShadow.length=x,r.directionalShadowMap.length=x,r.pointShadow.length=y,r.pointShadowMap.length=y,r.spotShadow.length=b,r.spotShadowMap.length=b,r.directionalShadowMatrix.length=x,r.pointShadowMatrix.length=y,r.spotLightMatrix.length=b+S-_,r.spotLightMap.length=S,r.numSpotLightShadowsWithMaps=_,r.numLightProbes=w,T.directionalLength=h,T.pointLength=m,T.spotLength=v,T.rectAreaLength=g,T.hemiLength=p,T.numDirectionalShadows=x,T.numPointShadows=y,T.numSpotShadows=b,T.numSpotMaps=S,T.numLightProbes=w,r.version=d8++)}function l(c,f){let u=0,d=0,h=0,m=0,v=0;const g=f.matrixWorldInverse;for(let p=0,x=c.length;p<x;p++){const y=c[p];if(y.isDirectionalLight){const b=r.directional[u];b.direction.setFromMatrixPosition(y.matrixWorld),i.setFromMatrixPosition(y.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(g),u++}else if(y.isSpotLight){const b=r.spot[h];b.position.setFromMatrixPosition(y.matrixWorld),b.position.applyMatrix4(g),b.direction.setFromMatrixPosition(y.matrixWorld),i.setFromMatrixPosition(y.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(g),h++}else if(y.isRectAreaLight){const b=r.rectArea[m];b.position.setFromMatrixPosition(y.matrixWorld),b.position.applyMatrix4(g),a.identity(),o.copy(y.matrixWorld),o.premultiply(g),a.extractRotation(o),b.halfWidth.set(y.width*.5,0,0),b.halfHeight.set(0,y.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),m++}else if(y.isPointLight){const b=r.point[d];b.position.setFromMatrixPosition(y.matrixWorld),b.position.applyMatrix4(g),d++}else if(y.isHemisphereLight){const b=r.hemi[v];b.direction.setFromMatrixPosition(y.matrixWorld),b.direction.transformDirection(g),v++}}}return{setup:s,setupView:l,state:r}}function yT(t){const e=new p8(t),n=[],r=[];function i(f){c.camera=f,n.length=0,r.length=0}function o(f){n.push(f)}function a(f){r.push(f)}function s(){e.setup(n)}function l(f){e.setupView(n,f)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:s,setupLightsView:l,pushLight:o,pushShadow:a}}function m8(t){let e=new WeakMap;function n(i,o=0){const a=e.get(i);let s;return a===void 0?(s=new yT(t),e.set(i,[s])):o>=a.length?(s=new yT(t),a.push(s)):s=a[o],s}function r(){e=new WeakMap}return{get:n,dispose:r}}class v8 extends du{static get type(){return"MeshDepthMaterial"}constructor(e){super(),this.isMeshDepthMaterial=!0,this.depthPacking=q4,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class g8 extends du{static get type(){return"MeshDistanceMaterial"}constructor(e){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const y8=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,x8=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function b8(t,e,n){let r=new fL;const i=new Oe,o=new Oe,a=new yn,s=new v8({depthPacking:Y4}),l=new g8,c={},f=n.maxTextureSize,u={[ja]:_r,[_r]:ja,[Ai]:Ai},d=new Ba({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Oe},radius:{value:4}},vertexShader:y8,fragmentShader:x8}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const m=new $n;m.setAttribute("position",new Fr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Di(m,d),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=zD;let p=this.type;this.render=function(_,w,T){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||_.length===0)return;const M=t.getRenderTarget(),A=t.getActiveCubeFace(),P=t.getActiveMipmapLevel(),O=t.state;O.setBlending(Da),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);const L=p!==bo&&this.type===bo,I=p===bo&&this.type!==bo;for(let j=0,F=_.length;j<F;j++){const B=_[j],D=B.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",B,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;i.copy(D.mapSize);const z=D.getFrameExtents();if(i.multiply(z),o.copy(D.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(o.x=Math.floor(f/z.x),i.x=o.x*z.x,D.mapSize.x=o.x),i.y>f&&(o.y=Math.floor(f/z.y),i.y=o.y*z.y,D.mapSize.y=o.y)),D.map===null||L===!0||I===!0){const J=this.type!==bo?{minFilter:ki,magFilter:ki}:{};D.map!==null&&D.map.dispose(),D.map=new zs(i.x,i.y,J),D.map.texture.name=B.name+".shadowMap",D.camera.updateProjectionMatrix()}t.setRenderTarget(D.map),t.clear();const W=D.getViewportCount();for(let J=0;J<W;J++){const ie=D.getViewport(J);a.set(o.x*ie.x,o.y*ie.y,o.x*ie.z,o.y*ie.w),O.viewport(a),D.updateMatrices(B,J),r=D.getFrustum(),b(w,T,D.camera,B,this.type)}D.isPointLightShadow!==!0&&this.type===bo&&x(D,T),D.needsUpdate=!1}p=this.type,g.needsUpdate=!1,t.setRenderTarget(M,A,P)};function x(_,w){const T=e.update(v);d.defines.VSM_SAMPLES!==_.blurSamples&&(d.defines.VSM_SAMPLES=_.blurSamples,h.defines.VSM_SAMPLES=_.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),_.mapPass===null&&(_.mapPass=new zs(i.x,i.y)),d.uniforms.shadow_pass.value=_.map.texture,d.uniforms.resolution.value=_.mapSize,d.uniforms.radius.value=_.radius,t.setRenderTarget(_.mapPass),t.clear(),t.renderBufferDirect(w,null,T,d,v,null),h.uniforms.shadow_pass.value=_.mapPass.texture,h.uniforms.resolution.value=_.mapSize,h.uniforms.radius.value=_.radius,t.setRenderTarget(_.map),t.clear(),t.renderBufferDirect(w,null,T,h,v,null)}function y(_,w,T,M){let A=null;const P=T.isPointLight===!0?_.customDistanceMaterial:_.customDepthMaterial;if(P!==void 0)A=P;else if(A=T.isPointLight===!0?l:s,t.localClippingEnabled&&w.clipShadows===!0&&Array.isArray(w.clippingPlanes)&&w.clippingPlanes.length!==0||w.displacementMap&&w.displacementScale!==0||w.alphaMap&&w.alphaTest>0||w.map&&w.alphaTest>0){const O=A.uuid,L=w.uuid;let I=c[O];I===void 0&&(I={},c[O]=I);let j=I[L];j===void 0&&(j=A.clone(),I[L]=j,w.addEventListener("dispose",S)),A=j}if(A.visible=w.visible,A.wireframe=w.wireframe,M===bo?A.side=w.shadowSide!==null?w.shadowSide:w.side:A.side=w.shadowSide!==null?w.shadowSide:u[w.side],A.alphaMap=w.alphaMap,A.alphaTest=w.alphaTest,A.map=w.map,A.clipShadows=w.clipShadows,A.clippingPlanes=w.clippingPlanes,A.clipIntersection=w.clipIntersection,A.displacementMap=w.displacementMap,A.displacementScale=w.displacementScale,A.displacementBias=w.displacementBias,A.wireframeLinewidth=w.wireframeLinewidth,A.linewidth=w.linewidth,T.isPointLight===!0&&A.isMeshDistanceMaterial===!0){const O=t.properties.get(A);O.light=T}return A}function b(_,w,T,M,A){if(_.visible===!1)return;if(_.layers.test(w.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&A===bo)&&(!_.frustumCulled||r.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,_.matrixWorld);const L=e.update(_),I=_.material;if(Array.isArray(I)){const j=L.groups;for(let F=0,B=j.length;F<B;F++){const D=j[F],z=I[D.materialIndex];if(z&&z.visible){const W=y(_,z,M,A);_.onBeforeShadow(t,_,w,T,L,W,D),t.renderBufferDirect(T,null,L,W,_,D),_.onAfterShadow(t,_,w,T,L,W,D)}}}else if(I.visible){const j=y(_,I,M,A);_.onBeforeShadow(t,_,w,T,L,j,null),t.renderBufferDirect(T,null,L,j,_,null),_.onAfterShadow(t,_,w,T,L,j,null)}}const O=_.children;for(let L=0,I=O.length;L<I;L++)b(O[L],w,T,M,A)}function S(_){_.target.removeEventListener("dispose",S);for(const T in c){const M=c[T],A=_.target.uuid;A in M&&(M[A].dispose(),delete M[A])}}}const _8={[xb]:bb,[_b]:Eb,[Sb]:Mb,[Cc]:wb,[bb]:xb,[Eb]:_b,[Mb]:Sb,[wb]:Cc};function S8(t,e){function n(){let q=!1;const Re=new yn;let ce=null;const ge=new yn(0,0,0,0);return{setMask:function(ke){ce!==ke&&!q&&(t.colorMask(ke,ke,ke,ke),ce=ke)},setLocked:function(ke){q=ke},setClear:function(ke,Ue,ct,Ht,vn){vn===!0&&(ke*=Ht,Ue*=Ht,ct*=Ht),Re.set(ke,Ue,ct,Ht),ge.equals(Re)===!1&&(t.clearColor(ke,Ue,ct,Ht),ge.copy(Re))},reset:function(){q=!1,ce=null,ge.set(-1,0,0,0)}}}function r(){let q=!1,Re=!1,ce=null,ge=null,ke=null;return{setReversed:function(Ue){if(Re!==Ue){const ct=e.get("EXT_clip_control");Re?ct.clipControlEXT(ct.LOWER_LEFT_EXT,ct.ZERO_TO_ONE_EXT):ct.clipControlEXT(ct.LOWER_LEFT_EXT,ct.NEGATIVE_ONE_TO_ONE_EXT);const Ht=ke;ke=null,this.setClear(Ht)}Re=Ue},getReversed:function(){return Re},setTest:function(Ue){Ue?ne(t.DEPTH_TEST):_e(t.DEPTH_TEST)},setMask:function(Ue){ce!==Ue&&!q&&(t.depthMask(Ue),ce=Ue)},setFunc:function(Ue){if(Re&&(Ue=_8[Ue]),ge!==Ue){switch(Ue){case xb:t.depthFunc(t.NEVER);break;case bb:t.depthFunc(t.ALWAYS);break;case _b:t.depthFunc(t.LESS);break;case Cc:t.depthFunc(t.LEQUAL);break;case Sb:t.depthFunc(t.EQUAL);break;case wb:t.depthFunc(t.GEQUAL);break;case Eb:t.depthFunc(t.GREATER);break;case Mb:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}ge=Ue}},setLocked:function(Ue){q=Ue},setClear:function(Ue){ke!==Ue&&(Re&&(Ue=1-Ue),t.clearDepth(Ue),ke=Ue)},reset:function(){q=!1,ce=null,ge=null,ke=null,Re=!1}}}function i(){let q=!1,Re=null,ce=null,ge=null,ke=null,Ue=null,ct=null,Ht=null,vn=null;return{setTest:function(Nt){q||(Nt?ne(t.STENCIL_TEST):_e(t.STENCIL_TEST))},setMask:function(Nt){Re!==Nt&&!q&&(t.stencilMask(Nt),Re=Nt)},setFunc:function(Nt,Er,V){(ce!==Nt||ge!==Er||ke!==V)&&(t.stencilFunc(Nt,Er,V),ce=Nt,ge=Er,ke=V)},setOp:function(Nt,Er,V){(Ue!==Nt||ct!==Er||Ht!==V)&&(t.stencilOp(Nt,Er,V),Ue=Nt,ct=Er,Ht=V)},setLocked:function(Nt){q=Nt},setClear:function(Nt){vn!==Nt&&(t.clearStencil(Nt),vn=Nt)},reset:function(){q=!1,Re=null,ce=null,ge=null,ke=null,Ue=null,ct=null,Ht=null,vn=null}}}const o=new n,a=new r,s=new i,l=new WeakMap,c=new WeakMap;let f={},u={},d=new WeakMap,h=[],m=null,v=!1,g=null,p=null,x=null,y=null,b=null,S=null,_=null,w=new Tt(0,0,0),T=0,M=!1,A=null,P=null,O=null,L=null,I=null;const j=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let F=!1,B=0;const D=t.getParameter(t.VERSION);D.indexOf("WebGL")!==-1?(B=parseFloat(/^WebGL (\d)/.exec(D)[1]),F=B>=1):D.indexOf("OpenGL ES")!==-1&&(B=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),F=B>=2);let z=null,W={};const J=t.getParameter(t.SCISSOR_BOX),ie=t.getParameter(t.VIEWPORT),xe=new yn().fromArray(J),Z=new yn().fromArray(ie);function ue(q,Re,ce,ge){const ke=new Uint8Array(4),Ue=t.createTexture();t.bindTexture(q,Ue),t.texParameteri(q,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(q,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ct=0;ct<ce;ct++)q===t.TEXTURE_3D||q===t.TEXTURE_2D_ARRAY?t.texImage3D(Re,0,t.RGBA,1,1,ge,0,t.RGBA,t.UNSIGNED_BYTE,ke):t.texImage2D(Re+ct,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ke);return Ue}const be={};be[t.TEXTURE_2D]=ue(t.TEXTURE_2D,t.TEXTURE_2D,1),be[t.TEXTURE_CUBE_MAP]=ue(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),be[t.TEXTURE_2D_ARRAY]=ue(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),be[t.TEXTURE_3D]=ue(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),a.setClear(1),s.setClear(0),ne(t.DEPTH_TEST),a.setFunc(Cc),fe(!1),we(_A),ne(t.CULL_FACE),k(Da);function ne(q){f[q]!==!0&&(t.enable(q),f[q]=!0)}function _e(q){f[q]!==!1&&(t.disable(q),f[q]=!1)}function Q(q,Re){return u[q]!==Re?(t.bindFramebuffer(q,Re),u[q]=Re,q===t.DRAW_FRAMEBUFFER&&(u[t.FRAMEBUFFER]=Re),q===t.FRAMEBUFFER&&(u[t.DRAW_FRAMEBUFFER]=Re),!0):!1}function ae(q,Re){let ce=h,ge=!1;if(q){ce=d.get(Re),ce===void 0&&(ce=[],d.set(Re,ce));const ke=q.textures;if(ce.length!==ke.length||ce[0]!==t.COLOR_ATTACHMENT0){for(let Ue=0,ct=ke.length;Ue<ct;Ue++)ce[Ue]=t.COLOR_ATTACHMENT0+Ue;ce.length=ke.length,ge=!0}}else ce[0]!==t.BACK&&(ce[0]=t.BACK,ge=!0);ge&&t.drawBuffers(ce)}function le(q){return m!==q?(t.useProgram(q),m=q,!0):!1}const $={[ys]:t.FUNC_ADD,[_4]:t.FUNC_SUBTRACT,[S4]:t.FUNC_REVERSE_SUBTRACT};$[w4]=t.MIN,$[E4]=t.MAX;const se={[M4]:t.ZERO,[A4]:t.ONE,[T4]:t.SRC_COLOR,[gb]:t.SRC_ALPHA,[D4]:t.SRC_ALPHA_SATURATE,[R4]:t.DST_COLOR,[C4]:t.DST_ALPHA,[P4]:t.ONE_MINUS_SRC_COLOR,[yb]:t.ONE_MINUS_SRC_ALPHA,[N4]:t.ONE_MINUS_DST_COLOR,[O4]:t.ONE_MINUS_DST_ALPHA,[L4]:t.CONSTANT_COLOR,[I4]:t.ONE_MINUS_CONSTANT_COLOR,[k4]:t.CONSTANT_ALPHA,[U4]:t.ONE_MINUS_CONSTANT_ALPHA};function k(q,Re,ce,ge,ke,Ue,ct,Ht,vn,Nt){if(q===Da){v===!0&&(_e(t.BLEND),v=!1);return}if(v===!1&&(ne(t.BLEND),v=!0),q!==b4){if(q!==g||Nt!==M){if((p!==ys||b!==ys)&&(t.blendEquation(t.FUNC_ADD),p=ys,b=ys),Nt)switch(q){case fc:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case SA:t.blendFunc(t.ONE,t.ONE);break;case wA:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case EA:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",q);break}else switch(q){case fc:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case SA:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case wA:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case EA:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",q);break}x=null,y=null,S=null,_=null,w.set(0,0,0),T=0,g=q,M=Nt}return}ke=ke||Re,Ue=Ue||ce,ct=ct||ge,(Re!==p||ke!==b)&&(t.blendEquationSeparate($[Re],$[ke]),p=Re,b=ke),(ce!==x||ge!==y||Ue!==S||ct!==_)&&(t.blendFuncSeparate(se[ce],se[ge],se[Ue],se[ct]),x=ce,y=ge,S=Ue,_=ct),(Ht.equals(w)===!1||vn!==T)&&(t.blendColor(Ht.r,Ht.g,Ht.b,vn),w.copy(Ht),T=vn),g=q,M=!1}function ve(q,Re){q.side===Ai?_e(t.CULL_FACE):ne(t.CULL_FACE);let ce=q.side===_r;Re&&(ce=!ce),fe(ce),q.blending===fc&&q.transparent===!1?k(Da):k(q.blending,q.blendEquation,q.blendSrc,q.blendDst,q.blendEquationAlpha,q.blendSrcAlpha,q.blendDstAlpha,q.blendColor,q.blendAlpha,q.premultipliedAlpha),a.setFunc(q.depthFunc),a.setTest(q.depthTest),a.setMask(q.depthWrite),o.setMask(q.colorWrite);const ge=q.stencilWrite;s.setTest(ge),ge&&(s.setMask(q.stencilWriteMask),s.setFunc(q.stencilFunc,q.stencilRef,q.stencilFuncMask),s.setOp(q.stencilFail,q.stencilZFail,q.stencilZPass)),Ye(q.polygonOffset,q.polygonOffsetFactor,q.polygonOffsetUnits),q.alphaToCoverage===!0?ne(t.SAMPLE_ALPHA_TO_COVERAGE):_e(t.SAMPLE_ALPHA_TO_COVERAGE)}function fe(q){A!==q&&(q?t.frontFace(t.CW):t.frontFace(t.CCW),A=q)}function we(q){q!==g4?(ne(t.CULL_FACE),q!==P&&(q===_A?t.cullFace(t.BACK):q===y4?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):_e(t.CULL_FACE),P=q}function Ee(q){q!==O&&(F&&t.lineWidth(q),O=q)}function Ye(q,Re,ce){q?(ne(t.POLYGON_OFFSET_FILL),(L!==Re||I!==ce)&&(t.polygonOffset(Re,ce),L=Re,I=ce)):_e(t.POLYGON_OFFSET_FILL)}function Le(q){q?ne(t.SCISSOR_TEST):_e(t.SCISSOR_TEST)}function U(q){q===void 0&&(q=t.TEXTURE0+j-1),z!==q&&(t.activeTexture(q),z=q)}function R(q,Re,ce){ce===void 0&&(z===null?ce=t.TEXTURE0+j-1:ce=z);let ge=W[ce];ge===void 0&&(ge={type:void 0,texture:void 0},W[ce]=ge),(ge.type!==q||ge.texture!==Re)&&(z!==ce&&(t.activeTexture(ce),z=ce),t.bindTexture(q,Re||be[q]),ge.type=q,ge.texture=Re)}function ee(){const q=W[z];q!==void 0&&q.type!==void 0&&(t.bindTexture(q.type,null),q.type=void 0,q.texture=void 0)}function de(){try{t.compressedTexImage2D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function ye(){try{t.compressedTexImage3D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function pe(){try{t.texSubImage2D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function $e(){try{t.texSubImage3D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Ce(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function je(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function dt(){try{t.texStorage2D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Ae(){try{t.texStorage3D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Ie(){try{t.texImage2D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function tt(){try{t.texImage3D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function rt(q){xe.equals(q)===!1&&(t.scissor(q.x,q.y,q.z,q.w),xe.copy(q))}function He(q){Z.equals(q)===!1&&(t.viewport(q.x,q.y,q.z,q.w),Z.copy(q))}function St(q,Re){let ce=c.get(Re);ce===void 0&&(ce=new WeakMap,c.set(Re,ce));let ge=ce.get(q);ge===void 0&&(ge=t.getUniformBlockIndex(Re,q.name),ce.set(q,ge))}function ut(q,Re){const ge=c.get(Re).get(q);l.get(Re)!==ge&&(t.uniformBlockBinding(Re,ge,q.__bindingPointIndex),l.set(Re,ge))}function Rt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},z=null,W={},u={},d=new WeakMap,h=[],m=null,v=!1,g=null,p=null,x=null,y=null,b=null,S=null,_=null,w=new Tt(0,0,0),T=0,M=!1,A=null,P=null,O=null,L=null,I=null,xe.set(0,0,t.canvas.width,t.canvas.height),Z.set(0,0,t.canvas.width,t.canvas.height),o.reset(),a.reset(),s.reset()}return{buffers:{color:o,depth:a,stencil:s},enable:ne,disable:_e,bindFramebuffer:Q,drawBuffers:ae,useProgram:le,setBlending:k,setMaterial:ve,setFlipSided:fe,setCullFace:we,setLineWidth:Ee,setPolygonOffset:Ye,setScissorTest:Le,activeTexture:U,bindTexture:R,unbindTexture:ee,compressedTexImage2D:de,compressedTexImage3D:ye,texImage2D:Ie,texImage3D:tt,updateUBOMapping:St,uniformBlockBinding:ut,texStorage2D:dt,texStorage3D:Ae,texSubImage2D:pe,texSubImage3D:$e,compressedTexSubImage2D:Ce,compressedTexSubImage3D:je,scissor:rt,viewport:He,reset:Rt}}function xT(t,e,n,r){const i=w8(r);switch(n){case qD:return t*e;case KD:return t*e;case ZD:return t*e*2;case JD:return t*e/i.components*i.byteLength;case a1:return t*e/i.components*i.byteLength;case QD:return t*e*2/i.components*i.byteLength;case s1:return t*e*2/i.components*i.byteLength;case YD:return t*e*3/i.components*i.byteLength;case Ni:return t*e*4/i.components*i.byteLength;case l1:return t*e*4/i.components*i.byteLength;case rm:case im:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case om:case am:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Rb:case Db:return Math.max(t,16)*Math.max(e,8)/4;case Ob:case Nb:return Math.max(t,8)*Math.max(e,8)/2;case Lb:case Ib:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case kb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Ub:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Fb:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case jb:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Bb:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case $b:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case zb:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Hb:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Vb:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Gb:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Wb:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Xb:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case qb:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Yb:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Kb:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case sm:case Zb:case Jb:return Math.ceil(t/4)*Math.ceil(e/4)*16;case eL:case Qb:return Math.ceil(t/4)*Math.ceil(e/4)*8;case e_:case t_:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function w8(t){switch(t){case $o:case GD:return{byteLength:1,components:1};case ad:case WD:case ah:return{byteLength:2,components:1};case i1:case o1:return{byteLength:2,components:4};case $s:case r1:case Ao:return{byteLength:4,components:1};case XD:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}function E8(t,e,n,r,i,o,a){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Oe,f=new WeakMap;let u;const d=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(U,R){return h?new OffscreenCanvas(U,R):zm("canvas")}function v(U,R,ee){let de=1;const ye=Le(U);if((ye.width>ee||ye.height>ee)&&(de=ee/Math.max(ye.width,ye.height)),de<1)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap||typeof VideoFrame<"u"&&U instanceof VideoFrame){const pe=Math.floor(de*ye.width),$e=Math.floor(de*ye.height);u===void 0&&(u=m(pe,$e));const Ce=R?m(pe,$e):u;return Ce.width=pe,Ce.height=$e,Ce.getContext("2d").drawImage(U,0,0,pe,$e),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ye.width+"x"+ye.height+") to ("+pe+"x"+$e+")."),Ce}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ye.width+"x"+ye.height+")."),U;return U}function g(U){return U.generateMipmaps}function p(U){t.generateMipmap(U)}function x(U){return U.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:U.isWebGL3DRenderTarget?t.TEXTURE_3D:U.isWebGLArrayRenderTarget||U.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function y(U,R,ee,de,ye=!1){if(U!==null){if(t[U]!==void 0)return t[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let pe=R;if(R===t.RED&&(ee===t.FLOAT&&(pe=t.R32F),ee===t.HALF_FLOAT&&(pe=t.R16F),ee===t.UNSIGNED_BYTE&&(pe=t.R8)),R===t.RED_INTEGER&&(ee===t.UNSIGNED_BYTE&&(pe=t.R8UI),ee===t.UNSIGNED_SHORT&&(pe=t.R16UI),ee===t.UNSIGNED_INT&&(pe=t.R32UI),ee===t.BYTE&&(pe=t.R8I),ee===t.SHORT&&(pe=t.R16I),ee===t.INT&&(pe=t.R32I)),R===t.RG&&(ee===t.FLOAT&&(pe=t.RG32F),ee===t.HALF_FLOAT&&(pe=t.RG16F),ee===t.UNSIGNED_BYTE&&(pe=t.RG8)),R===t.RG_INTEGER&&(ee===t.UNSIGNED_BYTE&&(pe=t.RG8UI),ee===t.UNSIGNED_SHORT&&(pe=t.RG16UI),ee===t.UNSIGNED_INT&&(pe=t.RG32UI),ee===t.BYTE&&(pe=t.RG8I),ee===t.SHORT&&(pe=t.RG16I),ee===t.INT&&(pe=t.RG32I)),R===t.RGB_INTEGER&&(ee===t.UNSIGNED_BYTE&&(pe=t.RGB8UI),ee===t.UNSIGNED_SHORT&&(pe=t.RGB16UI),ee===t.UNSIGNED_INT&&(pe=t.RGB32UI),ee===t.BYTE&&(pe=t.RGB8I),ee===t.SHORT&&(pe=t.RGB16I),ee===t.INT&&(pe=t.RGB32I)),R===t.RGBA_INTEGER&&(ee===t.UNSIGNED_BYTE&&(pe=t.RGBA8UI),ee===t.UNSIGNED_SHORT&&(pe=t.RGBA16UI),ee===t.UNSIGNED_INT&&(pe=t.RGBA32UI),ee===t.BYTE&&(pe=t.RGBA8I),ee===t.SHORT&&(pe=t.RGBA16I),ee===t.INT&&(pe=t.RGBA32I)),R===t.RGB&&ee===t.UNSIGNED_INT_5_9_9_9_REV&&(pe=t.RGB9_E5),R===t.RGBA){const $e=ye?gg:At.getTransfer(de);ee===t.FLOAT&&(pe=t.RGBA32F),ee===t.HALF_FLOAT&&(pe=t.RGBA16F),ee===t.UNSIGNED_BYTE&&(pe=$e===jt?t.SRGB8_ALPHA8:t.RGBA8),ee===t.UNSIGNED_SHORT_4_4_4_4&&(pe=t.RGBA4),ee===t.UNSIGNED_SHORT_5_5_5_1&&(pe=t.RGB5_A1)}return(pe===t.R16F||pe===t.R32F||pe===t.RG16F||pe===t.RG32F||pe===t.RGBA16F||pe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),pe}function b(U,R){let ee;return U?R===null||R===$s||R===Nc?ee=t.DEPTH24_STENCIL8:R===Ao?ee=t.DEPTH32F_STENCIL8:R===ad&&(ee=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):R===null||R===$s||R===Nc?ee=t.DEPTH_COMPONENT24:R===Ao?ee=t.DEPTH_COMPONENT32F:R===ad&&(ee=t.DEPTH_COMPONENT16),ee}function S(U,R){return g(U)===!0||U.isFramebufferTexture&&U.minFilter!==ki&&U.minFilter!==Ki?Math.log2(Math.max(R.width,R.height))+1:U.mipmaps!==void 0&&U.mipmaps.length>0?U.mipmaps.length:U.isCompressedTexture&&Array.isArray(U.image)?R.mipmaps.length:1}function _(U){const R=U.target;R.removeEventListener("dispose",_),T(R),R.isVideoTexture&&f.delete(R)}function w(U){const R=U.target;R.removeEventListener("dispose",w),A(R)}function T(U){const R=r.get(U);if(R.__webglInit===void 0)return;const ee=U.source,de=d.get(ee);if(de){const ye=de[R.__cacheKey];ye.usedTimes--,ye.usedTimes===0&&M(U),Object.keys(de).length===0&&d.delete(ee)}r.remove(U)}function M(U){const R=r.get(U);t.deleteTexture(R.__webglTexture);const ee=U.source,de=d.get(ee);delete de[R.__cacheKey],a.memory.textures--}function A(U){const R=r.get(U);if(U.depthTexture&&(U.depthTexture.dispose(),r.remove(U.depthTexture)),U.isWebGLCubeRenderTarget)for(let de=0;de<6;de++){if(Array.isArray(R.__webglFramebuffer[de]))for(let ye=0;ye<R.__webglFramebuffer[de].length;ye++)t.deleteFramebuffer(R.__webglFramebuffer[de][ye]);else t.deleteFramebuffer(R.__webglFramebuffer[de]);R.__webglDepthbuffer&&t.deleteRenderbuffer(R.__webglDepthbuffer[de])}else{if(Array.isArray(R.__webglFramebuffer))for(let de=0;de<R.__webglFramebuffer.length;de++)t.deleteFramebuffer(R.__webglFramebuffer[de]);else t.deleteFramebuffer(R.__webglFramebuffer);if(R.__webglDepthbuffer&&t.deleteRenderbuffer(R.__webglDepthbuffer),R.__webglMultisampledFramebuffer&&t.deleteFramebuffer(R.__webglMultisampledFramebuffer),R.__webglColorRenderbuffer)for(let de=0;de<R.__webglColorRenderbuffer.length;de++)R.__webglColorRenderbuffer[de]&&t.deleteRenderbuffer(R.__webglColorRenderbuffer[de]);R.__webglDepthRenderbuffer&&t.deleteRenderbuffer(R.__webglDepthRenderbuffer)}const ee=U.textures;for(let de=0,ye=ee.length;de<ye;de++){const pe=r.get(ee[de]);pe.__webglTexture&&(t.deleteTexture(pe.__webglTexture),a.memory.textures--),r.remove(ee[de])}r.remove(U)}let P=0;function O(){P=0}function L(){const U=P;return U>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+i.maxTextures),P+=1,U}function I(U){const R=[];return R.push(U.wrapS),R.push(U.wrapT),R.push(U.wrapR||0),R.push(U.magFilter),R.push(U.minFilter),R.push(U.anisotropy),R.push(U.internalFormat),R.push(U.format),R.push(U.type),R.push(U.generateMipmaps),R.push(U.premultiplyAlpha),R.push(U.flipY),R.push(U.unpackAlignment),R.push(U.colorSpace),R.join()}function j(U,R){const ee=r.get(U);if(U.isVideoTexture&&Ee(U),U.isRenderTargetTexture===!1&&U.version>0&&ee.__version!==U.version){const de=U.image;if(de===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(de.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Z(ee,U,R);return}}n.bindTexture(t.TEXTURE_2D,ee.__webglTexture,t.TEXTURE0+R)}function F(U,R){const ee=r.get(U);if(U.version>0&&ee.__version!==U.version){Z(ee,U,R);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ee.__webglTexture,t.TEXTURE0+R)}function B(U,R){const ee=r.get(U);if(U.version>0&&ee.__version!==U.version){Z(ee,U,R);return}n.bindTexture(t.TEXTURE_3D,ee.__webglTexture,t.TEXTURE0+R)}function D(U,R){const ee=r.get(U);if(U.version>0&&ee.__version!==U.version){ue(ee,U,R);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ee.__webglTexture,t.TEXTURE0+R)}const z={[Pb]:t.REPEAT,[Ms]:t.CLAMP_TO_EDGE,[Cb]:t.MIRRORED_REPEAT},W={[ki]:t.NEAREST,[X4]:t.NEAREST_MIPMAP_NEAREST,[Vh]:t.NEAREST_MIPMAP_LINEAR,[Ki]:t.LINEAR,[n0]:t.LINEAR_MIPMAP_NEAREST,[As]:t.LINEAR_MIPMAP_LINEAR},J={[J4]:t.NEVER,[i5]:t.ALWAYS,[Q4]:t.LESS,[tL]:t.LEQUAL,[e5]:t.EQUAL,[r5]:t.GEQUAL,[t5]:t.GREATER,[n5]:t.NOTEQUAL};function ie(U,R){if(R.type===Ao&&e.has("OES_texture_float_linear")===!1&&(R.magFilter===Ki||R.magFilter===n0||R.magFilter===Vh||R.magFilter===As||R.minFilter===Ki||R.minFilter===n0||R.minFilter===Vh||R.minFilter===As)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(U,t.TEXTURE_WRAP_S,z[R.wrapS]),t.texParameteri(U,t.TEXTURE_WRAP_T,z[R.wrapT]),(U===t.TEXTURE_3D||U===t.TEXTURE_2D_ARRAY)&&t.texParameteri(U,t.TEXTURE_WRAP_R,z[R.wrapR]),t.texParameteri(U,t.TEXTURE_MAG_FILTER,W[R.magFilter]),t.texParameteri(U,t.TEXTURE_MIN_FILTER,W[R.minFilter]),R.compareFunction&&(t.texParameteri(U,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(U,t.TEXTURE_COMPARE_FUNC,J[R.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(R.magFilter===ki||R.minFilter!==Vh&&R.minFilter!==As||R.type===Ao&&e.has("OES_texture_float_linear")===!1)return;if(R.anisotropy>1||r.get(R).__currentAnisotropy){const ee=e.get("EXT_texture_filter_anisotropic");t.texParameterf(U,ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(R.anisotropy,i.getMaxAnisotropy())),r.get(R).__currentAnisotropy=R.anisotropy}}}function xe(U,R){let ee=!1;U.__webglInit===void 0&&(U.__webglInit=!0,R.addEventListener("dispose",_));const de=R.source;let ye=d.get(de);ye===void 0&&(ye={},d.set(de,ye));const pe=I(R);if(pe!==U.__cacheKey){ye[pe]===void 0&&(ye[pe]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,ee=!0),ye[pe].usedTimes++;const $e=ye[U.__cacheKey];$e!==void 0&&(ye[U.__cacheKey].usedTimes--,$e.usedTimes===0&&M(R)),U.__cacheKey=pe,U.__webglTexture=ye[pe].texture}return ee}function Z(U,R,ee){let de=t.TEXTURE_2D;(R.isDataArrayTexture||R.isCompressedArrayTexture)&&(de=t.TEXTURE_2D_ARRAY),R.isData3DTexture&&(de=t.TEXTURE_3D);const ye=xe(U,R),pe=R.source;n.bindTexture(de,U.__webglTexture,t.TEXTURE0+ee);const $e=r.get(pe);if(pe.version!==$e.__version||ye===!0){n.activeTexture(t.TEXTURE0+ee);const Ce=At.getPrimaries(At.workingColorSpace),je=R.colorSpace===xa?null:At.getPrimaries(R.colorSpace),dt=R.colorSpace===xa||Ce===je?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,R.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,R.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,dt);let Ae=v(R.image,!1,i.maxTextureSize);Ae=Ye(R,Ae);const Ie=o.convert(R.format,R.colorSpace),tt=o.convert(R.type);let rt=y(R.internalFormat,Ie,tt,R.colorSpace,R.isVideoTexture);ie(de,R);let He;const St=R.mipmaps,ut=R.isVideoTexture!==!0,Rt=$e.__version===void 0||ye===!0,q=pe.dataReady,Re=S(R,Ae);if(R.isDepthTexture)rt=b(R.format===Dc,R.type),Rt&&(ut?n.texStorage2D(t.TEXTURE_2D,1,rt,Ae.width,Ae.height):n.texImage2D(t.TEXTURE_2D,0,rt,Ae.width,Ae.height,0,Ie,tt,null));else if(R.isDataTexture)if(St.length>0){ut&&Rt&&n.texStorage2D(t.TEXTURE_2D,Re,rt,St[0].width,St[0].height);for(let ce=0,ge=St.length;ce<ge;ce++)He=St[ce],ut?q&&n.texSubImage2D(t.TEXTURE_2D,ce,0,0,He.width,He.height,Ie,tt,He.data):n.texImage2D(t.TEXTURE_2D,ce,rt,He.width,He.height,0,Ie,tt,He.data);R.generateMipmaps=!1}else ut?(Rt&&n.texStorage2D(t.TEXTURE_2D,Re,rt,Ae.width,Ae.height),q&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ae.width,Ae.height,Ie,tt,Ae.data)):n.texImage2D(t.TEXTURE_2D,0,rt,Ae.width,Ae.height,0,Ie,tt,Ae.data);else if(R.isCompressedTexture)if(R.isCompressedArrayTexture){ut&&Rt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Re,rt,St[0].width,St[0].height,Ae.depth);for(let ce=0,ge=St.length;ce<ge;ce++)if(He=St[ce],R.format!==Ni)if(Ie!==null)if(ut){if(q)if(R.layerUpdates.size>0){const ke=xT(He.width,He.height,R.format,R.type);for(const Ue of R.layerUpdates){const ct=He.data.subarray(Ue*ke/He.data.BYTES_PER_ELEMENT,(Ue+1)*ke/He.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ce,0,0,Ue,He.width,He.height,1,Ie,ct)}R.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ce,0,0,0,He.width,He.height,Ae.depth,Ie,He.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ce,rt,He.width,He.height,Ae.depth,0,He.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ut?q&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ce,0,0,0,He.width,He.height,Ae.depth,Ie,tt,He.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ce,rt,He.width,He.height,Ae.depth,0,Ie,tt,He.data)}else{ut&&Rt&&n.texStorage2D(t.TEXTURE_2D,Re,rt,St[0].width,St[0].height);for(let ce=0,ge=St.length;ce<ge;ce++)He=St[ce],R.format!==Ni?Ie!==null?ut?q&&n.compressedTexSubImage2D(t.TEXTURE_2D,ce,0,0,He.width,He.height,Ie,He.data):n.compressedTexImage2D(t.TEXTURE_2D,ce,rt,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ut?q&&n.texSubImage2D(t.TEXTURE_2D,ce,0,0,He.width,He.height,Ie,tt,He.data):n.texImage2D(t.TEXTURE_2D,ce,rt,He.width,He.height,0,Ie,tt,He.data)}else if(R.isDataArrayTexture)if(ut){if(Rt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Re,rt,Ae.width,Ae.height,Ae.depth),q)if(R.layerUpdates.size>0){const ce=xT(Ae.width,Ae.height,R.format,R.type);for(const ge of R.layerUpdates){const ke=Ae.data.subarray(ge*ce/Ae.data.BYTES_PER_ELEMENT,(ge+1)*ce/Ae.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,ge,Ae.width,Ae.height,1,Ie,tt,ke)}R.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ae.width,Ae.height,Ae.depth,Ie,tt,Ae.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,rt,Ae.width,Ae.height,Ae.depth,0,Ie,tt,Ae.data);else if(R.isData3DTexture)ut?(Rt&&n.texStorage3D(t.TEXTURE_3D,Re,rt,Ae.width,Ae.height,Ae.depth),q&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ae.width,Ae.height,Ae.depth,Ie,tt,Ae.data)):n.texImage3D(t.TEXTURE_3D,0,rt,Ae.width,Ae.height,Ae.depth,0,Ie,tt,Ae.data);else if(R.isFramebufferTexture){if(Rt)if(ut)n.texStorage2D(t.TEXTURE_2D,Re,rt,Ae.width,Ae.height);else{let ce=Ae.width,ge=Ae.height;for(let ke=0;ke<Re;ke++)n.texImage2D(t.TEXTURE_2D,ke,rt,ce,ge,0,Ie,tt,null),ce>>=1,ge>>=1}}else if(St.length>0){if(ut&&Rt){const ce=Le(St[0]);n.texStorage2D(t.TEXTURE_2D,Re,rt,ce.width,ce.height)}for(let ce=0,ge=St.length;ce<ge;ce++)He=St[ce],ut?q&&n.texSubImage2D(t.TEXTURE_2D,ce,0,0,Ie,tt,He):n.texImage2D(t.TEXTURE_2D,ce,rt,Ie,tt,He);R.generateMipmaps=!1}else if(ut){if(Rt){const ce=Le(Ae);n.texStorage2D(t.TEXTURE_2D,Re,rt,ce.width,ce.height)}q&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ie,tt,Ae)}else n.texImage2D(t.TEXTURE_2D,0,rt,Ie,tt,Ae);g(R)&&p(de),$e.__version=pe.version,R.onUpdate&&R.onUpdate(R)}U.__version=R.version}function ue(U,R,ee){if(R.image.length!==6)return;const de=xe(U,R),ye=R.source;n.bindTexture(t.TEXTURE_CUBE_MAP,U.__webglTexture,t.TEXTURE0+ee);const pe=r.get(ye);if(ye.version!==pe.__version||de===!0){n.activeTexture(t.TEXTURE0+ee);const $e=At.getPrimaries(At.workingColorSpace),Ce=R.colorSpace===xa?null:At.getPrimaries(R.colorSpace),je=R.colorSpace===xa||$e===Ce?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,R.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,R.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,je);const dt=R.isCompressedTexture||R.image[0].isCompressedTexture,Ae=R.image[0]&&R.image[0].isDataTexture,Ie=[];for(let ge=0;ge<6;ge++)!dt&&!Ae?Ie[ge]=v(R.image[ge],!0,i.maxCubemapSize):Ie[ge]=Ae?R.image[ge].image:R.image[ge],Ie[ge]=Ye(R,Ie[ge]);const tt=Ie[0],rt=o.convert(R.format,R.colorSpace),He=o.convert(R.type),St=y(R.internalFormat,rt,He,R.colorSpace),ut=R.isVideoTexture!==!0,Rt=pe.__version===void 0||de===!0,q=ye.dataReady;let Re=S(R,tt);ie(t.TEXTURE_CUBE_MAP,R);let ce;if(dt){ut&&Rt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Re,St,tt.width,tt.height);for(let ge=0;ge<6;ge++){ce=Ie[ge].mipmaps;for(let ke=0;ke<ce.length;ke++){const Ue=ce[ke];R.format!==Ni?rt!==null?ut?q&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ge,ke,0,0,Ue.width,Ue.height,rt,Ue.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ge,ke,St,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ut?q&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ge,ke,0,0,Ue.width,Ue.height,rt,He,Ue.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ge,ke,St,Ue.width,Ue.height,0,rt,He,Ue.data)}}}else{if(ce=R.mipmaps,ut&&Rt){ce.length>0&&Re++;const ge=Le(Ie[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Re,St,ge.width,ge.height)}for(let ge=0;ge<6;ge++)if(Ae){ut?q&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ge,0,0,0,Ie[ge].width,Ie[ge].height,rt,He,Ie[ge].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ge,0,St,Ie[ge].width,Ie[ge].height,0,rt,He,Ie[ge].data);for(let ke=0;ke<ce.length;ke++){const ct=ce[ke].image[ge].image;ut?q&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ge,ke+1,0,0,ct.width,ct.height,rt,He,ct.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ge,ke+1,St,ct.width,ct.height,0,rt,He,ct.data)}}else{ut?q&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ge,0,0,0,rt,He,Ie[ge]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ge,0,St,rt,He,Ie[ge]);for(let ke=0;ke<ce.length;ke++){const Ue=ce[ke];ut?q&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ge,ke+1,0,0,rt,He,Ue.image[ge]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ge,ke+1,St,rt,He,Ue.image[ge])}}}g(R)&&p(t.TEXTURE_CUBE_MAP),pe.__version=ye.version,R.onUpdate&&R.onUpdate(R)}U.__version=R.version}function be(U,R,ee,de,ye,pe){const $e=o.convert(ee.format,ee.colorSpace),Ce=o.convert(ee.type),je=y(ee.internalFormat,$e,Ce,ee.colorSpace),dt=r.get(R),Ae=r.get(ee);if(Ae.__renderTarget=R,!dt.__hasExternalTextures){const Ie=Math.max(1,R.width>>pe),tt=Math.max(1,R.height>>pe);ye===t.TEXTURE_3D||ye===t.TEXTURE_2D_ARRAY?n.texImage3D(ye,pe,je,Ie,tt,R.depth,0,$e,Ce,null):n.texImage2D(ye,pe,je,Ie,tt,0,$e,Ce,null)}n.bindFramebuffer(t.FRAMEBUFFER,U),we(R)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,de,ye,Ae.__webglTexture,0,fe(R)):(ye===t.TEXTURE_2D||ye>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ye<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,de,ye,Ae.__webglTexture,pe),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ne(U,R,ee){if(t.bindRenderbuffer(t.RENDERBUFFER,U),R.depthBuffer){const de=R.depthTexture,ye=de&&de.isDepthTexture?de.type:null,pe=b(R.stencilBuffer,ye),$e=R.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ce=fe(R);we(R)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ce,pe,R.width,R.height):ee?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ce,pe,R.width,R.height):t.renderbufferStorage(t.RENDERBUFFER,pe,R.width,R.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,$e,t.RENDERBUFFER,U)}else{const de=R.textures;for(let ye=0;ye<de.length;ye++){const pe=de[ye],$e=o.convert(pe.format,pe.colorSpace),Ce=o.convert(pe.type),je=y(pe.internalFormat,$e,Ce,pe.colorSpace),dt=fe(R);ee&&we(R)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,dt,je,R.width,R.height):we(R)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,dt,je,R.width,R.height):t.renderbufferStorage(t.RENDERBUFFER,je,R.width,R.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function _e(U,R){if(R&&R.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,U),!(R.depthTexture&&R.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const de=r.get(R.depthTexture);de.__renderTarget=R,(!de.__webglTexture||R.depthTexture.image.width!==R.width||R.depthTexture.image.height!==R.height)&&(R.depthTexture.image.width=R.width,R.depthTexture.image.height=R.height,R.depthTexture.needsUpdate=!0),j(R.depthTexture,0);const ye=de.__webglTexture,pe=fe(R);if(R.depthTexture.format===dc)we(R)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ye,0,pe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ye,0);else if(R.depthTexture.format===Dc)we(R)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ye,0,pe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ye,0);else throw new Error("Unknown depthTexture format")}function Q(U){const R=r.get(U),ee=U.isWebGLCubeRenderTarget===!0;if(R.__boundDepthTexture!==U.depthTexture){const de=U.depthTexture;if(R.__depthDisposeCallback&&R.__depthDisposeCallback(),de){const ye=()=>{delete R.__boundDepthTexture,delete R.__depthDisposeCallback,de.removeEventListener("dispose",ye)};de.addEventListener("dispose",ye),R.__depthDisposeCallback=ye}R.__boundDepthTexture=de}if(U.depthTexture&&!R.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");_e(R.__webglFramebuffer,U)}else if(ee){R.__webglDepthbuffer=[];for(let de=0;de<6;de++)if(n.bindFramebuffer(t.FRAMEBUFFER,R.__webglFramebuffer[de]),R.__webglDepthbuffer[de]===void 0)R.__webglDepthbuffer[de]=t.createRenderbuffer(),ne(R.__webglDepthbuffer[de],U,!1);else{const ye=U.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,pe=R.__webglDepthbuffer[de];t.bindRenderbuffer(t.RENDERBUFFER,pe),t.framebufferRenderbuffer(t.FRAMEBUFFER,ye,t.RENDERBUFFER,pe)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,R.__webglFramebuffer),R.__webglDepthbuffer===void 0)R.__webglDepthbuffer=t.createRenderbuffer(),ne(R.__webglDepthbuffer,U,!1);else{const de=U.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ye=R.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,ye),t.framebufferRenderbuffer(t.FRAMEBUFFER,de,t.RENDERBUFFER,ye)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function ae(U,R,ee){const de=r.get(U);R!==void 0&&be(de.__webglFramebuffer,U,U.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ee!==void 0&&Q(U)}function le(U){const R=U.texture,ee=r.get(U),de=r.get(R);U.addEventListener("dispose",w);const ye=U.textures,pe=U.isWebGLCubeRenderTarget===!0,$e=ye.length>1;if($e||(de.__webglTexture===void 0&&(de.__webglTexture=t.createTexture()),de.__version=R.version,a.memory.textures++),pe){ee.__webglFramebuffer=[];for(let Ce=0;Ce<6;Ce++)if(R.mipmaps&&R.mipmaps.length>0){ee.__webglFramebuffer[Ce]=[];for(let je=0;je<R.mipmaps.length;je++)ee.__webglFramebuffer[Ce][je]=t.createFramebuffer()}else ee.__webglFramebuffer[Ce]=t.createFramebuffer()}else{if(R.mipmaps&&R.mipmaps.length>0){ee.__webglFramebuffer=[];for(let Ce=0;Ce<R.mipmaps.length;Ce++)ee.__webglFramebuffer[Ce]=t.createFramebuffer()}else ee.__webglFramebuffer=t.createFramebuffer();if($e)for(let Ce=0,je=ye.length;Ce<je;Ce++){const dt=r.get(ye[Ce]);dt.__webglTexture===void 0&&(dt.__webglTexture=t.createTexture(),a.memory.textures++)}if(U.samples>0&&we(U)===!1){ee.__webglMultisampledFramebuffer=t.createFramebuffer(),ee.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ee.__webglMultisampledFramebuffer);for(let Ce=0;Ce<ye.length;Ce++){const je=ye[Ce];ee.__webglColorRenderbuffer[Ce]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ee.__webglColorRenderbuffer[Ce]);const dt=o.convert(je.format,je.colorSpace),Ae=o.convert(je.type),Ie=y(je.internalFormat,dt,Ae,je.colorSpace,U.isXRRenderTarget===!0),tt=fe(U);t.renderbufferStorageMultisample(t.RENDERBUFFER,tt,Ie,U.width,U.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ce,t.RENDERBUFFER,ee.__webglColorRenderbuffer[Ce])}t.bindRenderbuffer(t.RENDERBUFFER,null),U.depthBuffer&&(ee.__webglDepthRenderbuffer=t.createRenderbuffer(),ne(ee.__webglDepthRenderbuffer,U,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(pe){n.bindTexture(t.TEXTURE_CUBE_MAP,de.__webglTexture),ie(t.TEXTURE_CUBE_MAP,R);for(let Ce=0;Ce<6;Ce++)if(R.mipmaps&&R.mipmaps.length>0)for(let je=0;je<R.mipmaps.length;je++)be(ee.__webglFramebuffer[Ce][je],U,R,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,je);else be(ee.__webglFramebuffer[Ce],U,R,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0);g(R)&&p(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if($e){for(let Ce=0,je=ye.length;Ce<je;Ce++){const dt=ye[Ce],Ae=r.get(dt);n.bindTexture(t.TEXTURE_2D,Ae.__webglTexture),ie(t.TEXTURE_2D,dt),be(ee.__webglFramebuffer,U,dt,t.COLOR_ATTACHMENT0+Ce,t.TEXTURE_2D,0),g(dt)&&p(t.TEXTURE_2D)}n.unbindTexture()}else{let Ce=t.TEXTURE_2D;if((U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(Ce=U.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ce,de.__webglTexture),ie(Ce,R),R.mipmaps&&R.mipmaps.length>0)for(let je=0;je<R.mipmaps.length;je++)be(ee.__webglFramebuffer[je],U,R,t.COLOR_ATTACHMENT0,Ce,je);else be(ee.__webglFramebuffer,U,R,t.COLOR_ATTACHMENT0,Ce,0);g(R)&&p(Ce),n.unbindTexture()}U.depthBuffer&&Q(U)}function $(U){const R=U.textures;for(let ee=0,de=R.length;ee<de;ee++){const ye=R[ee];if(g(ye)){const pe=x(U),$e=r.get(ye).__webglTexture;n.bindTexture(pe,$e),p(pe),n.unbindTexture()}}}const se=[],k=[];function ve(U){if(U.samples>0){if(we(U)===!1){const R=U.textures,ee=U.width,de=U.height;let ye=t.COLOR_BUFFER_BIT;const pe=U.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,$e=r.get(U),Ce=R.length>1;if(Ce)for(let je=0;je<R.length;je++)n.bindFramebuffer(t.FRAMEBUFFER,$e.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+je,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,$e.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+je,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,$e.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,$e.__webglFramebuffer);for(let je=0;je<R.length;je++){if(U.resolveDepthBuffer&&(U.depthBuffer&&(ye|=t.DEPTH_BUFFER_BIT),U.stencilBuffer&&U.resolveStencilBuffer&&(ye|=t.STENCIL_BUFFER_BIT)),Ce){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,$e.__webglColorRenderbuffer[je]);const dt=r.get(R[je]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,dt,0)}t.blitFramebuffer(0,0,ee,de,0,0,ee,de,ye,t.NEAREST),l===!0&&(se.length=0,k.length=0,se.push(t.COLOR_ATTACHMENT0+je),U.depthBuffer&&U.resolveDepthBuffer===!1&&(se.push(pe),k.push(pe),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,k)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,se))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ce)for(let je=0;je<R.length;je++){n.bindFramebuffer(t.FRAMEBUFFER,$e.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+je,t.RENDERBUFFER,$e.__webglColorRenderbuffer[je]);const dt=r.get(R[je]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,$e.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+je,t.TEXTURE_2D,dt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,$e.__webglMultisampledFramebuffer)}else if(U.depthBuffer&&U.resolveDepthBuffer===!1&&l){const R=U.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[R])}}}function fe(U){return Math.min(i.maxSamples,U.samples)}function we(U){const R=r.get(U);return U.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&R.__useRenderToTexture!==!1}function Ee(U){const R=a.render.frame;f.get(U)!==R&&(f.set(U,R),U.update())}function Ye(U,R){const ee=U.colorSpace,de=U.format,ye=U.type;return U.isCompressedTexture===!0||U.isVideoTexture===!0||ee!==fu&&ee!==xa&&(At.getTransfer(ee)===jt?(de!==Ni||ye!==$o)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ee)),R}function Le(U){return typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement?(c.width=U.naturalWidth||U.width,c.height=U.naturalHeight||U.height):typeof VideoFrame<"u"&&U instanceof VideoFrame?(c.width=U.displayWidth,c.height=U.displayHeight):(c.width=U.width,c.height=U.height),c}this.allocateTextureUnit=L,this.resetTextureUnits=O,this.setTexture2D=j,this.setTexture2DArray=F,this.setTexture3D=B,this.setTextureCube=D,this.rebindTextures=ae,this.setupRenderTarget=le,this.updateRenderTargetMipmap=$,this.updateMultisampleRenderTarget=ve,this.setupDepthRenderbuffer=Q,this.setupFrameBufferTexture=be,this.useMultisampledRTT=we}function M8(t,e){function n(r,i=xa){let o;const a=At.getTransfer(i);if(r===$o)return t.UNSIGNED_BYTE;if(r===i1)return t.UNSIGNED_SHORT_4_4_4_4;if(r===o1)return t.UNSIGNED_SHORT_5_5_5_1;if(r===XD)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===GD)return t.BYTE;if(r===WD)return t.SHORT;if(r===ad)return t.UNSIGNED_SHORT;if(r===r1)return t.INT;if(r===$s)return t.UNSIGNED_INT;if(r===Ao)return t.FLOAT;if(r===ah)return t.HALF_FLOAT;if(r===qD)return t.ALPHA;if(r===YD)return t.RGB;if(r===Ni)return t.RGBA;if(r===KD)return t.LUMINANCE;if(r===ZD)return t.LUMINANCE_ALPHA;if(r===dc)return t.DEPTH_COMPONENT;if(r===Dc)return t.DEPTH_STENCIL;if(r===JD)return t.RED;if(r===a1)return t.RED_INTEGER;if(r===QD)return t.RG;if(r===s1)return t.RG_INTEGER;if(r===l1)return t.RGBA_INTEGER;if(r===rm||r===im||r===om||r===am)if(a===jt)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===rm)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===im)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===om)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===am)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===rm)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===im)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===om)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===am)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===Ob||r===Rb||r===Nb||r===Db)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===Ob)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Rb)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===Nb)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===Db)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===Lb||r===Ib||r===kb)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===Lb||r===Ib)return a===jt?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===kb)return a===jt?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===Ub||r===Fb||r===jb||r===Bb||r===$b||r===zb||r===Hb||r===Vb||r===Gb||r===Wb||r===Xb||r===qb||r===Yb||r===Kb)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===Ub)return a===jt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===Fb)return a===jt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===jb)return a===jt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Bb)return a===jt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===$b)return a===jt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===zb)return a===jt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Hb)return a===jt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Vb)return a===jt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Gb)return a===jt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Wb)return a===jt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Xb)return a===jt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===qb)return a===jt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Yb)return a===jt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Kb)return a===jt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===sm||r===Zb||r===Jb)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===sm)return a===jt?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Zb)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===Jb)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===eL||r===Qb||r===e_||r===t_)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===sm)return o.COMPRESSED_RED_RGTC1_EXT;if(r===Qb)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===e_)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===t_)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Nc?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class A8 extends ti{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class fp extends Wn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const T8={type:"move"};class C0{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new fp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new fp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new X,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new X),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new fp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new X,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new X),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const v of e.hand.values()){const g=n.getJointPose(v,r),p=this._getHandJoint(c,v);g!==null&&(p.matrix.fromArray(g.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=g.radius),p.visible=g!==null}const f=c.joints["index-finger-tip"],u=c.joints["thumb-tip"],d=f.position.distanceTo(u.position),h=.02,m=.005;c.inputState.pinching&&d>h+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=h-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(T8)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new fp;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const P8=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,C8=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class O8{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Sr,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Ba({vertexShader:P8,fragmentShader:C8,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Di(new xg(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class R8 extends rl{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=1,c=null,f=null,u=null,d=null,h=null,m=null;const v=new O8,g=n.getContextAttributes();let p=null,x=null;const y=[],b=[],S=new Oe;let _=null;const w=new ti;w.viewport=new yn;const T=new ti;T.viewport=new yn;const M=[w,T],A=new A8;let P=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Z){let ue=y[Z];return ue===void 0&&(ue=new C0,y[Z]=ue),ue.getTargetRaySpace()},this.getControllerGrip=function(Z){let ue=y[Z];return ue===void 0&&(ue=new C0,y[Z]=ue),ue.getGripSpace()},this.getHand=function(Z){let ue=y[Z];return ue===void 0&&(ue=new C0,y[Z]=ue),ue.getHandSpace()};function L(Z){const ue=b.indexOf(Z.inputSource);if(ue===-1)return;const be=y[ue];be!==void 0&&(be.update(Z.inputSource,Z.frame,c||a),be.dispatchEvent({type:Z.type,data:Z.inputSource}))}function I(){i.removeEventListener("select",L),i.removeEventListener("selectstart",L),i.removeEventListener("selectend",L),i.removeEventListener("squeeze",L),i.removeEventListener("squeezestart",L),i.removeEventListener("squeezeend",L),i.removeEventListener("end",I),i.removeEventListener("inputsourceschange",j);for(let Z=0;Z<y.length;Z++){const ue=b[Z];ue!==null&&(b[Z]=null,y[Z].disconnect(ue))}P=null,O=null,v.reset(),e.setRenderTarget(p),h=null,d=null,u=null,i=null,x=null,xe.stop(),r.isPresenting=!1,e.setPixelRatio(_),e.setSize(S.width,S.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Z){o=Z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Z){s=Z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(Z){c=Z},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return u},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(Z){if(i=Z,i!==null){if(p=e.getRenderTarget(),i.addEventListener("select",L),i.addEventListener("selectstart",L),i.addEventListener("selectend",L),i.addEventListener("squeeze",L),i.addEventListener("squeezestart",L),i.addEventListener("squeezeend",L),i.addEventListener("end",I),i.addEventListener("inputsourceschange",j),g.xrCompatible!==!0&&await n.makeXRCompatible(),_=e.getPixelRatio(),e.getSize(S),i.renderState.layers===void 0){const ue={antialias:g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,n,ue),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),x=new zs(h.framebufferWidth,h.framebufferHeight,{format:Ni,type:$o,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil})}else{let ue=null,be=null,ne=null;g.depth&&(ne=g.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ue=g.stencil?Dc:dc,be=g.stencil?Nc:$s);const _e={colorFormat:n.RGBA8,depthFormat:ne,scaleFactor:o};u=new XRWebGLBinding(i,n),d=u.createProjectionLayer(_e),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),x=new zs(d.textureWidth,d.textureHeight,{format:Ni,type:$o,depthTexture:new hL(d.textureWidth,d.textureHeight,be,void 0,void 0,void 0,void 0,void 0,void 0,ue),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1})}x.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(s),xe.setContext(i),xe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return v.getDepthTexture()};function j(Z){for(let ue=0;ue<Z.removed.length;ue++){const be=Z.removed[ue],ne=b.indexOf(be);ne>=0&&(b[ne]=null,y[ne].disconnect(be))}for(let ue=0;ue<Z.added.length;ue++){const be=Z.added[ue];let ne=b.indexOf(be);if(ne===-1){for(let Q=0;Q<y.length;Q++)if(Q>=b.length){b.push(be),ne=Q;break}else if(b[Q]===null){b[Q]=be,ne=Q;break}if(ne===-1)break}const _e=y[ne];_e&&_e.connect(be)}}const F=new X,B=new X;function D(Z,ue,be){F.setFromMatrixPosition(ue.matrixWorld),B.setFromMatrixPosition(be.matrixWorld);const ne=F.distanceTo(B),_e=ue.projectionMatrix.elements,Q=be.projectionMatrix.elements,ae=_e[14]/(_e[10]-1),le=_e[14]/(_e[10]+1),$=(_e[9]+1)/_e[5],se=(_e[9]-1)/_e[5],k=(_e[8]-1)/_e[0],ve=(Q[8]+1)/Q[0],fe=ae*k,we=ae*ve,Ee=ne/(-k+ve),Ye=Ee*-k;if(ue.matrixWorld.decompose(Z.position,Z.quaternion,Z.scale),Z.translateX(Ye),Z.translateZ(Ee),Z.matrixWorld.compose(Z.position,Z.quaternion,Z.scale),Z.matrixWorldInverse.copy(Z.matrixWorld).invert(),_e[10]===-1)Z.projectionMatrix.copy(ue.projectionMatrix),Z.projectionMatrixInverse.copy(ue.projectionMatrixInverse);else{const Le=ae+Ee,U=le+Ee,R=fe-Ye,ee=we+(ne-Ye),de=$*le/U*Le,ye=se*le/U*Le;Z.projectionMatrix.makePerspective(R,ee,de,ye,Le,U),Z.projectionMatrixInverse.copy(Z.projectionMatrix).invert()}}function z(Z,ue){ue===null?Z.matrixWorld.copy(Z.matrix):Z.matrixWorld.multiplyMatrices(ue.matrixWorld,Z.matrix),Z.matrixWorldInverse.copy(Z.matrixWorld).invert()}this.updateCamera=function(Z){if(i===null)return;let ue=Z.near,be=Z.far;v.texture!==null&&(v.depthNear>0&&(ue=v.depthNear),v.depthFar>0&&(be=v.depthFar)),A.near=T.near=w.near=ue,A.far=T.far=w.far=be,(P!==A.near||O!==A.far)&&(i.updateRenderState({depthNear:A.near,depthFar:A.far}),P=A.near,O=A.far),w.layers.mask=Z.layers.mask|2,T.layers.mask=Z.layers.mask|4,A.layers.mask=w.layers.mask|T.layers.mask;const ne=Z.parent,_e=A.cameras;z(A,ne);for(let Q=0;Q<_e.length;Q++)z(_e[Q],ne);_e.length===2?D(A,w,T):A.projectionMatrix.copy(w.projectionMatrix),W(Z,A,ne)};function W(Z,ue,be){be===null?Z.matrix.copy(ue.matrixWorld):(Z.matrix.copy(be.matrixWorld),Z.matrix.invert(),Z.matrix.multiply(ue.matrixWorld)),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.updateMatrixWorld(!0),Z.projectionMatrix.copy(ue.projectionMatrix),Z.projectionMatrixInverse.copy(ue.projectionMatrixInverse),Z.isPerspectiveCamera&&(Z.fov=sd*2*Math.atan(1/Z.projectionMatrix.elements[5]),Z.zoom=1)}this.getCamera=function(){return A},this.getFoveation=function(){if(!(d===null&&h===null))return l},this.setFoveation=function(Z){l=Z,d!==null&&(d.fixedFoveation=Z),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=Z)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(A)};let J=null;function ie(Z,ue){if(f=ue.getViewerPose(c||a),m=ue,f!==null){const be=f.views;h!==null&&(e.setRenderTargetFramebuffer(x,h.framebuffer),e.setRenderTarget(x));let ne=!1;be.length!==A.cameras.length&&(A.cameras.length=0,ne=!0);for(let Q=0;Q<be.length;Q++){const ae=be[Q];let le=null;if(h!==null)le=h.getViewport(ae);else{const se=u.getViewSubImage(d,ae);le=se.viewport,Q===0&&(e.setRenderTargetTextures(x,se.colorTexture,d.ignoreDepthValues?void 0:se.depthStencilTexture),e.setRenderTarget(x))}let $=M[Q];$===void 0&&($=new ti,$.layers.enable(Q),$.viewport=new yn,M[Q]=$),$.matrix.fromArray(ae.transform.matrix),$.matrix.decompose($.position,$.quaternion,$.scale),$.projectionMatrix.fromArray(ae.projectionMatrix),$.projectionMatrixInverse.copy($.projectionMatrix).invert(),$.viewport.set(le.x,le.y,le.width,le.height),Q===0&&(A.matrix.copy($.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),ne===!0&&A.cameras.push($)}const _e=i.enabledFeatures;if(_e&&_e.includes("depth-sensing")){const Q=u.getDepthInformation(be[0]);Q&&Q.isValid&&Q.texture&&v.init(e,Q,i.renderState)}}for(let be=0;be<y.length;be++){const ne=b[be],_e=y[be];ne!==null&&_e!==void 0&&_e.update(ne,ue,c||a)}J&&J(Z,ue),ue.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ue}),m=null}const xe=new dL;xe.setAnimationLoop(ie),this.setAnimationLoop=function(Z){J=Z},this.dispose=function(){}}}const as=new zo,N8=new nn;function D8(t,e){function n(g,p){g.matrixAutoUpdate===!0&&g.updateMatrix(),p.value.copy(g.matrix)}function r(g,p){p.color.getRGB(g.fogColor.value,lL(t)),p.isFog?(g.fogNear.value=p.near,g.fogFar.value=p.far):p.isFogExp2&&(g.fogDensity.value=p.density)}function i(g,p,x,y,b){p.isMeshBasicMaterial||p.isMeshLambertMaterial?o(g,p):p.isMeshToonMaterial?(o(g,p),u(g,p)):p.isMeshPhongMaterial?(o(g,p),f(g,p)):p.isMeshStandardMaterial?(o(g,p),d(g,p),p.isMeshPhysicalMaterial&&h(g,p,b)):p.isMeshMatcapMaterial?(o(g,p),m(g,p)):p.isMeshDepthMaterial?o(g,p):p.isMeshDistanceMaterial?(o(g,p),v(g,p)):p.isMeshNormalMaterial?o(g,p):p.isLineBasicMaterial?(a(g,p),p.isLineDashedMaterial&&s(g,p)):p.isPointsMaterial?l(g,p,x,y):p.isSpriteMaterial?c(g,p):p.isShadowMaterial?(g.color.value.copy(p.color),g.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function o(g,p){g.opacity.value=p.opacity,p.color&&g.diffuse.value.copy(p.color),p.emissive&&g.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(g.map.value=p.map,n(p.map,g.mapTransform)),p.alphaMap&&(g.alphaMap.value=p.alphaMap,n(p.alphaMap,g.alphaMapTransform)),p.bumpMap&&(g.bumpMap.value=p.bumpMap,n(p.bumpMap,g.bumpMapTransform),g.bumpScale.value=p.bumpScale,p.side===_r&&(g.bumpScale.value*=-1)),p.normalMap&&(g.normalMap.value=p.normalMap,n(p.normalMap,g.normalMapTransform),g.normalScale.value.copy(p.normalScale),p.side===_r&&g.normalScale.value.negate()),p.displacementMap&&(g.displacementMap.value=p.displacementMap,n(p.displacementMap,g.displacementMapTransform),g.displacementScale.value=p.displacementScale,g.displacementBias.value=p.displacementBias),p.emissiveMap&&(g.emissiveMap.value=p.emissiveMap,n(p.emissiveMap,g.emissiveMapTransform)),p.specularMap&&(g.specularMap.value=p.specularMap,n(p.specularMap,g.specularMapTransform)),p.alphaTest>0&&(g.alphaTest.value=p.alphaTest);const x=e.get(p),y=x.envMap,b=x.envMapRotation;y&&(g.envMap.value=y,as.copy(b),as.x*=-1,as.y*=-1,as.z*=-1,y.isCubeTexture&&y.isRenderTargetTexture===!1&&(as.y*=-1,as.z*=-1),g.envMapRotation.value.setFromMatrix4(N8.makeRotationFromEuler(as)),g.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=p.reflectivity,g.ior.value=p.ior,g.refractionRatio.value=p.refractionRatio),p.lightMap&&(g.lightMap.value=p.lightMap,g.lightMapIntensity.value=p.lightMapIntensity,n(p.lightMap,g.lightMapTransform)),p.aoMap&&(g.aoMap.value=p.aoMap,g.aoMapIntensity.value=p.aoMapIntensity,n(p.aoMap,g.aoMapTransform))}function a(g,p){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity,p.map&&(g.map.value=p.map,n(p.map,g.mapTransform))}function s(g,p){g.dashSize.value=p.dashSize,g.totalSize.value=p.dashSize+p.gapSize,g.scale.value=p.scale}function l(g,p,x,y){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity,g.size.value=p.size*x,g.scale.value=y*.5,p.map&&(g.map.value=p.map,n(p.map,g.uvTransform)),p.alphaMap&&(g.alphaMap.value=p.alphaMap,n(p.alphaMap,g.alphaMapTransform)),p.alphaTest>0&&(g.alphaTest.value=p.alphaTest)}function c(g,p){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity,g.rotation.value=p.rotation,p.map&&(g.map.value=p.map,n(p.map,g.mapTransform)),p.alphaMap&&(g.alphaMap.value=p.alphaMap,n(p.alphaMap,g.alphaMapTransform)),p.alphaTest>0&&(g.alphaTest.value=p.alphaTest)}function f(g,p){g.specular.value.copy(p.specular),g.shininess.value=Math.max(p.shininess,1e-4)}function u(g,p){p.gradientMap&&(g.gradientMap.value=p.gradientMap)}function d(g,p){g.metalness.value=p.metalness,p.metalnessMap&&(g.metalnessMap.value=p.metalnessMap,n(p.metalnessMap,g.metalnessMapTransform)),g.roughness.value=p.roughness,p.roughnessMap&&(g.roughnessMap.value=p.roughnessMap,n(p.roughnessMap,g.roughnessMapTransform)),p.envMap&&(g.envMapIntensity.value=p.envMapIntensity)}function h(g,p,x){g.ior.value=p.ior,p.sheen>0&&(g.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),g.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(g.sheenColorMap.value=p.sheenColorMap,n(p.sheenColorMap,g.sheenColorMapTransform)),p.sheenRoughnessMap&&(g.sheenRoughnessMap.value=p.sheenRoughnessMap,n(p.sheenRoughnessMap,g.sheenRoughnessMapTransform))),p.clearcoat>0&&(g.clearcoat.value=p.clearcoat,g.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(g.clearcoatMap.value=p.clearcoatMap,n(p.clearcoatMap,g.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,n(p.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(g.clearcoatNormalMap.value=p.clearcoatNormalMap,n(p.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),p.side===_r&&g.clearcoatNormalScale.value.negate())),p.dispersion>0&&(g.dispersion.value=p.dispersion),p.iridescence>0&&(g.iridescence.value=p.iridescence,g.iridescenceIOR.value=p.iridescenceIOR,g.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(g.iridescenceMap.value=p.iridescenceMap,n(p.iridescenceMap,g.iridescenceMapTransform)),p.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=p.iridescenceThicknessMap,n(p.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),p.transmission>0&&(g.transmission.value=p.transmission,g.transmissionSamplerMap.value=x.texture,g.transmissionSamplerSize.value.set(x.width,x.height),p.transmissionMap&&(g.transmissionMap.value=p.transmissionMap,n(p.transmissionMap,g.transmissionMapTransform)),g.thickness.value=p.thickness,p.thicknessMap&&(g.thicknessMap.value=p.thicknessMap,n(p.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=p.attenuationDistance,g.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(g.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(g.anisotropyMap.value=p.anisotropyMap,n(p.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=p.specularIntensity,g.specularColor.value.copy(p.specularColor),p.specularColorMap&&(g.specularColorMap.value=p.specularColorMap,n(p.specularColorMap,g.specularColorMapTransform)),p.specularIntensityMap&&(g.specularIntensityMap.value=p.specularIntensityMap,n(p.specularIntensityMap,g.specularIntensityMapTransform))}function m(g,p){p.matcap&&(g.matcap.value=p.matcap)}function v(g,p){const x=e.get(p).light;g.referencePosition.value.setFromMatrixPosition(x.matrixWorld),g.nearDistance.value=x.shadow.camera.near,g.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function L8(t,e,n,r){let i={},o={},a=[];const s=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(x,y){const b=y.program;r.uniformBlockBinding(x,b)}function c(x,y){let b=i[x.id];b===void 0&&(m(x),b=f(x),i[x.id]=b,x.addEventListener("dispose",g));const S=y.program;r.updateUBOMapping(x,S);const _=e.render.frame;o[x.id]!==_&&(d(x),o[x.id]=_)}function f(x){const y=u();x.__bindingPointIndex=y;const b=t.createBuffer(),S=x.__size,_=x.usage;return t.bindBuffer(t.UNIFORM_BUFFER,b),t.bufferData(t.UNIFORM_BUFFER,S,_),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,y,b),b}function u(){for(let x=0;x<s;x++)if(a.indexOf(x)===-1)return a.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(x){const y=i[x.id],b=x.uniforms,S=x.__cache;t.bindBuffer(t.UNIFORM_BUFFER,y);for(let _=0,w=b.length;_<w;_++){const T=Array.isArray(b[_])?b[_]:[b[_]];for(let M=0,A=T.length;M<A;M++){const P=T[M];if(h(P,_,M,S)===!0){const O=P.__offset,L=Array.isArray(P.value)?P.value:[P.value];let I=0;for(let j=0;j<L.length;j++){const F=L[j],B=v(F);typeof F=="number"||typeof F=="boolean"?(P.__data[0]=F,t.bufferSubData(t.UNIFORM_BUFFER,O+I,P.__data)):F.isMatrix3?(P.__data[0]=F.elements[0],P.__data[1]=F.elements[1],P.__data[2]=F.elements[2],P.__data[3]=0,P.__data[4]=F.elements[3],P.__data[5]=F.elements[4],P.__data[6]=F.elements[5],P.__data[7]=0,P.__data[8]=F.elements[6],P.__data[9]=F.elements[7],P.__data[10]=F.elements[8],P.__data[11]=0):(F.toArray(P.__data,I),I+=B.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,O,P.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(x,y,b,S){const _=x.value,w=y+"_"+b;if(S[w]===void 0)return typeof _=="number"||typeof _=="boolean"?S[w]=_:S[w]=_.clone(),!0;{const T=S[w];if(typeof _=="number"||typeof _=="boolean"){if(T!==_)return S[w]=_,!0}else if(T.equals(_)===!1)return T.copy(_),!0}return!1}function m(x){const y=x.uniforms;let b=0;const S=16;for(let w=0,T=y.length;w<T;w++){const M=Array.isArray(y[w])?y[w]:[y[w]];for(let A=0,P=M.length;A<P;A++){const O=M[A],L=Array.isArray(O.value)?O.value:[O.value];for(let I=0,j=L.length;I<j;I++){const F=L[I],B=v(F),D=b%S,z=D%B.boundary,W=D+z;b+=z,W!==0&&S-W<B.storage&&(b+=S-W),O.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),O.__offset=b,b+=B.storage}}}const _=b%S;return _>0&&(b+=S-_),x.__size=b,x.__cache={},this}function v(x){const y={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(y.boundary=4,y.storage=4):x.isVector2?(y.boundary=8,y.storage=8):x.isVector3||x.isColor?(y.boundary=16,y.storage=12):x.isVector4?(y.boundary=16,y.storage=16):x.isMatrix3?(y.boundary=48,y.storage=48):x.isMatrix4?(y.boundary=64,y.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),y}function g(x){const y=x.target;y.removeEventListener("dispose",g);const b=a.indexOf(y.__bindingPointIndex);a.splice(b,1),t.deleteBuffer(i[y.id]),delete i[y.id],delete o[y.id]}function p(){for(const x in i)t.deleteBuffer(i[x]);a=[],i={},o={}}return{bind:l,update:c,dispose:p}}class I8{constructor(e={}){const{canvas:n=S5(),context:r=null,depth:i=!0,stencil:o=!1,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:u=!1,reverseDepthBuffer:d=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=a;const m=new Uint32Array(4),v=new Int32Array(4);let g=null,p=null;const x=[],y=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Jr,this.toneMapping=La,this.toneMappingExposure=1;const b=this;let S=!1,_=0,w=0,T=null,M=-1,A=null;const P=new yn,O=new yn;let L=null;const I=new Tt(0);let j=0,F=n.width,B=n.height,D=1,z=null,W=null;const J=new yn(0,0,F,B),ie=new yn(0,0,F,B);let xe=!1;const Z=new fL;let ue=!1,be=!1;const ne=new nn,_e=new nn,Q=new X,ae=new yn,le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let $=!1;function se(){return T===null?D:1}let k=r;function ve(N,G){return n.getContext(N,G)}try{const N={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:f,failIfMajorPerformanceCaveat:u};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${n1}`),n.addEventListener("webglcontextlost",ge,!1),n.addEventListener("webglcontextrestored",ke,!1),n.addEventListener("webglcontextcreationerror",Ue,!1),k===null){const G="webgl2";if(k=ve(G,N),k===null)throw ve(G)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(N){throw console.error("THREE.WebGLRenderer: "+N.message),N}let fe,we,Ee,Ye,Le,U,R,ee,de,ye,pe,$e,Ce,je,dt,Ae,Ie,tt,rt,He,St,ut,Rt,q;function Re(){fe=new BG(k),fe.init(),ut=new M8(k,fe),we=new DG(k,fe,e,ut),Ee=new S8(k,fe),we.reverseDepthBuffer&&d&&Ee.buffers.depth.setReversed(!0),Ye=new HG(k),Le=new s8,U=new E8(k,fe,Ee,Le,we,ut,Ye),R=new IG(b),ee=new jG(b),de=new Y5(k),Rt=new RG(k,de),ye=new $G(k,de,Ye,Rt),pe=new GG(k,ye,de,Ye),rt=new VG(k,we,U),Ae=new LG(Le),$e=new a8(b,R,ee,fe,we,Rt,Ae),Ce=new D8(b,Le),je=new c8,dt=new m8(fe),tt=new OG(b,R,ee,Ee,pe,h,l),Ie=new b8(b,pe,we),q=new L8(k,Ye,we,Ee),He=new NG(k,fe,Ye),St=new zG(k,fe,Ye),Ye.programs=$e.programs,b.capabilities=we,b.extensions=fe,b.properties=Le,b.renderLists=je,b.shadowMap=Ie,b.state=Ee,b.info=Ye}Re();const ce=new R8(b,k);this.xr=ce,this.getContext=function(){return k},this.getContextAttributes=function(){return k.getContextAttributes()},this.forceContextLoss=function(){const N=fe.get("WEBGL_lose_context");N&&N.loseContext()},this.forceContextRestore=function(){const N=fe.get("WEBGL_lose_context");N&&N.restoreContext()},this.getPixelRatio=function(){return D},this.setPixelRatio=function(N){N!==void 0&&(D=N,this.setSize(F,B,!1))},this.getSize=function(N){return N.set(F,B)},this.setSize=function(N,G,te=!0){if(ce.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}F=N,B=G,n.width=Math.floor(N*D),n.height=Math.floor(G*D),te===!0&&(n.style.width=N+"px",n.style.height=G+"px"),this.setViewport(0,0,N,G)},this.getDrawingBufferSize=function(N){return N.set(F*D,B*D).floor()},this.setDrawingBufferSize=function(N,G,te){F=N,B=G,D=te,n.width=Math.floor(N*te),n.height=Math.floor(G*te),this.setViewport(0,0,N,G)},this.getCurrentViewport=function(N){return N.copy(P)},this.getViewport=function(N){return N.copy(J)},this.setViewport=function(N,G,te,re){N.isVector4?J.set(N.x,N.y,N.z,N.w):J.set(N,G,te,re),Ee.viewport(P.copy(J).multiplyScalar(D).round())},this.getScissor=function(N){return N.copy(ie)},this.setScissor=function(N,G,te,re){N.isVector4?ie.set(N.x,N.y,N.z,N.w):ie.set(N,G,te,re),Ee.scissor(O.copy(ie).multiplyScalar(D).round())},this.getScissorTest=function(){return xe},this.setScissorTest=function(N){Ee.setScissorTest(xe=N)},this.setOpaqueSort=function(N){z=N},this.setTransparentSort=function(N){W=N},this.getClearColor=function(N){return N.copy(tt.getClearColor())},this.setClearColor=function(){tt.setClearColor.apply(tt,arguments)},this.getClearAlpha=function(){return tt.getClearAlpha()},this.setClearAlpha=function(){tt.setClearAlpha.apply(tt,arguments)},this.clear=function(N=!0,G=!0,te=!0){let re=0;if(N){let Y=!1;if(T!==null){const Se=T.texture.format;Y=Se===l1||Se===s1||Se===a1}if(Y){const Se=T.texture.type,De=Se===$o||Se===$s||Se===ad||Se===Nc||Se===i1||Se===o1,qe=tt.getClearColor(),Ve=tt.getClearAlpha(),nt=qe.r,at=qe.g,Te=qe.b;De?(m[0]=nt,m[1]=at,m[2]=Te,m[3]=Ve,k.clearBufferuiv(k.COLOR,0,m)):(v[0]=nt,v[1]=at,v[2]=Te,v[3]=Ve,k.clearBufferiv(k.COLOR,0,v))}else re|=k.COLOR_BUFFER_BIT}G&&(re|=k.DEPTH_BUFFER_BIT),te&&(re|=k.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),k.clear(re)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ge,!1),n.removeEventListener("webglcontextrestored",ke,!1),n.removeEventListener("webglcontextcreationerror",Ue,!1),je.dispose(),dt.dispose(),Le.dispose(),R.dispose(),ee.dispose(),pe.dispose(),Rt.dispose(),q.dispose(),$e.dispose(),ce.dispose(),ce.removeEventListener("sessionstart",K),ce.removeEventListener("sessionend",oe),me.stop()};function ge(N){N.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function ke(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const N=Ye.autoReset,G=Ie.enabled,te=Ie.autoUpdate,re=Ie.needsUpdate,Y=Ie.type;Re(),Ye.autoReset=N,Ie.enabled=G,Ie.autoUpdate=te,Ie.needsUpdate=re,Ie.type=Y}function Ue(N){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",N.statusMessage)}function ct(N){const G=N.target;G.removeEventListener("dispose",ct),Ht(G)}function Ht(N){vn(N),Le.remove(N)}function vn(N){const G=Le.get(N).programs;G!==void 0&&(G.forEach(function(te){$e.releaseProgram(te)}),N.isShaderMaterial&&$e.releaseShaderCache(N))}this.renderBufferDirect=function(N,G,te,re,Y,Se){G===null&&(G=le);const De=Y.isMesh&&Y.matrixWorld.determinant()<0,qe=wt(N,G,te,re,Y);Ee.setMaterial(re,De);let Ve=te.index,nt=1;if(re.wireframe===!0){if(Ve=ye.getWireframeAttribute(te),Ve===void 0)return;nt=2}const at=te.drawRange,Te=te.attributes.position;let Qe=at.start*nt,Mt=(at.start+at.count)*nt;Se!==null&&(Qe=Math.max(Qe,Se.start*nt),Mt=Math.min(Mt,(Se.start+Se.count)*nt)),Ve!==null?(Qe=Math.max(Qe,0),Mt=Math.min(Mt,Ve.count)):Te!=null&&(Qe=Math.max(Qe,0),Mt=Math.min(Mt,Te.count));const Dt=Mt-Qe;if(Dt<0||Dt===1/0)return;Rt.setup(Y,re,qe,te,Ve);let Et,bt=He;if(Ve!==null&&(Et=de.get(Ve),bt=St,bt.setIndex(Et)),Y.isMesh)re.wireframe===!0?(Ee.setLineWidth(re.wireframeLinewidth*se()),bt.setMode(k.LINES)):bt.setMode(k.TRIANGLES);else if(Y.isLine){let Ke=re.linewidth;Ke===void 0&&(Ke=1),Ee.setLineWidth(Ke*se()),Y.isLineSegments?bt.setMode(k.LINES):Y.isLineLoop?bt.setMode(k.LINE_LOOP):bt.setMode(k.LINE_STRIP)}else Y.isPoints?bt.setMode(k.POINTS):Y.isSprite&&bt.setMode(k.TRIANGLES);if(Y.isBatchedMesh)if(Y._multiDrawInstances!==null)bt.renderMultiDrawInstances(Y._multiDrawStarts,Y._multiDrawCounts,Y._multiDrawCount,Y._multiDrawInstances);else if(fe.get("WEBGL_multi_draw"))bt.renderMultiDraw(Y._multiDrawStarts,Y._multiDrawCounts,Y._multiDrawCount);else{const Ke=Y._multiDrawStarts,di=Y._multiDrawCounts,Lt=Y._multiDrawCount,hi=Ve?de.get(Ve).bytesPerElement:1,ul=Le.get(re).currentProgram.getUniforms();for(let Mr=0;Mr<Lt;Mr++)ul.setValue(k,"_gl_DrawID",Mr),bt.render(Ke[Mr]/hi,di[Mr])}else if(Y.isInstancedMesh)bt.renderInstances(Qe,Dt,Y.count);else if(te.isInstancedBufferGeometry){const Ke=te._maxInstanceCount!==void 0?te._maxInstanceCount:1/0,di=Math.min(te.instanceCount,Ke);bt.renderInstances(Qe,Dt,di)}else bt.render(Qe,Dt)};function Nt(N,G,te){N.transparent===!0&&N.side===Ai&&N.forceSinglePass===!1?(N.side=_r,N.needsUpdate=!0,Fe(N,G,te),N.side=ja,N.needsUpdate=!0,Fe(N,G,te),N.side=Ai):Fe(N,G,te)}this.compile=function(N,G,te=null){te===null&&(te=N),p=dt.get(te),p.init(G),y.push(p),te.traverseVisible(function(Y){Y.isLight&&Y.layers.test(G.layers)&&(p.pushLight(Y),Y.castShadow&&p.pushShadow(Y))}),N!==te&&N.traverseVisible(function(Y){Y.isLight&&Y.layers.test(G.layers)&&(p.pushLight(Y),Y.castShadow&&p.pushShadow(Y))}),p.setupLights();const re=new Set;return N.traverse(function(Y){if(!(Y.isMesh||Y.isPoints||Y.isLine||Y.isSprite))return;const Se=Y.material;if(Se)if(Array.isArray(Se))for(let De=0;De<Se.length;De++){const qe=Se[De];Nt(qe,te,Y),re.add(qe)}else Nt(Se,te,Y),re.add(Se)}),y.pop(),p=null,re},this.compileAsync=function(N,G,te=null){const re=this.compile(N,G,te);return new Promise(Y=>{function Se(){if(re.forEach(function(De){Le.get(De).currentProgram.isReady()&&re.delete(De)}),re.size===0){Y(N);return}setTimeout(Se,10)}fe.get("KHR_parallel_shader_compile")!==null?Se():setTimeout(Se,10)})};let Er=null;function V(N){Er&&Er(N)}function K(){me.stop()}function oe(){me.start()}const me=new dL;me.setAnimationLoop(V),typeof self<"u"&&me.setContext(self),this.setAnimationLoop=function(N){Er=N,ce.setAnimationLoop(N),N===null?me.stop():me.start()},ce.addEventListener("sessionstart",K),ce.addEventListener("sessionend",oe),this.render=function(N,G){if(G!==void 0&&G.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;if(N.matrixWorldAutoUpdate===!0&&N.updateMatrixWorld(),G.parent===null&&G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),ce.enabled===!0&&ce.isPresenting===!0&&(ce.cameraAutoUpdate===!0&&ce.updateCamera(G),G=ce.getCamera()),N.isScene===!0&&N.onBeforeRender(b,N,G,T),p=dt.get(N,y.length),p.init(G),y.push(p),_e.multiplyMatrices(G.projectionMatrix,G.matrixWorldInverse),Z.setFromProjectionMatrix(_e),be=this.localClippingEnabled,ue=Ae.init(this.clippingPlanes,be),g=je.get(N,x.length),g.init(),x.push(g),ce.enabled===!0&&ce.isPresenting===!0){const Se=b.xr.getDepthSensingMesh();Se!==null&&Be(Se,G,-1/0,b.sortObjects)}Be(N,G,0,b.sortObjects),g.finish(),b.sortObjects===!0&&g.sort(z,W),$=ce.enabled===!1||ce.isPresenting===!1||ce.hasDepthSensing()===!1,$&&tt.addToRenderList(g,N),this.info.render.frame++,ue===!0&&Ae.beginShadows();const te=p.state.shadowsArray;Ie.render(te,N,G),ue===!0&&Ae.endShadows(),this.info.autoReset===!0&&this.info.reset();const re=g.opaque,Y=g.transmissive;if(p.setupLights(),G.isArrayCamera){const Se=G.cameras;if(Y.length>0)for(let De=0,qe=Se.length;De<qe;De++){const Ve=Se[De];ot(re,Y,N,Ve)}$&&tt.render(N);for(let De=0,qe=Se.length;De<qe;De++){const Ve=Se[De];Ze(g,N,Ve,Ve.viewport)}}else Y.length>0&&ot(re,Y,N,G),$&&tt.render(N),Ze(g,N,G);T!==null&&(U.updateMultisampleRenderTarget(T),U.updateRenderTargetMipmap(T)),N.isScene===!0&&N.onAfterRender(b,N,G),Rt.resetDefaultState(),M=-1,A=null,y.pop(),y.length>0?(p=y[y.length-1],ue===!0&&Ae.setGlobalState(b.clippingPlanes,p.state.camera)):p=null,x.pop(),x.length>0?g=x[x.length-1]:g=null};function Be(N,G,te,re){if(N.visible===!1)return;if(N.layers.test(G.layers)){if(N.isGroup)te=N.renderOrder;else if(N.isLOD)N.autoUpdate===!0&&N.update(G);else if(N.isLight)p.pushLight(N),N.castShadow&&p.pushShadow(N);else if(N.isSprite){if(!N.frustumCulled||Z.intersectsSprite(N)){re&&ae.setFromMatrixPosition(N.matrixWorld).applyMatrix4(_e);const De=pe.update(N),qe=N.material;qe.visible&&g.push(N,De,qe,te,ae.z,null)}}else if((N.isMesh||N.isLine||N.isPoints)&&(!N.frustumCulled||Z.intersectsObject(N))){const De=pe.update(N),qe=N.material;if(re&&(N.boundingSphere!==void 0?(N.boundingSphere===null&&N.computeBoundingSphere(),ae.copy(N.boundingSphere.center)):(De.boundingSphere===null&&De.computeBoundingSphere(),ae.copy(De.boundingSphere.center)),ae.applyMatrix4(N.matrixWorld).applyMatrix4(_e)),Array.isArray(qe)){const Ve=De.groups;for(let nt=0,at=Ve.length;nt<at;nt++){const Te=Ve[nt],Qe=qe[Te.materialIndex];Qe&&Qe.visible&&g.push(N,De,Qe,te,ae.z,Te)}}else qe.visible&&g.push(N,De,qe,te,ae.z,null)}}const Se=N.children;for(let De=0,qe=Se.length;De<qe;De++)Be(Se[De],G,te,re)}function Ze(N,G,te,re){const Y=N.opaque,Se=N.transmissive,De=N.transparent;p.setupLightsView(te),ue===!0&&Ae.setGlobalState(b.clippingPlanes,te),re&&Ee.viewport(P.copy(re)),Y.length>0&&ze(Y,G,te),Se.length>0&&ze(Se,G,te),De.length>0&&ze(De,G,te),Ee.buffers.depth.setTest(!0),Ee.buffers.depth.setMask(!0),Ee.buffers.color.setMask(!0),Ee.setPolygonOffset(!1)}function ot(N,G,te,re){if((te.isScene===!0?te.overrideMaterial:null)!==null)return;p.state.transmissionRenderTarget[re.id]===void 0&&(p.state.transmissionRenderTarget[re.id]=new zs(1,1,{generateMipmaps:!0,type:fe.has("EXT_color_buffer_half_float")||fe.has("EXT_color_buffer_float")?ah:$o,minFilter:As,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:At.workingColorSpace}));const Se=p.state.transmissionRenderTarget[re.id],De=re.viewport||P;Se.setSize(De.z,De.w);const qe=b.getRenderTarget();b.setRenderTarget(Se),b.getClearColor(I),j=b.getClearAlpha(),j<1&&b.setClearColor(16777215,.5),b.clear(),$&&tt.render(te);const Ve=b.toneMapping;b.toneMapping=La;const nt=re.viewport;if(re.viewport!==void 0&&(re.viewport=void 0),p.setupLightsView(re),ue===!0&&Ae.setGlobalState(b.clippingPlanes,re),ze(N,te,re),U.updateMultisampleRenderTarget(Se),U.updateRenderTargetMipmap(Se),fe.has("WEBGL_multisampled_render_to_texture")===!1){let at=!1;for(let Te=0,Qe=G.length;Te<Qe;Te++){const Mt=G[Te],Dt=Mt.object,Et=Mt.geometry,bt=Mt.material,Ke=Mt.group;if(bt.side===Ai&&Dt.layers.test(re.layers)){const di=bt.side;bt.side=_r,bt.needsUpdate=!0,Xe(Dt,te,re,Et,bt,Ke),bt.side=di,bt.needsUpdate=!0,at=!0}}at===!0&&(U.updateMultisampleRenderTarget(Se),U.updateRenderTargetMipmap(Se))}b.setRenderTarget(qe),b.setClearColor(I,j),nt!==void 0&&(re.viewport=nt),b.toneMapping=Ve}function ze(N,G,te){const re=G.isScene===!0?G.overrideMaterial:null;for(let Y=0,Se=N.length;Y<Se;Y++){const De=N[Y],qe=De.object,Ve=De.geometry,nt=re===null?De.material:re,at=De.group;qe.layers.test(te.layers)&&Xe(qe,G,te,Ve,nt,at)}}function Xe(N,G,te,re,Y,Se){N.onBeforeRender(b,G,te,re,Y,Se),N.modelViewMatrix.multiplyMatrices(te.matrixWorldInverse,N.matrixWorld),N.normalMatrix.getNormalMatrix(N.modelViewMatrix),Y.onBeforeRender(b,G,te,re,N,Se),Y.transparent===!0&&Y.side===Ai&&Y.forceSinglePass===!1?(Y.side=_r,Y.needsUpdate=!0,b.renderBufferDirect(te,G,re,Y,N,Se),Y.side=ja,Y.needsUpdate=!0,b.renderBufferDirect(te,G,re,Y,N,Se),Y.side=Ai):b.renderBufferDirect(te,G,re,Y,N,Se),N.onAfterRender(b,G,te,re,Y,Se)}function Fe(N,G,te){G.isScene!==!0&&(G=le);const re=Le.get(N),Y=p.state.lights,Se=p.state.shadowsArray,De=Y.state.version,qe=$e.getParameters(N,Y.state,Se,G,te),Ve=$e.getProgramCacheKey(qe);let nt=re.programs;re.environment=N.isMeshStandardMaterial?G.environment:null,re.fog=G.fog,re.envMap=(N.isMeshStandardMaterial?ee:R).get(N.envMap||re.environment),re.envMapRotation=re.environment!==null&&N.envMap===null?G.environmentRotation:N.envMapRotation,nt===void 0&&(N.addEventListener("dispose",ct),nt=new Map,re.programs=nt);let at=nt.get(Ve);if(at!==void 0){if(re.currentProgram===at&&re.lightsStateVersion===De)return yt(N,qe),at}else qe.uniforms=$e.getUniforms(N),N.onBeforeCompile(qe,b),at=$e.acquireProgram(qe,Ve),nt.set(Ve,at),re.uniforms=qe.uniforms;const Te=re.uniforms;return(!N.isShaderMaterial&&!N.isRawShaderMaterial||N.clipping===!0)&&(Te.clippingPlanes=Ae.uniform),yt(N,qe),re.needsLights=Ft(N),re.lightsStateVersion=De,re.needsLights&&(Te.ambientLightColor.value=Y.state.ambient,Te.lightProbe.value=Y.state.probe,Te.directionalLights.value=Y.state.directional,Te.directionalLightShadows.value=Y.state.directionalShadow,Te.spotLights.value=Y.state.spot,Te.spotLightShadows.value=Y.state.spotShadow,Te.rectAreaLights.value=Y.state.rectArea,Te.ltc_1.value=Y.state.rectAreaLTC1,Te.ltc_2.value=Y.state.rectAreaLTC2,Te.pointLights.value=Y.state.point,Te.pointLightShadows.value=Y.state.pointShadow,Te.hemisphereLights.value=Y.state.hemi,Te.directionalShadowMap.value=Y.state.directionalShadowMap,Te.directionalShadowMatrix.value=Y.state.directionalShadowMatrix,Te.spotShadowMap.value=Y.state.spotShadowMap,Te.spotLightMatrix.value=Y.state.spotLightMatrix,Te.spotLightMap.value=Y.state.spotLightMap,Te.pointShadowMap.value=Y.state.pointShadowMap,Te.pointShadowMatrix.value=Y.state.pointShadowMatrix),re.currentProgram=at,re.uniformsList=null,at}function Je(N){if(N.uniformsList===null){const G=N.currentProgram.getUniforms();N.uniformsList=lm.seqWithValue(G.seq,N.uniforms)}return N.uniformsList}function yt(N,G){const te=Le.get(N);te.outputColorSpace=G.outputColorSpace,te.batching=G.batching,te.batchingColor=G.batchingColor,te.instancing=G.instancing,te.instancingColor=G.instancingColor,te.instancingMorph=G.instancingMorph,te.skinning=G.skinning,te.morphTargets=G.morphTargets,te.morphNormals=G.morphNormals,te.morphColors=G.morphColors,te.morphTargetsCount=G.morphTargetsCount,te.numClippingPlanes=G.numClippingPlanes,te.numIntersection=G.numClipIntersection,te.vertexAlphas=G.vertexAlphas,te.vertexTangents=G.vertexTangents,te.toneMapping=G.toneMapping}function wt(N,G,te,re,Y){G.isScene!==!0&&(G=le),U.resetTextureUnits();const Se=G.fog,De=re.isMeshStandardMaterial?G.environment:null,qe=T===null?b.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:fu,Ve=(re.isMeshStandardMaterial?ee:R).get(re.envMap||De),nt=re.vertexColors===!0&&!!te.attributes.color&&te.attributes.color.itemSize===4,at=!!te.attributes.tangent&&(!!re.normalMap||re.anisotropy>0),Te=!!te.morphAttributes.position,Qe=!!te.morphAttributes.normal,Mt=!!te.morphAttributes.color;let Dt=La;re.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(Dt=b.toneMapping);const Et=te.morphAttributes.position||te.morphAttributes.normal||te.morphAttributes.color,bt=Et!==void 0?Et.length:0,Ke=Le.get(re),di=p.state.lights;if(ue===!0&&(be===!0||N!==A)){const Xr=N===A&&re.id===M;Ae.setState(re,N,Xr)}let Lt=!1;re.version===Ke.__version?(Ke.needsLights&&Ke.lightsStateVersion!==di.state.version||Ke.outputColorSpace!==qe||Y.isBatchedMesh&&Ke.batching===!1||!Y.isBatchedMesh&&Ke.batching===!0||Y.isBatchedMesh&&Ke.batchingColor===!0&&Y.colorTexture===null||Y.isBatchedMesh&&Ke.batchingColor===!1&&Y.colorTexture!==null||Y.isInstancedMesh&&Ke.instancing===!1||!Y.isInstancedMesh&&Ke.instancing===!0||Y.isSkinnedMesh&&Ke.skinning===!1||!Y.isSkinnedMesh&&Ke.skinning===!0||Y.isInstancedMesh&&Ke.instancingColor===!0&&Y.instanceColor===null||Y.isInstancedMesh&&Ke.instancingColor===!1&&Y.instanceColor!==null||Y.isInstancedMesh&&Ke.instancingMorph===!0&&Y.morphTexture===null||Y.isInstancedMesh&&Ke.instancingMorph===!1&&Y.morphTexture!==null||Ke.envMap!==Ve||re.fog===!0&&Ke.fog!==Se||Ke.numClippingPlanes!==void 0&&(Ke.numClippingPlanes!==Ae.numPlanes||Ke.numIntersection!==Ae.numIntersection)||Ke.vertexAlphas!==nt||Ke.vertexTangents!==at||Ke.morphTargets!==Te||Ke.morphNormals!==Qe||Ke.morphColors!==Mt||Ke.toneMapping!==Dt||Ke.morphTargetsCount!==bt)&&(Lt=!0):(Lt=!0,Ke.__version=re.version);let hi=Ke.currentProgram;Lt===!0&&(hi=Fe(re,G,Y));let ul=!1,Mr=!1,Du=!1;const Kt=hi.getUniforms(),Hi=Ke.uniforms;if(Ee.useProgram(hi.program)&&(ul=!0,Mr=!0,Du=!0),re.id!==M&&(M=re.id,Mr=!0),ul||A!==N){Ee.buffers.depth.getReversed()?(ne.copy(N.projectionMatrix),E5(ne),M5(ne),Kt.setValue(k,"projectionMatrix",ne)):Kt.setValue(k,"projectionMatrix",N.projectionMatrix),Kt.setValue(k,"viewMatrix",N.matrixWorldInverse);const ea=Kt.map.cameraPosition;ea!==void 0&&ea.setValue(k,Q.setFromMatrixPosition(N.matrixWorld)),we.logarithmicDepthBuffer&&Kt.setValue(k,"logDepthBufFC",2/(Math.log(N.far+1)/Math.LN2)),(re.isMeshPhongMaterial||re.isMeshToonMaterial||re.isMeshLambertMaterial||re.isMeshBasicMaterial||re.isMeshStandardMaterial||re.isShaderMaterial)&&Kt.setValue(k,"isOrthographic",N.isOrthographicCamera===!0),A!==N&&(A=N,Mr=!0,Du=!0)}if(Y.isSkinnedMesh){Kt.setOptional(k,Y,"bindMatrix"),Kt.setOptional(k,Y,"bindMatrixInverse");const Xr=Y.skeleton;Xr&&(Xr.boneTexture===null&&Xr.computeBoneTexture(),Kt.setValue(k,"boneTexture",Xr.boneTexture,U))}Y.isBatchedMesh&&(Kt.setOptional(k,Y,"batchingTexture"),Kt.setValue(k,"batchingTexture",Y._matricesTexture,U),Kt.setOptional(k,Y,"batchingIdTexture"),Kt.setValue(k,"batchingIdTexture",Y._indirectTexture,U),Kt.setOptional(k,Y,"batchingColorTexture"),Y._colorsTexture!==null&&Kt.setValue(k,"batchingColorTexture",Y._colorsTexture,U));const Lu=te.morphAttributes;if((Lu.position!==void 0||Lu.normal!==void 0||Lu.color!==void 0)&&rt.update(Y,te,hi),(Mr||Ke.receiveShadow!==Y.receiveShadow)&&(Ke.receiveShadow=Y.receiveShadow,Kt.setValue(k,"receiveShadow",Y.receiveShadow)),re.isMeshGouraudMaterial&&re.envMap!==null&&(Hi.envMap.value=Ve,Hi.flipEnvMap.value=Ve.isCubeTexture&&Ve.isRenderTargetTexture===!1?-1:1),re.isMeshStandardMaterial&&re.envMap===null&&G.environment!==null&&(Hi.envMapIntensity.value=G.environmentIntensity),Mr&&(Kt.setValue(k,"toneMappingExposure",b.toneMappingExposure),Ke.needsLights&&En(Hi,Du),Se&&re.fog===!0&&Ce.refreshFogUniforms(Hi,Se),Ce.refreshMaterialUniforms(Hi,re,D,B,p.state.transmissionRenderTarget[N.id]),lm.upload(k,Je(Ke),Hi,U)),re.isShaderMaterial&&re.uniformsNeedUpdate===!0&&(lm.upload(k,Je(Ke),Hi,U),re.uniformsNeedUpdate=!1),re.isSpriteMaterial&&Kt.setValue(k,"center",Y.center),Kt.setValue(k,"modelViewMatrix",Y.modelViewMatrix),Kt.setValue(k,"normalMatrix",Y.normalMatrix),Kt.setValue(k,"modelMatrix",Y.matrixWorld),re.isShaderMaterial||re.isRawShaderMaterial){const Xr=re.uniformsGroups;for(let ea=0,ta=Xr.length;ea<ta;ea++){const HE=Xr[ea];q.update(HE,hi),q.bind(HE,hi)}}return hi}function En(N,G){N.ambientLightColor.needsUpdate=G,N.lightProbe.needsUpdate=G,N.directionalLights.needsUpdate=G,N.directionalLightShadows.needsUpdate=G,N.pointLights.needsUpdate=G,N.pointLightShadows.needsUpdate=G,N.spotLights.needsUpdate=G,N.spotLightShadows.needsUpdate=G,N.rectAreaLights.needsUpdate=G,N.hemisphereLights.needsUpdate=G}function Ft(N){return N.isMeshLambertMaterial||N.isMeshToonMaterial||N.isMeshPhongMaterial||N.isMeshStandardMaterial||N.isShadowMaterial||N.isShaderMaterial&&N.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(N,G,te){Le.get(N.texture).__webglTexture=G,Le.get(N.depthTexture).__webglTexture=te;const re=Le.get(N);re.__hasExternalTextures=!0,re.__autoAllocateDepthBuffer=te===void 0,re.__autoAllocateDepthBuffer||fe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),re.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(N,G){const te=Le.get(N);te.__webglFramebuffer=G,te.__useDefaultFramebuffer=G===void 0},this.setRenderTarget=function(N,G=0,te=0){T=N,_=G,w=te;let re=!0,Y=null,Se=!1,De=!1;if(N){const Ve=Le.get(N);if(Ve.__useDefaultFramebuffer!==void 0)Ee.bindFramebuffer(k.FRAMEBUFFER,null),re=!1;else if(Ve.__webglFramebuffer===void 0)U.setupRenderTarget(N);else if(Ve.__hasExternalTextures)U.rebindTextures(N,Le.get(N.texture).__webglTexture,Le.get(N.depthTexture).__webglTexture);else if(N.depthBuffer){const Te=N.depthTexture;if(Ve.__boundDepthTexture!==Te){if(Te!==null&&Le.has(Te)&&(N.width!==Te.image.width||N.height!==Te.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");U.setupDepthRenderbuffer(N)}}const nt=N.texture;(nt.isData3DTexture||nt.isDataArrayTexture||nt.isCompressedArrayTexture)&&(De=!0);const at=Le.get(N).__webglFramebuffer;N.isWebGLCubeRenderTarget?(Array.isArray(at[G])?Y=at[G][te]:Y=at[G],Se=!0):N.samples>0&&U.useMultisampledRTT(N)===!1?Y=Le.get(N).__webglMultisampledFramebuffer:Array.isArray(at)?Y=at[te]:Y=at,P.copy(N.viewport),O.copy(N.scissor),L=N.scissorTest}else P.copy(J).multiplyScalar(D).floor(),O.copy(ie).multiplyScalar(D).floor(),L=xe;if(Ee.bindFramebuffer(k.FRAMEBUFFER,Y)&&re&&Ee.drawBuffers(N,Y),Ee.viewport(P),Ee.scissor(O),Ee.setScissorTest(L),Se){const Ve=Le.get(N.texture);k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_CUBE_MAP_POSITIVE_X+G,Ve.__webglTexture,te)}else if(De){const Ve=Le.get(N.texture),nt=G||0;k.framebufferTextureLayer(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,Ve.__webglTexture,te||0,nt)}M=-1},this.readRenderTargetPixels=function(N,G,te,re,Y,Se,De){if(!(N&&N.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let qe=Le.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&De!==void 0&&(qe=qe[De]),qe){Ee.bindFramebuffer(k.FRAMEBUFFER,qe);try{const Ve=N.texture,nt=Ve.format,at=Ve.type;if(!we.textureFormatReadable(nt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!we.textureTypeReadable(at)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}G>=0&&G<=N.width-re&&te>=0&&te<=N.height-Y&&k.readPixels(G,te,re,Y,ut.convert(nt),ut.convert(at),Se)}finally{const Ve=T!==null?Le.get(T).__webglFramebuffer:null;Ee.bindFramebuffer(k.FRAMEBUFFER,Ve)}}},this.readRenderTargetPixelsAsync=async function(N,G,te,re,Y,Se,De){if(!(N&&N.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let qe=Le.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&De!==void 0&&(qe=qe[De]),qe){const Ve=N.texture,nt=Ve.format,at=Ve.type;if(!we.textureFormatReadable(nt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!we.textureTypeReadable(at))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(G>=0&&G<=N.width-re&&te>=0&&te<=N.height-Y){Ee.bindFramebuffer(k.FRAMEBUFFER,qe);const Te=k.createBuffer();k.bindBuffer(k.PIXEL_PACK_BUFFER,Te),k.bufferData(k.PIXEL_PACK_BUFFER,Se.byteLength,k.STREAM_READ),k.readPixels(G,te,re,Y,ut.convert(nt),ut.convert(at),0);const Qe=T!==null?Le.get(T).__webglFramebuffer:null;Ee.bindFramebuffer(k.FRAMEBUFFER,Qe);const Mt=k.fenceSync(k.SYNC_GPU_COMMANDS_COMPLETE,0);return k.flush(),await w5(k,Mt,4),k.bindBuffer(k.PIXEL_PACK_BUFFER,Te),k.getBufferSubData(k.PIXEL_PACK_BUFFER,0,Se),k.deleteBuffer(Te),k.deleteSync(Mt),Se}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(N,G=null,te=0){N.isTexture!==!0&&(gf("WebGLRenderer: copyFramebufferToTexture function signature has changed."),G=arguments[0]||null,N=arguments[1]);const re=Math.pow(2,-te),Y=Math.floor(N.image.width*re),Se=Math.floor(N.image.height*re),De=G!==null?G.x:0,qe=G!==null?G.y:0;U.setTexture2D(N,0),k.copyTexSubImage2D(k.TEXTURE_2D,te,0,0,De,qe,Y,Se),Ee.unbindTexture()},this.copyTextureToTexture=function(N,G,te=null,re=null,Y=0){N.isTexture!==!0&&(gf("WebGLRenderer: copyTextureToTexture function signature has changed."),re=arguments[0]||null,N=arguments[1],G=arguments[2],Y=arguments[3]||0,te=null);let Se,De,qe,Ve,nt,at,Te,Qe,Mt;const Dt=N.isCompressedTexture?N.mipmaps[Y]:N.image;te!==null?(Se=te.max.x-te.min.x,De=te.max.y-te.min.y,qe=te.isBox3?te.max.z-te.min.z:1,Ve=te.min.x,nt=te.min.y,at=te.isBox3?te.min.z:0):(Se=Dt.width,De=Dt.height,qe=Dt.depth||1,Ve=0,nt=0,at=0),re!==null?(Te=re.x,Qe=re.y,Mt=re.z):(Te=0,Qe=0,Mt=0);const Et=ut.convert(G.format),bt=ut.convert(G.type);let Ke;G.isData3DTexture?(U.setTexture3D(G,0),Ke=k.TEXTURE_3D):G.isDataArrayTexture||G.isCompressedArrayTexture?(U.setTexture2DArray(G,0),Ke=k.TEXTURE_2D_ARRAY):(U.setTexture2D(G,0),Ke=k.TEXTURE_2D),k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,G.flipY),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),k.pixelStorei(k.UNPACK_ALIGNMENT,G.unpackAlignment);const di=k.getParameter(k.UNPACK_ROW_LENGTH),Lt=k.getParameter(k.UNPACK_IMAGE_HEIGHT),hi=k.getParameter(k.UNPACK_SKIP_PIXELS),ul=k.getParameter(k.UNPACK_SKIP_ROWS),Mr=k.getParameter(k.UNPACK_SKIP_IMAGES);k.pixelStorei(k.UNPACK_ROW_LENGTH,Dt.width),k.pixelStorei(k.UNPACK_IMAGE_HEIGHT,Dt.height),k.pixelStorei(k.UNPACK_SKIP_PIXELS,Ve),k.pixelStorei(k.UNPACK_SKIP_ROWS,nt),k.pixelStorei(k.UNPACK_SKIP_IMAGES,at);const Du=N.isDataArrayTexture||N.isData3DTexture,Kt=G.isDataArrayTexture||G.isData3DTexture;if(N.isRenderTargetTexture||N.isDepthTexture){const Hi=Le.get(N),Lu=Le.get(G),Xr=Le.get(Hi.__renderTarget),ea=Le.get(Lu.__renderTarget);Ee.bindFramebuffer(k.READ_FRAMEBUFFER,Xr.__webglFramebuffer),Ee.bindFramebuffer(k.DRAW_FRAMEBUFFER,ea.__webglFramebuffer);for(let ta=0;ta<qe;ta++)Du&&k.framebufferTextureLayer(k.READ_FRAMEBUFFER,k.COLOR_ATTACHMENT0,Le.get(N).__webglTexture,Y,at+ta),N.isDepthTexture?(Kt&&k.framebufferTextureLayer(k.DRAW_FRAMEBUFFER,k.COLOR_ATTACHMENT0,Le.get(G).__webglTexture,Y,Mt+ta),k.blitFramebuffer(Ve,nt,Se,De,Te,Qe,Se,De,k.DEPTH_BUFFER_BIT,k.NEAREST)):Kt?k.copyTexSubImage3D(Ke,Y,Te,Qe,Mt+ta,Ve,nt,Se,De):k.copyTexSubImage2D(Ke,Y,Te,Qe,Mt+ta,Ve,nt,Se,De);Ee.bindFramebuffer(k.READ_FRAMEBUFFER,null),Ee.bindFramebuffer(k.DRAW_FRAMEBUFFER,null)}else Kt?N.isDataTexture||N.isData3DTexture?k.texSubImage3D(Ke,Y,Te,Qe,Mt,Se,De,qe,Et,bt,Dt.data):G.isCompressedArrayTexture?k.compressedTexSubImage3D(Ke,Y,Te,Qe,Mt,Se,De,qe,Et,Dt.data):k.texSubImage3D(Ke,Y,Te,Qe,Mt,Se,De,qe,Et,bt,Dt):N.isDataTexture?k.texSubImage2D(k.TEXTURE_2D,Y,Te,Qe,Se,De,Et,bt,Dt.data):N.isCompressedTexture?k.compressedTexSubImage2D(k.TEXTURE_2D,Y,Te,Qe,Dt.width,Dt.height,Et,Dt.data):k.texSubImage2D(k.TEXTURE_2D,Y,Te,Qe,Se,De,Et,bt,Dt);k.pixelStorei(k.UNPACK_ROW_LENGTH,di),k.pixelStorei(k.UNPACK_IMAGE_HEIGHT,Lt),k.pixelStorei(k.UNPACK_SKIP_PIXELS,hi),k.pixelStorei(k.UNPACK_SKIP_ROWS,ul),k.pixelStorei(k.UNPACK_SKIP_IMAGES,Mr),Y===0&&G.generateMipmaps&&k.generateMipmap(Ke),Ee.unbindTexture()},this.copyTextureToTexture3D=function(N,G,te=null,re=null,Y=0){return N.isTexture!==!0&&(gf("WebGLRenderer: copyTextureToTexture3D function signature has changed."),te=arguments[0]||null,re=arguments[1]||null,N=arguments[2],G=arguments[3],Y=arguments[4]||0),gf('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(N,G,te,re,Y)},this.initRenderTarget=function(N){Le.get(N).__webglFramebuffer===void 0&&U.setupRenderTarget(N)},this.initTexture=function(N){N.isCubeTexture?U.setTextureCube(N,0):N.isData3DTexture?U.setTexture3D(N,0):N.isDataArrayTexture||N.isCompressedArrayTexture?U.setTexture2DArray(N,0):U.setTexture2D(N,0),Ee.unbindTexture()},this.resetState=function(){_=0,w=0,T=null,Ee.reset(),Rt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return To}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=At._getDrawingBufferColorSpace(e),n.unpackColorSpace=At._getUnpackColorSpace()}}class d1{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Tt(e),this.density=n}clone(){return new d1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class k8 extends Wn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new zo,this.environmentIntensity=1,this.environmentRotation=new zo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class _g extends du{static get type(){return"LineBasicMaterial"}constructor(e){super(),this.isLineBasicMaterial=!0,this.color=new Tt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Hm=new X,Vm=new X,bT=new nn,Ku=new ch,dp=new lh,O0=new X,_T=new X;let h1=class extends Wn{constructor(e=new $n,n=new _g){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)Hm.fromBufferAttribute(n,i-1),Vm.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Hm.distanceTo(Vm);e.setAttribute("lineDistance",new Bn(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),dp.copy(r.boundingSphere),dp.applyMatrix4(i),dp.radius+=o,e.ray.intersectsSphere(dp)===!1)return;bT.copy(i).invert(),Ku.copy(e.ray).applyMatrix4(bT);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=this.isLineSegments?2:1,f=r.index,d=r.attributes.position;if(f!==null){const h=Math.max(0,a.start),m=Math.min(f.count,a.start+a.count);for(let v=h,g=m-1;v<g;v+=c){const p=f.getX(v),x=f.getX(v+1),y=hp(this,e,Ku,l,p,x);y&&n.push(y)}if(this.isLineLoop){const v=f.getX(m-1),g=f.getX(h),p=hp(this,e,Ku,l,v,g);p&&n.push(p)}}else{const h=Math.max(0,a.start),m=Math.min(d.count,a.start+a.count);for(let v=h,g=m-1;v<g;v+=c){const p=hp(this,e,Ku,l,v,v+1);p&&n.push(p)}if(this.isLineLoop){const v=hp(this,e,Ku,l,m-1,h);v&&n.push(v)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}};function hp(t,e,n,r,i,o){const a=t.geometry.attributes.position;if(Hm.fromBufferAttribute(a,i),Vm.fromBufferAttribute(a,o),n.distanceSqToSegment(Hm,Vm,O0,_T)>r)return;O0.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(O0);if(!(l<e.near||l>e.far))return{distance:l,point:_T.clone().applyMatrix4(t.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:t}}const ST=new X,wT=new X;class U8 extends h1{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)ST.fromBufferAttribute(n,i),wT.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+ST.distanceTo(wT);e.setAttribute("lineDistance",new Bn(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Sg extends du{static get type(){return"PointsMaterial"}constructor(e){super(),this.isPointsMaterial=!0,this.color=new Tt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const ET=new nn,r_=new ch,pp=new lh,mp=new X;class p1 extends Wn{constructor(e=new $n,n=new Sg){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),pp.copy(r.boundingSphere),pp.applyMatrix4(i),pp.radius+=o,e.ray.intersectsSphere(pp)===!1)return;ET.copy(i).invert(),r_.copy(e.ray).applyMatrix4(ET);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=r.index,u=r.attributes.position;if(c!==null){const d=Math.max(0,a.start),h=Math.min(c.count,a.start+a.count);for(let m=d,v=h;m<v;m++){const g=c.getX(m);mp.fromBufferAttribute(u,g),MT(mp,g,l,i,e,n,this)}}else{const d=Math.max(0,a.start),h=Math.min(u.count,a.start+a.count);for(let m=d,v=h;m<v;m++)mp.fromBufferAttribute(u,m),MT(mp,m,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function MT(t,e,n,r,i,o,a){const s=r_.distanceSqToPoint(t);if(s<n){const l=new X;r_.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}let so=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,l=o-1,c;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),c=r[i]-a,c<0)s=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const f=r[i],d=r[i+1]-f,h=(a-f)/d;return(i+h)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=n||(a.isVector2?new Oe:new X);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new X,i=[],o=[],a=[],s=new X,l=new nn;for(let h=0;h<=e;h++){const m=h/e;i[h]=this.getTangentAt(m,new X)}o[0]=new X,a[0]=new X;let c=Number.MAX_VALUE;const f=Math.abs(i[0].x),u=Math.abs(i[0].y),d=Math.abs(i[0].z);f<=c&&(c=f,r.set(1,0,0)),u<=c&&(c=u,r.set(0,1,0)),d<=c&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let h=1;h<=e;h++){if(o[h]=o[h-1].clone(),a[h]=a[h-1].clone(),s.crossVectors(i[h-1],i[h]),s.length()>Number.EPSILON){s.normalize();const m=Math.acos(Un(i[h-1].dot(i[h]),-1,1));o[h].applyMatrix4(l.makeRotationAxis(s,m))}a[h].crossVectors(i[h],o[h])}if(n===!0){let h=Math.acos(Un(o[0].dot(o[e]),-1,1));h/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(h=-h);for(let m=1;m<=e;m++)o[m].applyMatrix4(l.makeRotationAxis(i[m],h*m)),a[m].crossVectors(i[m],o[m])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class m1 extends so{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n=new Oe){const r=n,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const f=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=l-this.aX,h=c-this.aY;l=d*f-h*u+this.aX,c=d*u+h*f+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class F8 extends m1{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function v1(){let t=0,e=0,n=0,r=0;function i(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,c){i(a,s,c*(s-o),c*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,c,f,u){let d=(a-o)/c-(s-o)/(c+f)+(s-a)/f,h=(s-a)/f-(l-a)/(f+u)+(l-s)/u;d*=f,h*=f,i(a,s,d,h)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const vp=new X,R0=new v1,N0=new v1,D0=new v1;class j8 extends so{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new X){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let c,f;this.closed||s>0?c=i[(s-1)%o]:(vp.subVectors(i[0],i[1]).add(i[0]),c=vp);const u=i[s%o],d=i[(s+1)%o];if(this.closed||s+2<o?f=i[(s+2)%o]:(vp.subVectors(i[o-1],i[o-2]).add(i[o-1]),f=vp),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(u),h),v=Math.pow(u.distanceToSquared(d),h),g=Math.pow(d.distanceToSquared(f),h);v<1e-4&&(v=1),m<1e-4&&(m=v),g<1e-4&&(g=v),R0.initNonuniformCatmullRom(c.x,u.x,d.x,f.x,m,v,g),N0.initNonuniformCatmullRom(c.y,u.y,d.y,f.y,m,v,g),D0.initNonuniformCatmullRom(c.z,u.z,d.z,f.z,m,v,g)}else this.curveType==="catmullrom"&&(R0.initCatmullRom(c.x,u.x,d.x,f.x,this.tension),N0.initCatmullRom(c.y,u.y,d.y,f.y,this.tension),D0.initCatmullRom(c.z,u.z,d.z,f.z,this.tension));return r.set(R0.calc(l),N0.calc(l),D0.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new X().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function AT(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function B8(t,e){const n=1-t;return n*n*e}function $8(t,e){return 2*(1-t)*t*e}function z8(t,e){return t*t*e}function Rf(t,e,n,r){return B8(t,e)+$8(t,n)+z8(t,r)}function H8(t,e){const n=1-t;return n*n*n*e}function V8(t,e){const n=1-t;return 3*n*n*t*e}function G8(t,e){return 3*(1-t)*t*t*e}function W8(t,e){return t*t*t*e}function Nf(t,e,n,r,i){return H8(t,e)+V8(t,n)+G8(t,r)+W8(t,i)}class yL extends so{constructor(e=new Oe,n=new Oe,r=new Oe,i=new Oe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Oe){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Nf(e,i.x,o.x,a.x,s.x),Nf(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class X8 extends so{constructor(e=new X,n=new X,r=new X,i=new X){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new X){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Nf(e,i.x,o.x,a.x,s.x),Nf(e,i.y,o.y,a.y,s.y),Nf(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class xL extends so{constructor(e=new Oe,n=new Oe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Oe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Oe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class q8 extends so{constructor(e=new X,n=new X){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new X){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new X){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bL extends so{constructor(e=new Oe,n=new Oe,r=new Oe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Oe){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Rf(e,i.x,o.x,a.x),Rf(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Y8 extends so{constructor(e=new X,n=new X,r=new X){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new X){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Rf(e,i.x,o.x,a.x),Rf(e,i.y,o.y,a.y),Rf(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _L extends so{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Oe){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],c=i[a],f=i[a>i.length-2?i.length-1:a+1],u=i[a>i.length-3?i.length-1:a+2];return r.set(AT(s,l.x,c.x,f.x,u.x),AT(s,l.y,c.y,f.y,u.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Oe().fromArray(i))}return this}}var i_=Object.freeze({__proto__:null,ArcCurve:F8,CatmullRomCurve3:j8,CubicBezierCurve:yL,CubicBezierCurve3:X8,EllipseCurve:m1,LineCurve:xL,LineCurve3:q8,QuadraticBezierCurve:bL,QuadraticBezierCurve3:Y8,SplineCurve:_L});class K8 extends so{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new i_[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),c=l===0?0:1-a/l;return s.getPointAt(c,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let c=0;c<l.length;c++){const f=l[c];r&&r.equals(f)||(n.push(f),r=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new i_[i.type]().fromJSON(i))}return this}}let TT=class extends K8{constructor(e){super(),this.type="Path",this.currentPoint=new Oe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new xL(this.currentPoint.clone(),new Oe(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new bL(this.currentPoint.clone(),new Oe(e,n),new Oe(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new yL(this.currentPoint.clone(),new Oe(e,n),new Oe(r,i),new Oe(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new _L(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,l){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+c,n+f,r,i,o,a,s,l),this}absellipse(e,n,r,i,o,a,s,l){const c=new m1(e,n,r,i,o,a,s,l);if(this.curves.length>0){const u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);const f=c.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};const gp=new X,yp=new X,L0=new X,xp=new ni;class Z8 extends $n{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(hc*n),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,c=[0,0,0],f=["a","b","c"],u=new Array(3),d={},h=[];for(let m=0;m<l;m+=3){a?(c[0]=a.getX(m),c[1]=a.getX(m+1),c[2]=a.getX(m+2)):(c[0]=m,c[1]=m+1,c[2]=m+2);const{a:v,b:g,c:p}=xp;if(v.fromBufferAttribute(s,c[0]),g.fromBufferAttribute(s,c[1]),p.fromBufferAttribute(s,c[2]),xp.getNormal(L0),u[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,u[1]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,u[2]=`${Math.round(p.x*i)},${Math.round(p.y*i)},${Math.round(p.z*i)}`,!(u[0]===u[1]||u[1]===u[2]||u[2]===u[0]))for(let x=0;x<3;x++){const y=(x+1)%3,b=u[x],S=u[y],_=xp[f[x]],w=xp[f[y]],T=`${b}_${S}`,M=`${S}_${b}`;M in d&&d[M]?(L0.dot(d[M].normal)<=o&&(h.push(_.x,_.y,_.z),h.push(w.x,w.y,w.z)),d[M]=null):T in d||(d[T]={index0:c[x],index1:c[y],normal:L0.clone()})}}for(const m in d)if(d[m]){const{index0:v,index1:g}=d[m];gp.fromBufferAttribute(s,v),yp.fromBufferAttribute(s,g),h.push(gp.x,gp.y,gp.z),h.push(yp.x,yp.y,yp.z)}this.setAttribute("position",new Bn(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let SL=class extends TT{constructor(e){super(e),this.uuid=il(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new TT().fromJSON(i))}return this}};const J8={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=wL(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,f,u,d,h;if(r&&(o=r6(t,e,o,n)),t.length>80*n){s=c=t[0],l=f=t[1];for(let m=n;m<i;m+=n)u=t[m],d=t[m+1],u<s&&(s=u),d<l&&(l=d),u>c&&(c=u),d>f&&(f=d);h=Math.max(c-s,f-l),h=h!==0?32767/h:0}return ld(o,a,n,s,l,h,0),a}};function wL(t,e,n,r,i){let o,a;if(i===p6(t,e,n,r)>0)for(o=e;o<n;o+=r)a=PT(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=PT(o,t[o],t[o+1],a);return a&&wg(a,a.next)&&(ud(a),a=a.next),a}function Vs(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(wg(n,n.next)||cn(n.prev,n,n.next)===0)){if(ud(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function ld(t,e,n,r,i,o,a){if(!t)return;!a&&o&&l6(t,r,i,o);let s=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,o?e6(t,r,i,o):Q8(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),ud(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=t6(Vs(t),e,n),ld(t,e,n,r,i,o,2)):a===2&&n6(t,e,n,r,i,o):ld(Vs(t),e,n,r,i,o,1);break}}}function Q8(t){const e=t.prev,n=t,r=t.next;if(cn(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,c=r.y,f=i<o?i<a?i:a:o<a?o:a,u=s<l?s<c?s:c:l<c?l:c,d=i>o?i>a?i:a:o>a?o:a,h=s>l?s>c?s:c:l>c?l:c;let m=r.next;for(;m!==e;){if(m.x>=f&&m.x<=d&&m.y>=u&&m.y<=h&&Zl(i,s,o,l,a,c,m.x,m.y)&&cn(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function e6(t,e,n,r){const i=t.prev,o=t,a=t.next;if(cn(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,f=i.y,u=o.y,d=a.y,h=s<l?s<c?s:c:l<c?l:c,m=f<u?f<d?f:d:u<d?u:d,v=s>l?s>c?s:c:l>c?l:c,g=f>u?f>d?f:d:u>d?u:d,p=o_(h,m,e,n,r),x=o_(v,g,e,n,r);let y=t.prevZ,b=t.nextZ;for(;y&&y.z>=p&&b&&b.z<=x;){if(y.x>=h&&y.x<=v&&y.y>=m&&y.y<=g&&y!==i&&y!==a&&Zl(s,f,l,u,c,d,y.x,y.y)&&cn(y.prev,y,y.next)>=0||(y=y.prevZ,b.x>=h&&b.x<=v&&b.y>=m&&b.y<=g&&b!==i&&b!==a&&Zl(s,f,l,u,c,d,b.x,b.y)&&cn(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;y&&y.z>=p;){if(y.x>=h&&y.x<=v&&y.y>=m&&y.y<=g&&y!==i&&y!==a&&Zl(s,f,l,u,c,d,y.x,y.y)&&cn(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=x;){if(b.x>=h&&b.x<=v&&b.y>=m&&b.y<=g&&b!==i&&b!==a&&Zl(s,f,l,u,c,d,b.x,b.y)&&cn(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function t6(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!wg(i,o)&&EL(i,r,r.next,o)&&cd(i,o)&&cd(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),ud(r),ud(r.next),r=t=o),r=r.next}while(r!==t);return Vs(r)}function n6(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&f6(a,s)){let l=ML(a,s);a=Vs(a,a.next),l=Vs(l,l.next),ld(a,e,n,r,i,o,0),ld(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function r6(t,e,n,r){const i=[];let o,a,s,l,c;for(o=0,a=e.length;o<a;o++)s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,c=wL(t,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(u6(c));for(i.sort(i6),o=0;o<i.length;o++)n=o6(i[o],n);return n}function i6(t,e){return t.x-e.x}function o6(t,e){const n=a6(t,e);if(!n)return e;const r=ML(n,t);return Vs(r,r.next),Vs(n,n.next)}function a6(t,e){let n=e,r=-1/0,i;const o=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const d=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=o&&d>r&&(r=d,i=n.x<n.next.x?n:n.next,d===o))return i}n=n.next}while(n!==e);if(!i)return null;const s=i,l=i.x,c=i.y;let f=1/0,u;n=i;do o>=n.x&&n.x>=l&&o!==n.x&&Zl(a<c?o:r,a,l,c,a<c?r:o,a,n.x,n.y)&&(u=Math.abs(a-n.y)/(o-n.x),cd(n,t)&&(u<f||u===f&&(n.x>i.x||n.x===i.x&&s6(i,n)))&&(i=n,f=u)),n=n.next;while(n!==s);return i}function s6(t,e){return cn(t.prev,t,e.prev)<0&&cn(e.next,t,t.next)<0}function l6(t,e,n,r){let i=t;do i.z===0&&(i.z=o_(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,c6(i)}function c6(t){let e,n,r,i,o,a,s,l,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ,!!r);e++);for(l=c;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1);return t}function o_(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function u6(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Zl(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function f6(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!d6(t,e)&&(cd(t,e)&&cd(e,t)&&h6(t,e)&&(cn(t.prev,t,e.prev)||cn(t,e.prev,e))||wg(t,e)&&cn(t.prev,t,t.next)>0&&cn(e.prev,e,e.next)>0)}function cn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function wg(t,e){return t.x===e.x&&t.y===e.y}function EL(t,e,n,r){const i=_p(cn(t,e,n)),o=_p(cn(t,e,r)),a=_p(cn(n,r,t)),s=_p(cn(n,r,e));return!!(i!==o&&a!==s||i===0&&bp(t,n,e)||o===0&&bp(t,r,e)||a===0&&bp(n,t,r)||s===0&&bp(n,e,r))}function bp(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function _p(t){return t>0?1:t<0?-1:0}function d6(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&EL(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function cd(t,e){return cn(t.prev,t,t.next)<0?cn(t,e,t.next)>=0&&cn(t,t.prev,e)>=0:cn(t,e,t.prev)<0||cn(t,t.next,e)<0}function h6(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function ML(t,e){const n=new a_(t.i,t.x,t.y),r=new a_(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function PT(t,e,n,r){const i=new a_(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ud(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function a_(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function p6(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class Df{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Df.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];CT(e),OT(r,e);let a=e.length;n.forEach(CT);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,OT(r,n[l]);const s=J8.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function CT(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function OT(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class g1 extends $n{constructor(e=new SL([new Oe(.5,.5),new Oe(-.5,.5),new Oe(-.5,-.5),new Oe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const c=e[s];a(c)}this.setAttribute("position",new Bn(i,3)),this.setAttribute("uv",new Bn(o,2)),this.computeVertexNormals();function a(s){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,u=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:h-.1,v=n.bevelOffset!==void 0?n.bevelOffset:0,g=n.bevelSegments!==void 0?n.bevelSegments:3;const p=n.extrudePath,x=n.UVGenerator!==void 0?n.UVGenerator:m6;let y,b=!1,S,_,w,T;p&&(y=p.getSpacedPoints(f),b=!0,d=!1,S=p.computeFrenetFrames(f,!1),_=new X,w=new X,T=new X),d||(g=0,h=0,m=0,v=0);const M=s.extractPoints(c);let A=M.shape;const P=M.holes;if(!Df.isClockWise(A)){A=A.reverse();for(let $=0,se=P.length;$<se;$++){const k=P[$];Df.isClockWise(k)&&(P[$]=k.reverse())}}const L=Df.triangulateShape(A,P),I=A;for(let $=0,se=P.length;$<se;$++){const k=P[$];A=A.concat(k)}function j($,se,k){return se||console.error("THREE.ExtrudeGeometry: vec does not exist"),$.clone().addScaledVector(se,k)}const F=A.length,B=L.length;function D($,se,k){let ve,fe,we;const Ee=$.x-se.x,Ye=$.y-se.y,Le=k.x-$.x,U=k.y-$.y,R=Ee*Ee+Ye*Ye,ee=Ee*U-Ye*Le;if(Math.abs(ee)>Number.EPSILON){const de=Math.sqrt(R),ye=Math.sqrt(Le*Le+U*U),pe=se.x-Ye/de,$e=se.y+Ee/de,Ce=k.x-U/ye,je=k.y+Le/ye,dt=((Ce-pe)*U-(je-$e)*Le)/(Ee*U-Ye*Le);ve=pe+Ee*dt-$.x,fe=$e+Ye*dt-$.y;const Ae=ve*ve+fe*fe;if(Ae<=2)return new Oe(ve,fe);we=Math.sqrt(Ae/2)}else{let de=!1;Ee>Number.EPSILON?Le>Number.EPSILON&&(de=!0):Ee<-Number.EPSILON?Le<-Number.EPSILON&&(de=!0):Math.sign(Ye)===Math.sign(U)&&(de=!0),de?(ve=-Ye,fe=Ee,we=Math.sqrt(R)):(ve=Ee,fe=Ye,we=Math.sqrt(R/2))}return new Oe(ve/we,fe/we)}const z=[];for(let $=0,se=I.length,k=se-1,ve=$+1;$<se;$++,k++,ve++)k===se&&(k=0),ve===se&&(ve=0),z[$]=D(I[$],I[k],I[ve]);const W=[];let J,ie=z.concat();for(let $=0,se=P.length;$<se;$++){const k=P[$];J=[];for(let ve=0,fe=k.length,we=fe-1,Ee=ve+1;ve<fe;ve++,we++,Ee++)we===fe&&(we=0),Ee===fe&&(Ee=0),J[ve]=D(k[ve],k[we],k[Ee]);W.push(J),ie=ie.concat(J)}for(let $=0;$<g;$++){const se=$/g,k=h*Math.cos(se*Math.PI/2),ve=m*Math.sin(se*Math.PI/2)+v;for(let fe=0,we=I.length;fe<we;fe++){const Ee=j(I[fe],z[fe],ve);ne(Ee.x,Ee.y,-k)}for(let fe=0,we=P.length;fe<we;fe++){const Ee=P[fe];J=W[fe];for(let Ye=0,Le=Ee.length;Ye<Le;Ye++){const U=j(Ee[Ye],J[Ye],ve);ne(U.x,U.y,-k)}}}const xe=m+v;for(let $=0;$<F;$++){const se=d?j(A[$],ie[$],xe):A[$];b?(w.copy(S.normals[0]).multiplyScalar(se.x),_.copy(S.binormals[0]).multiplyScalar(se.y),T.copy(y[0]).add(w).add(_),ne(T.x,T.y,T.z)):ne(se.x,se.y,0)}for(let $=1;$<=f;$++)for(let se=0;se<F;se++){const k=d?j(A[se],ie[se],xe):A[se];b?(w.copy(S.normals[$]).multiplyScalar(k.x),_.copy(S.binormals[$]).multiplyScalar(k.y),T.copy(y[$]).add(w).add(_),ne(T.x,T.y,T.z)):ne(k.x,k.y,u/f*$)}for(let $=g-1;$>=0;$--){const se=$/g,k=h*Math.cos(se*Math.PI/2),ve=m*Math.sin(se*Math.PI/2)+v;for(let fe=0,we=I.length;fe<we;fe++){const Ee=j(I[fe],z[fe],ve);ne(Ee.x,Ee.y,u+k)}for(let fe=0,we=P.length;fe<we;fe++){const Ee=P[fe];J=W[fe];for(let Ye=0,Le=Ee.length;Ye<Le;Ye++){const U=j(Ee[Ye],J[Ye],ve);b?ne(U.x,U.y+y[f-1].y,y[f-1].x+k):ne(U.x,U.y,u+k)}}}Z(),ue();function Z(){const $=i.length/3;if(d){let se=0,k=F*se;for(let ve=0;ve<B;ve++){const fe=L[ve];_e(fe[2]+k,fe[1]+k,fe[0]+k)}se=f+g*2,k=F*se;for(let ve=0;ve<B;ve++){const fe=L[ve];_e(fe[0]+k,fe[1]+k,fe[2]+k)}}else{for(let se=0;se<B;se++){const k=L[se];_e(k[2],k[1],k[0])}for(let se=0;se<B;se++){const k=L[se];_e(k[0]+F*f,k[1]+F*f,k[2]+F*f)}}r.addGroup($,i.length/3-$,0)}function ue(){const $=i.length/3;let se=0;be(I,se),se+=I.length;for(let k=0,ve=P.length;k<ve;k++){const fe=P[k];be(fe,se),se+=fe.length}r.addGroup($,i.length/3-$,1)}function be($,se){let k=$.length;for(;--k>=0;){const ve=k;let fe=k-1;fe<0&&(fe=$.length-1);for(let we=0,Ee=f+g*2;we<Ee;we++){const Ye=F*we,Le=F*(we+1),U=se+ve+Ye,R=se+fe+Ye,ee=se+fe+Le,de=se+ve+Le;Q(U,R,ee,de)}}}function ne($,se,k){l.push($),l.push(se),l.push(k)}function _e($,se,k){ae($),ae(se),ae(k);const ve=i.length/3,fe=x.generateTopUV(r,i,ve-3,ve-2,ve-1);le(fe[0]),le(fe[1]),le(fe[2])}function Q($,se,k,ve){ae($),ae(se),ae(ve),ae(se),ae(k),ae(ve);const fe=i.length/3,we=x.generateSideWallUV(r,i,fe-6,fe-3,fe-2,fe-1);le(we[0]),le(we[1]),le(we[3]),le(we[1]),le(we[2]),le(we[3])}function ae($){i.push(l[$*3+0]),i.push(l[$*3+1]),i.push(l[$*3+2])}function le($){o.push($.x),o.push($.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return v6(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new i_[i.type]().fromJSON(i)),new g1(r,e.options)}}const m6={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],l=e[r*3+1],c=e[i*3],f=e[i*3+1];return[new Oe(o,a),new Oe(s,l),new Oe(c,f)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],c=e[r*3],f=e[r*3+1],u=e[r*3+2],d=e[i*3],h=e[i*3+1],m=e[i*3+2],v=e[o*3],g=e[o*3+1],p=e[o*3+2];return Math.abs(s-f)<Math.abs(a-c)?[new Oe(a,1-l),new Oe(c,1-u),new Oe(d,1-m),new Oe(v,1-p)]:[new Oe(s,1-l),new Oe(f,1-u),new Oe(h,1-m),new Oe(g,1-p)]}};function v6(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class y1 extends $n{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let c=0;const f=[],u=new X,d=new X,h=[],m=[],v=[],g=[];for(let p=0;p<=r;p++){const x=[],y=p/r;let b=0;p===0&&a===0?b=.5/n:p===r&&l===Math.PI&&(b=-.5/n);for(let S=0;S<=n;S++){const _=S/n;u.x=-e*Math.cos(i+_*o)*Math.sin(a+y*s),u.y=e*Math.cos(a+y*s),u.z=e*Math.sin(i+_*o)*Math.sin(a+y*s),m.push(u.x,u.y,u.z),d.copy(u).normalize(),v.push(d.x,d.y,d.z),g.push(_+b,1-y),x.push(c++)}f.push(x)}for(let p=0;p<r;p++)for(let x=0;x<n;x++){const y=f[p][x+1],b=f[p][x],S=f[p+1][x],_=f[p+1][x+1];(p!==0||a>0)&&h.push(y,b,_),(p!==r-1||l<Math.PI)&&h.push(b,S,_)}this.setIndex(h),this.setAttribute("position",new Bn(m,3)),this.setAttribute("normal",new Bn(v,3)),this.setAttribute("uv",new Bn(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new y1(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class g6{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=RT(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=RT();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function RT(){return performance.now()}const NT=new nn;class y6{constructor(e,n,r=0,i=1/0){this.ray=new ch(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new u1,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return NT.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(NT),this}intersectObject(e,n=!0,r=[]){return s_(e,this,r,n),r.sort(DT),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)s_(e[i],this,r,n);return r.sort(DT),r}}function DT(t,e){return t.distance-e.distance}function s_(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const o=t.children;for(let a=0,s=o.length;a<s;a++)s_(o[a],e,n,!0)}}class LT{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Un(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class x6 extends rl{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:n1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=n1);const IT={type:"change"},x1={type:"start"},AL={type:"end"},Sp=new ch,kT=new ma,b6=Math.cos(70*_5.DEG2RAD),Mn=new X,dr=2*Math.PI,zt={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},I0=1e-6;class _6 extends x6{constructor(e,n=null){super(e,n),this.state=zt.NONE,this.enabled=!0,this.target=new X,this.cursor=new X,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:uc.ROTATE,MIDDLE:uc.DOLLY,RIGHT:uc.PAN},this.touches={ONE:Yl.ROTATE,TWO:Yl.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new X,this._lastQuaternion=new Hs,this._lastTargetPosition=new X,this._quat=new Hs().setFromUnitVectors(e.up,new X(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new LT,this._sphericalDelta=new LT,this._scale=1,this._panOffset=new X,this._rotateStart=new Oe,this._rotateEnd=new Oe,this._rotateDelta=new Oe,this._panStart=new Oe,this._panEnd=new Oe,this._panDelta=new Oe,this._dollyStart=new Oe,this._dollyEnd=new Oe,this._dollyDelta=new Oe,this._dollyDirection=new X,this._mouse=new Oe,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=w6.bind(this),this._onPointerDown=S6.bind(this),this._onPointerUp=E6.bind(this),this._onContextMenu=R6.bind(this),this._onMouseWheel=T6.bind(this),this._onKeyDown=P6.bind(this),this._onTouchStart=C6.bind(this),this._onTouchMove=O6.bind(this),this._onMouseDown=M6.bind(this),this._onMouseMove=A6.bind(this),this._interceptControlDown=N6.bind(this),this._interceptControlUp=D6.bind(this),this.domElement!==null&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(IT),this.update(),this.state=zt.NONE}update(e=null){const n=this.object.position;Mn.copy(n).sub(this.target),Mn.applyQuaternion(this._quat),this._spherical.setFromVector3(Mn),this.autoRotate&&this.state===zt.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,i=this.maxAzimuthAngle;isFinite(r)&&isFinite(i)&&(r<-Math.PI?r+=dr:r>Math.PI&&(r-=dr),i<-Math.PI?i+=dr:i>Math.PI&&(i-=dr),r<=i?this._spherical.theta=Math.max(r,Math.min(i,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(r+i)/2?Math.max(r,this._spherical.theta):Math.min(i,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let o=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const a=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),o=a!=this._spherical.radius}if(Mn.setFromSpherical(this._spherical),Mn.applyQuaternion(this._quatInverse),n.copy(this.target).add(Mn),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let a=null;if(this.object.isPerspectiveCamera){const s=Mn.length();a=this._clampDistance(s*this._scale);const l=s-a;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),o=!!l}else if(this.object.isOrthographicCamera){const s=new X(this._mouse.x,this._mouse.y,0);s.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),o=l!==this.object.zoom;const c=new X(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(s),this.object.updateMatrixWorld(),a=Mn.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;a!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(a).add(this.object.position):(Sp.origin.copy(this.object.position),Sp.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(Sp.direction))<b6?this.object.lookAt(this.target):(kT.setFromNormalAndCoplanarPoint(this.object.up,this.target),Sp.intersectPlane(kT,this.target))))}else if(this.object.isOrthographicCamera){const a=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),a!==this.object.zoom&&(this.object.updateProjectionMatrix(),o=!0)}return this._scale=1,this._performCursorZoom=!1,o||this._lastPosition.distanceToSquared(this.object.position)>I0||8*(1-this._lastQuaternion.dot(this.object.quaternion))>I0||this._lastTargetPosition.distanceToSquared(this.target)>I0?(this.dispatchEvent(IT),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?dr/60*this.autoRotateSpeed*e:dr/60/60*this.autoRotateSpeed}_getZoomScale(e){const n=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*n)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,n){Mn.setFromMatrixColumn(n,0),Mn.multiplyScalar(-e),this._panOffset.add(Mn)}_panUp(e,n){this.screenSpacePanning===!0?Mn.setFromMatrixColumn(n,1):(Mn.setFromMatrixColumn(n,0),Mn.crossVectors(this.object.up,Mn)),Mn.multiplyScalar(e),this._panOffset.add(Mn)}_pan(e,n){const r=this.domElement;if(this.object.isPerspectiveCamera){const i=this.object.position;Mn.copy(i).sub(this.target);let o=Mn.length();o*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*o/r.clientHeight,this.object.matrix),this._panUp(2*n*o/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(n*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,n){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const r=this.domElement.getBoundingClientRect(),i=e-r.left,o=n-r.top,a=r.width,s=r.height;this._mouse.x=i/a*2-1,this._mouse.y=-(o/s)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(dr*this._rotateDelta.x/n.clientHeight),this._rotateUp(dr*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let n=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateUp(dr*this.rotateSpeed/this.domElement.clientHeight):this._pan(0,this.keyPanSpeed),n=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateUp(-dr*this.rotateSpeed/this.domElement.clientHeight):this._pan(0,-this.keyPanSpeed),n=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateLeft(dr*this.rotateSpeed/this.domElement.clientHeight):this._pan(this.keyPanSpeed,0),n=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateLeft(-dr*this.rotateSpeed/this.domElement.clientHeight):this._pan(-this.keyPanSpeed,0),n=!0;break}n&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._rotateStart.set(r,i)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._panStart.set(r,i)}}_handleTouchStartDolly(e){const n=this._getSecondPointerPosition(e),r=e.pageX-n.x,i=e.pageY-n.y,o=Math.sqrt(r*r+i*i);this._dollyStart.set(0,o)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const r=this._getSecondPointerPosition(e),i=.5*(e.pageX+r.x),o=.5*(e.pageY+r.y);this._rotateEnd.set(i,o)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(dr*this._rotateDelta.x/n.clientHeight),this._rotateUp(dr*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._panEnd.set(r,i)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const n=this._getSecondPointerPosition(e),r=e.pageX-n.x,i=e.pageY-n.y,o=Math.sqrt(r*r+i*i);this._dollyEnd.set(0,o),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const a=(e.pageX+n.x)*.5,s=(e.pageY+n.y)*.5;this._updateZoomParameters(a,s)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId){this._pointers.splice(n,1);return}}_isTrackingPointer(e){for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId)return!0;return!1}_trackPointer(e){let n=this._pointerPositions[e.pointerId];n===void 0&&(n=new Oe,this._pointerPositions[e.pointerId]=n),n.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const n=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[n]}_customWheelEvent(e){const n=e.deltaMode,r={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(n){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}}function S6(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(t)&&(this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t)))}function w6(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function E6(t){switch(this._removePointer(t),this._pointers.length){case 0:this.domElement.releasePointerCapture(t.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(AL),this.state=zt.NONE;break;case 1:const e=this._pointers[0],n=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:n.x,pageY:n.y});break}}function M6(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case uc.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(t),this.state=zt.DOLLY;break;case uc.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=zt.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=zt.ROTATE}break;case uc.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=zt.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=zt.PAN}break;default:this.state=zt.NONE}this.state!==zt.NONE&&this.dispatchEvent(x1)}function A6(t){switch(this.state){case zt.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(t);break;case zt.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(t);break;case zt.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(t);break}}function T6(t){this.enabled===!1||this.enableZoom===!1||this.state!==zt.NONE||(t.preventDefault(),this.dispatchEvent(x1),this._handleMouseWheel(this._customWheelEvent(t)),this.dispatchEvent(AL))}function P6(t){this.enabled===!1||this.enablePan===!1||this._handleKeyDown(t)}function C6(t){switch(this._trackPointer(t),this._pointers.length){case 1:switch(this.touches.ONE){case Yl.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(t),this.state=zt.TOUCH_ROTATE;break;case Yl.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(t),this.state=zt.TOUCH_PAN;break;default:this.state=zt.NONE}break;case 2:switch(this.touches.TWO){case Yl.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(t),this.state=zt.TOUCH_DOLLY_PAN;break;case Yl.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(t),this.state=zt.TOUCH_DOLLY_ROTATE;break;default:this.state=zt.NONE}break;default:this.state=zt.NONE}this.state!==zt.NONE&&this.dispatchEvent(x1)}function O6(t){switch(this._trackPointer(t),this.state){case zt.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(t),this.update();break;case zt.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(t),this.update();break;case zt.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(t),this.update();break;case zt.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(t),this.update();break;default:this.state=zt.NONE}}function R6(t){this.enabled!==!1&&t.preventDefault()}function N6(t){t.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function D6(t){t.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function L6(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=TL(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c;if(r&&(o=j6(t,e,o,n)),t.length>80*n){s=1/0,l=1/0;let f=-1/0,u=-1/0;for(let d=n;d<i;d+=n){const h=t[d],m=t[d+1];h<s&&(s=h),m<l&&(l=m),h>f&&(f=h),m>u&&(u=m)}c=Math.max(f-s,u-l),c=c!==0?32767/c:0}return fd(o,a,n,s,l,c,0),a}function TL(t,e,n,r,i){let o;if(i===K6(t,e,n,r)>0)for(let a=e;a<n;a+=r)o=UT(a/r|0,t[a],t[a+1],o);else for(let a=n-r;a>=e;a-=r)o=UT(a/r|0,t[a],t[a+1],o);return o&&Eg(o,o.next)&&(hd(o),o=o.next),o}function Gs(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Eg(n,n.next)||un(n.prev,n,n.next)===0)){if(hd(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function fd(t,e,n,r,i,o,a){if(!t)return;!a&&o&&V6(t,r,i,o);let s=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(o?k6(t,r,i,o):I6(t)){e.push(l.i,t.i,c.i),hd(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=U6(Gs(t),e),fd(t,e,n,r,i,o,2)):a===2&&F6(t,e,n,r,i,o):fd(Gs(t),e,n,r,i,o,1);break}}}function I6(t){const e=t.prev,n=t,r=t.next;if(un(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,c=r.y,f=i<o?i<a?i:a:o<a?o:a,u=s<l?s<c?s:c:l<c?l:c,d=i>o?i>a?i:a:o>a?o:a,h=s>l?s>c?s:c:l>c?l:c;let m=r.next;for(;m!==e;){if(m.x>=f&&m.x<=d&&m.y>=u&&m.y<=h&&Jl(i,s,o,l,a,c,m.x,m.y)&&un(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function k6(t,e,n,r){const i=t.prev,o=t,a=t.next;if(un(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,f=i.y,u=o.y,d=a.y,h=s<l?s<c?s:c:l<c?l:c,m=f<u?f<d?f:d:u<d?u:d,v=s>l?s>c?s:c:l>c?l:c,g=f>u?f>d?f:d:u>d?u:d,p=l_(h,m,e,n,r),x=l_(v,g,e,n,r);let y=t.prevZ,b=t.nextZ;for(;y&&y.z>=p&&b&&b.z<=x;){if(y.x>=h&&y.x<=v&&y.y>=m&&y.y<=g&&y!==i&&y!==a&&Jl(s,f,l,u,c,d,y.x,y.y)&&un(y.prev,y,y.next)>=0||(y=y.prevZ,b.x>=h&&b.x<=v&&b.y>=m&&b.y<=g&&b!==i&&b!==a&&Jl(s,f,l,u,c,d,b.x,b.y)&&un(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;y&&y.z>=p;){if(y.x>=h&&y.x<=v&&y.y>=m&&y.y<=g&&y!==i&&y!==a&&Jl(s,f,l,u,c,d,y.x,y.y)&&un(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=x;){if(b.x>=h&&b.x<=v&&b.y>=m&&b.y<=g&&b!==i&&b!==a&&Jl(s,f,l,u,c,d,b.x,b.y)&&un(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function U6(t,e){let n=t;do{const r=n.prev,i=n.next.next;!Eg(r,i)&&PL(r,n,n.next,i)&&dd(r,i)&&dd(i,r)&&(e.push(r.i,n.i,i.i),hd(n),hd(n.next),n=t=i),n=n.next}while(n!==t);return Gs(n)}function F6(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&X6(a,s)){let l=CL(a,s);a=Gs(a,a.next),l=Gs(l,l.next),fd(a,e,n,r,i,o,0),fd(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function j6(t,e,n,r){const i=[];for(let o=0,a=e.length;o<a;o++){const s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,c=TL(t,s,l,r,!1);c===c.next&&(c.steiner=!0),i.push(W6(c))}i.sort(B6);for(let o=0;o<i.length;o++)n=$6(i[o],n);return n}function B6(t,e){return t.x-e.x}function $6(t,e){const n=z6(t,e);if(!n)return e;const r=CL(n,t);return Gs(r,r.next),Gs(n,n.next)}function z6(t,e){let n=e;const r=t.x,i=t.y;let o=-1/0,a;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const u=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=r&&u>o&&(o=u,a=n.x<n.next.x?n:n.next,u===r))return a}n=n.next}while(n!==e);if(!a)return null;const s=a,l=a.x,c=a.y;let f=1/0;n=a;do{if(r>=n.x&&n.x>=l&&r!==n.x&&Jl(i<c?r:o,i,l,c,i<c?o:r,i,n.x,n.y)){const u=Math.abs(i-n.y)/(r-n.x);dd(n,t)&&(u<f||u===f&&(n.x>a.x||n.x===a.x&&H6(a,n)))&&(a=n,f=u)}n=n.next}while(n!==s);return a}function H6(t,e){return un(t.prev,t,e.prev)<0&&un(e.next,t,t.next)<0}function V6(t,e,n,r){let i=t;do i.z===0&&(i.z=l_(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,G6(i)}function G6(t){let e,n=1;do{let r=t,i;t=null;let o=null;for(e=0;r;){e++;let a=r,s=0;for(let c=0;c<n&&(s++,a=a.nextZ,!!a);c++);let l=n;for(;s>0||l>0&&a;)s!==0&&(l===0||!a||r.z<=a.z)?(i=r,r=r.nextZ,s--):(i=a,a=a.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=a}o.nextZ=null,n*=2}while(e>1);return t}function l_(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function W6(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Jl(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function X6(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!q6(t,e)&&(dd(t,e)&&dd(e,t)&&Y6(t,e)&&(un(t.prev,t,e.prev)||un(t,e.prev,e))||Eg(t,e)&&un(t.prev,t,t.next)>0&&un(e.prev,e,e.next)>0)}function un(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Eg(t,e){return t.x===e.x&&t.y===e.y}function PL(t,e,n,r){const i=Ep(un(t,e,n)),o=Ep(un(t,e,r)),a=Ep(un(n,r,t)),s=Ep(un(n,r,e));return!!(i!==o&&a!==s||i===0&&wp(t,n,e)||o===0&&wp(t,r,e)||a===0&&wp(n,t,r)||s===0&&wp(n,e,r))}function wp(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Ep(t){return t>0?1:t<0?-1:0}function q6(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&PL(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function dd(t,e){return un(t.prev,t,t.next)<0?un(t,e,t.next)>=0&&un(t,t.prev,e)>=0:un(t,e,t.prev)<0||un(t,t.next,e)<0}function Y6(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function CL(t,e){const n=c_(t.i,t.x,t.y),r=c_(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function UT(t,e,n,r){const i=c_(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function hd(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function c_(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function K6(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function Z6(t){return(e,n)=>{const r=e[0],i=e[1],o=n*Math.cos(i*Math.PI/180)*Math.cos(r*Math.PI/180),a=n*Math.cos(i*Math.PI/180)*Math.sin(r*Math.PI/180),s=n*Math.sin(i*Math.PI/180);return[o,a,s]}}function J6(t){let e=[];if(t.type==="Feature")e.push(t.geometry);else if(t.type==="FeatureCollection")for(let n=0;n<t.features.length;n++)e.push(t.features[n].geometry);else if(t.type==="GeometryCollection")for(let n=0;n<t.geometries.length;n++)e.push(t.geometries[n]);else throw new Error("The geoJSON is not valid.");return e}function FT(t,e){const[n,r]=t,[i,o]=e,a=Math.abs(n-i),s=Math.abs(r-o);return a>5||s>5}function Q6(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}function OL(t){let e=[];for(let n=0;n<t.length;n++){const r=t[n];if(e.push(r),n<t.length-1){const i=t[n+1];if(FT(r,i)){let o=[r],a=[r,i];for(;FT(o[o.length-1],i);){const s=[];for(let l=0;l<a.length-1;l++)s.push(a[l]),s.push(Q6(a[l],a[l+1]));s.push(a[a.length-1]),o=s,a=s}e.push(...o.slice(1,-1))}}}return e}function e9(t){return t.map(e=>[e.x,e.y])}function t9(t,e){const n=t.flat();return L6(n,e)}function jT(t,e,n,r,i){const o=[],a=[];if(t.forEach((d,h)=>{const v=OL(d).map(g=>{const[p,x,y]=n(g,e);return new X(p,x,y)});v.length>0&&v[0].distanceTo(v[v.length-1])<1e-10&&v.pop(),h>0&&a.push(o.length),o.push(...v)}),o.length<3)return;const s=e9(o),l=t9(s,a),c=new $n,f=new Float32Array(o.length*3);o.forEach((d,h)=>{f[h*3]=d.x,f[h*3+1]=d.y,f[h*3+2]=d.z}),c.setAttribute("position",new Fr(f,3)),c.setIndex(new Fr(new Uint16Array(l),1)),c.computeVertexNormals();const u=r(c);i.add(u)}function n9(t,e,n,r,i){const[o,a,s]=n(t,e),l=new $n;l.setAttribute("position",new Bn([o,a,s],3));const c=new p1(l,new Sg(r));i.add(c)}function r9(t,e,n,r,i){const a=OL(t).map(f=>{const[u,d,h]=n(f,e);return new X(u,d,h)}),s=new $n,l=new Float32Array(a.length*3);a.forEach((f,u)=>{l[u*3]=f.x,l[u*3+1]=f.y,l[u*3+2]=f.z}),s.setAttribute("position",new Fr(l,3));const c=new h1(s,new _g(r));i.add(c)}function i9(t,e,n,r,i){switch(t.type){case"Point":n9(t.coordinates,e,n,r,i);break;case"LineString":r9(t.coordinates,e,n,r,i);break}}function o9(t,e,n,r,i){try{const o=J6(t),a=Z6(n);o.forEach((s,l)=>{try{s.type==="Polygon"?jT(s.coordinates,e,a,r,i):s.type==="MultiPolygon"?s.coordinates.forEach(c=>{jT(c,e,a,r,i)}):i9(s,e,a,r,i)}catch(c){console.error(`Error processing geometry #${l}:`,s,c)}})}catch(o){throw console.error("Error processing GeoJSON:",o),o}}function a9(t,e,n,r,i){const o=[],a=[],s=[],l=u(t),c=d();let f=[];for(let w=0;w<l.length;w++)if(l[w].type=="Point")c(l[w].coordinates,e),x(o[0],a[0],s[0],r);else if(l[w].type=="MultiPoint")for(let T=0;T<l[w].coordinates.length;T++)c(l[w].coordinates[T],e),x(o[0],a[0],s[0],r);else if(l[w].type=="LineString"){f=h(l[w].coordinates);for(let T=0;T<f.length;T++)c(f[T],e);y(o,a,s,r)}else if(l[w].type=="Polygon")for(let T=0;T<l[w].coordinates.length;T++){f=h(l[w].coordinates[T]);for(let M=0;M<f.length;M++)c(f[M],e);y(o,a,s,r),b(o,a,s,r)}else if(l[w].type=="MultiLineString")for(let T=0;T<l[w].coordinates.length;T++){f=h(l[w].coordinates[T]);for(let M=0;M<f.length;M++)c(f[M],e);y(o,a,s,r)}else if(l[w].type=="MultiPolygon")for(let T=0;T<l[w].coordinates.length;T++)for(let M=0;M<l[w].coordinates[T].length;M++){f=h(l[w].coordinates[T][M]);for(let A=0;A<f.length;A++)c(f[A],e);y(o,a,s,r),b(o,a,s,r)}else throw new Error("The geoJSON is not valid.");function u(w){let T=[];if(w.type=="Feature")T.push(w.geometry);else if(w.type=="FeatureCollection")for(let M=0;M<w.features.length;M++)T.push(w.features[M].geometry);else if(w.type=="GeometryCollection")for(let M=0;M<w.geometries.length;M++)T.push(w.geometries[M]);else throw new Error("The geoJSON is not valid.");return T}function d(w){let T;return T=p,T}function h(w){const T=[];let M=[];for(let A=0;A<w.length;A++){const P=w[A],O=w[A-1];if(A>0)if(m(O,P)){M=[O,P],M=v(M);for(let L=0;L<M.length;L++)T.push(M[L])}else T.push(P);else T.push(P)}return T}function m(w,T){const M=T[0],A=T[1],P=w[0],O=w[1],L=Math.abs(M-P),I=Math.abs(A-O);return L>5||I>5}function v(w){let T=[],M,A;for(let P=0;P<w.length-1;P++)M=w[P],A=w[P+1],m(A,M)?(T.push(M),T.push(g(M,A))):T.push(M);if(T.push(w[w.length-1]),T.length>w.length)T=v(T);else return T;return T}function g(w,T){const M=(w[0]+T[0])/2,A=(w[1]+T[1])/2;return[M,A]}function p(w,T){const M=w[0],A=w[1];o.push(Math.cos(A*Math.PI/180)*Math.cos(M*Math.PI/180)*T),a.push(Math.cos(A*Math.PI/180)*Math.sin(M*Math.PI/180)*T),s.push(Math.sin(A*Math.PI/180)*T)}function x(w,T,M,A){let P=new $n;P.setAttribute("position",new Bn([w,T,M],3));const O=new Sg(A),L=new p1(P,O);i.add(L),_()}function y(w,T,M,A){const P=new $n;S(P,w,T,M);const O=new _g({color:A.color||8454016,linewidth:A.linewidth||1}),L=new h1(P,O);i.add(L),_()}function b(w,T,M,A){const P=new SL;P.moveTo(w[0],T[0]);for(let j=1;j<w.length;j++)P.lineTo(w[j],T[j]);P.lineTo(w[0],T[0]);const O=new g1(P,{depth:1,bevelEnabled:!1}),L=new yg({color:A.color||8454016,side:Ai}),I=new Di(O,L);i.add(I),_()}function S(w,T,M,A){let P=[];for(let O=0;O<T.length;O++)P.push(new X(T[O],M[O],A[O]));w.setFromPoints(P)}function _(){o.length=0,a.length=0,s.length=0}}const s9=({isOpen:t,onClose:e,countryData:n})=>{if(!n||Object.keys(n).length===0)return null;const r=n.esgMetrics||{"Carbon Emissions Reduction":0,"Renewable Energy Adoption":0,"Biodiversity Conservation":0},i=n.sustainabilityGoals||[],o=n.recentNews||[];return E.jsxs("div",{className:`fixed top-0 right-0 h-full w-80 bg-black bg-opacity-90 text-white 
            transition-all duration-300 ease-in-out 
            ${t?"translate-x-0":"translate-x-full"} 
            z-[999] p-6 overflow-y-auto shadow-2xl`,style:{display:t?"block":"none",position:"fixed",right:0,top:0,width:"320px",height:"100%",backgroundColor:"rgba(0,0,0,0.9)",borderLeft:"2px solid #1a1a1a"},children:[E.jsx("h2",{className:"text-2xl font-bold mb-4",children:n.name||"Country Details"}),E.jsxs("div",{className:"mb-6",children:[E.jsx("h3",{className:"text-xl font-semibold mb-3",children:"ESG Performance"}),E.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([a,s],l)=>E.jsxs("div",{children:[E.jsx("p",{className:"text-sm",children:a}),E.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:E.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${s||0}%`}})})]},l))})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2030 Sustainability Goals"}),i.length>0?E.jsx("ul",{className:"space-y-2 text-sm",children:i.map((a,s)=>E.jsxs("li",{className:"flex items-center",children:[E.jsx("span",{className:`mr-2 ${a.achieved?"text-green-500":"text-yellow-500"}`,children:a.achieved?"✓":"○"}),a.description]},s))}):E.jsx("p",{className:"text-gray-400",children:"No sustainability goals available"})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Recent Sustainability News"}),o.length>0?E.jsx("div",{className:"space-y-3",children:o.map((a,s)=>E.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[E.jsx("h4",{className:"text-sm font-medium",children:a.title}),E.jsx("p",{className:"text-xs text-gray-400",children:a.date})]},s))}):E.jsx("p",{className:"text-gray-400",children:"No recent news available"})]})]})},l9=({isOpen:t,onClick:e})=>E.jsx("button",{onClick:e,className:`fixed top-1/2 right-0 transform -translate-y-1/2 
        bg-black bg-opacity-70 text-white 
        w-10 h-20 
        rounded-l-lg 
        flex items-center justify-center 
        transition-transform duration-300 ease-in-out 
        border-t-2 border-l-2 border-b-2 border-r-2 border-[#1a1a1a] // Updated border classes
        ${t?"-translate-x-80":"translate-x-0"}
        z-[1000] hover:bg-opacity-80`,children:t?E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right",children:E.jsx("path",{d:"m9 18 6-6-6-6"})}):E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-left",children:E.jsx("path",{d:"m15 18-6-6 6-6"})})}),c9=()=>{const t=C.useRef(null),[e,n]=C.useState(null),[r,i]=C.useState({x:0,y:0}),[o,a]=C.useState(""),[s,l]=C.useState(null),[c,f]=C.useState(!1),u=C.useRef(null),d=C.useRef(null),h=C.useRef(null),m=C.useRef([]),v=C.useRef(!0),g=43130,p=65437,x=43130,y=0,b=1,S=1e3,_=50,w=.001;return C.useEffect(()=>{document.title="EcoLens: Explore the World";const T=document.querySelector("link[rel~='icon']")||document.createElement("link");if(T.rel="icon",T.href="/vite.svg",document.head.appendChild(T),!t.current)return;const M=new g6,A=new k8;u.current=A,A.fog=new d1(0,.3),A.background=new Tt(0);const P=new ti(75,window.innerWidth/window.innerHeight,.1,1e3);P.position.z=4.5;const O=new I8({antialias:!0,alpha:!1,powerPreference:"high-performance"});d.current=O,O.setSize(window.innerWidth,window.innerHeight),O.setPixelRatio(Math.min(window.devicePixelRatio,2)),t.current.appendChild(O.domElement);const L=new Float32Array(S*3);for(let Q=0;Q<S;Q++){const ae=Q*3,le=2*Math.PI*Math.random(),$=Math.acos(2*Math.random()-1);L[ae]=_*Math.sin($)*Math.cos(le),L[ae+1]=_*Math.sin($)*Math.sin(le),L[ae+2]=_*Math.cos($)}const I=new $n;I.setAttribute("position",new Bn(L,3));const j=new Sg({color:16777215,size:.05,transparent:!0,fog:!1,sizeAttenuation:!0}),F=new p1(I,j);A.add(F);const B=new Z8(new y1(2,32,32)),D=new _g({color:x,transparent:!0,opacity:.4}),z=new U8(B,D);z.renderOrder=0,A.add(z);const W=new Wn;h.current=W,A.add(W);const J=new nn;J.makeRotationX(-Math.PI/2),W.applyMatrix4(J),J.makeRotationY(Math.PI/2),W.applyMatrix4(J),(async()=>{try{const Q=await fetch("/geojson/countries.json");if(!Q.ok)throw new Error("Failed to fetch countries data");(await Q.json()).features.forEach((le,$)=>{const se=new Wn,k=ve=>{const fe=new yg({color:new Tt(g),transparent:!0,opacity:y,side:Ai}),we=new Di(ve,fe);return we.renderOrder=-1,we.userData={name:le.properties.name,continent:le.properties.continent,population:le.properties.pop_est,economy:le.properties.economy,incomeGroup:le.properties.income_grp,index:$},se.add(we),m.current.push(we),we};o9({type:"FeatureCollection",features:[le]},2,"sphere",k,se),a9({type:"FeatureCollection",features:[le]},2,"sphere",k,se),W.add(se)}),v.current=!1,a(`Loaded ${m.current.length} country meshes`),O.render(A,P)}catch(Q){console.error("Error loading countries:",Q),a(`Error loading countries: ${Q.message}`)}})();const xe=new _6(P,O.domElement);xe.enableDamping=!0,xe.dampingFactor=.05,xe.rotateSpeed=.5,xe.zoomSpeed=.8,xe.minDistance=3,xe.maxDistance=10;const Z=new y6;Z.params.Line.threshold=.1;const ue=Q=>{if(Q.preventDefault(),v.current||!m.current.length)return;const ae=d.current.domElement.getBoundingClientRect(),le=Q.clientX-ae.left,$=Q.clientY-ae.top;i({x:Q.clientX,y:Q.clientY});const se=new Oe(le/ae.width*2-1,-($/ae.height)*2+1);Z.setFromCamera(se,P);const k=Z.intersectObjects(m.current,!1);if(m.current.forEach(ve=>{ve.material.color.setHex(g)}),k.length>0){const ve=k[0].object;if(ve.material.color.setHex(p),ve.material.opacity=b,!s||s.name!==ve.userData.name||!c){const fe={name:ve.userData.name,esgMetrics:{"Carbon Emissions Reduction":Math.min(Math.floor(Math.random()*100),90),"Renewable Energy Adoption":Math.min(Math.floor(Math.random()*100),90),"Biodiversity Conservation":Math.min(Math.floor(Math.random()*100),90)},sustainabilityGoals:[{description:"Achieve carbon neutrality by 2040",achieved:Math.random()>.5},{description:"Increase renewable energy to 50%",achieved:Math.random()>.5},{description:"Protect endangered species habitats",achieved:Math.random()>.5}],recentNews:[{title:`Sustainability Milestone in ${ve.userData.name}`,date:"2024-12-01"},{title:"New Green Initiative Launched",date:"2024-11-15"}]};l(fe),f(!0)}}m.current.forEach(ve=>{ve!==intersectedMesh&&(ve.material.color.setHex(g),ve.material.opacity=y)})},be=Q=>{const ae=d.current.domElement.getBoundingClientRect(),le=Q.clientX-ae.left,$=Q.clientY-ae.top,se=new Oe(le/ae.width*2-1,-($/ae.height)*2+1);Z.setFromCamera(se,P);const k=Z.intersectObjects(m.current,!1);if(k.length>0){const ve=k[0].object,fe={name:ve.userData.name,esgMetrics:{"Carbon Emissions Reduction":Math.min(Math.floor(Math.random()*100),90),"Renewable Energy Adoption":Math.min(Math.floor(Math.random()*100),90),"Biodiversity Conservation":Math.min(Math.floor(Math.random()*100),90)},sustainabilityGoals:[{description:"Achieve carbon neutrality by 2040",achieved:Math.random()>.5},{description:"Increase renewable energy to 50%",achieved:Math.random()>.5},{description:"Protect endangered species habitats",achieved:Math.random()>.5}],recentNews:[{title:`Sustainability Milestone in ${ve.userData.name}`,date:"2024-12-01"},{title:"New Green Initiative Launched",date:"2024-11-15"}]};l(fe),f(!0)}},ne=()=>{const Q=M.getElapsedTime();z.rotation.y+=w,W.rotation.z+=w,F.rotation.y=Q*.02,j.size=.05+Math.sin(Q*2)*.01,xe.update(),O.render(A,P),requestAnimationFrame(ne)},_e=()=>{const Q=window.innerWidth,ae=window.innerHeight;P.aspect=Q/ae,P.updateProjectionMatrix(),O.setSize(Q,ae)};return window.addEventListener("resize",_e),window.addEventListener("mousemove",ue),window.addEventListener("click",be),ne(),()=>{v.current=!0,window.removeEventListener("resize",_e),window.removeEventListener("mousemove",ue),window.removeEventListener("click",be),m.current=[],t.current&&O.domElement&&t.current.removeChild(O.domElement),A.traverse(Q=>{Q.geometry&&Q.geometry.dispose(),Q.material&&(Array.isArray(Q.material)?Q.material.forEach(ae=>ae.dispose()):Q.material.dispose())}),O.dispose(),xe.dispose()}},[]),E.jsxs(E.Fragment,{children:[E.jsx("div",{style:{position:"absolute",top:10,left:20,zIndex:1e3},children:E.jsx("img",{src:"/ecolens.png",alt:"EcoLens Logo",style:{width:"80px",height:"auto"}})}),E.jsx("div",{ref:t,style:{width:"100%",height:"100vh",transition:"transform 0.3s ease-in-out",transform:c?"translateX(-160px)":"translateX(0)"}}),E.jsx(l9,{isOpen:c,onClick:()=>f(!c)}),E.jsx(s9,{isOpen:c,onClose:()=>f(!1),countryData:s}),E.jsx("div",{style:{position:"fixed",top:50,left:10,backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",padding:"10px",fontFamily:"monospace",fontSize:"10px",zIndex:1e3},children:o}),e&&E.jsxs("div",{style:{position:"absolute",left:Math.min(r.x+20,window.innerWidth-220),top:Math.min(r.y+20,window.innerHeight-100),backgroundColor:"rgba(0, 0, 0, 0.8)",color:"#fff",padding:"8px",fontSize:"10px",borderRadius:"4px",pointerEvents:"none",zIndex:999,maxWidth:"180px"},children:[E.jsx("h4",{children:e.name}),E.jsxs("p",{children:["Continent: ",e.continent]}),E.jsxs("p",{children:["Population: ",e.population]}),E.jsxs("p",{children:["Economy: ",e.economy]}),E.jsxs("p",{children:["Income Group: ",e.incomeGroup]})]})]})};function RL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=RL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function vt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=RL(t))&&(r&&(r+=" "),r+=e);return r}var u9=Array.isArray,wr=u9,f9=typeof Mh=="object"&&Mh&&Mh.Object===Object&&Mh,NL=f9,d9=NL,h9=typeof self=="object"&&self&&self.Object===Object&&self,p9=d9||h9||Function("return this")(),lo=p9,m9=lo,v9=m9.Symbol,fh=v9,BT=fh,DL=Object.prototype,g9=DL.hasOwnProperty,y9=DL.toString,Zu=BT?BT.toStringTag:void 0;function x9(t){var e=g9.call(t,Zu),n=t[Zu];try{t[Zu]=void 0;var r=!0}catch{}var i=y9.call(t);return r&&(e?t[Zu]=n:delete t[Zu]),i}var b9=x9,_9=Object.prototype,S9=_9.toString;function w9(t){return S9.call(t)}var E9=w9,$T=fh,M9=b9,A9=E9,T9="[object Null]",P9="[object Undefined]",zT=$T?$T.toStringTag:void 0;function C9(t){return t==null?t===void 0?P9:T9:zT&&zT in Object(t)?M9(t):A9(t)}var Ko=C9;function O9(t){return t!=null&&typeof t=="object"}var Zo=O9,R9=Ko,N9=Zo,D9="[object Symbol]";function L9(t){return typeof t=="symbol"||N9(t)&&R9(t)==D9}var pu=L9,I9=wr,k9=pu,U9=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F9=/^\w*$/;function j9(t,e){if(I9(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||k9(t)?!0:F9.test(t)||!U9.test(t)||e!=null&&t in Object(e)}var b1=j9;function B9(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ya=B9;const mu=It(Ya);var $9=Ko,z9=Ya,H9="[object AsyncFunction]",V9="[object Function]",G9="[object GeneratorFunction]",W9="[object Proxy]";function X9(t){if(!z9(t))return!1;var e=$9(t);return e==V9||e==G9||e==H9||e==W9}var _1=X9;const lt=It(_1);var q9=lo,Y9=q9["__core-js_shared__"],K9=Y9,k0=K9,HT=function(){var t=/[^.]+$/.exec(k0&&k0.keys&&k0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Z9(t){return!!HT&&HT in t}var J9=Z9,Q9=Function.prototype,e7=Q9.toString;function t7(t){if(t!=null){try{return e7.call(t)}catch{}try{return t+""}catch{}}return""}var LL=t7,n7=_1,r7=J9,i7=Ya,o7=LL,a7=/[\\^$.*+?()[\]{}|]/g,s7=/^\[object .+?Constructor\]$/,l7=Function.prototype,c7=Object.prototype,u7=l7.toString,f7=c7.hasOwnProperty,d7=RegExp("^"+u7.call(f7).replace(a7,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h7(t){if(!i7(t)||r7(t))return!1;var e=n7(t)?d7:s7;return e.test(o7(t))}var p7=h7;function m7(t,e){return t==null?void 0:t[e]}var v7=m7,g7=p7,y7=v7;function x7(t,e){var n=y7(t,e);return g7(n)?n:void 0}var ol=x7,b7=ol,_7=b7(Object,"create"),Mg=_7,VT=Mg;function S7(){this.__data__=VT?VT(null):{},this.size=0}var w7=S7;function E7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var M7=E7,A7=Mg,T7="__lodash_hash_undefined__",P7=Object.prototype,C7=P7.hasOwnProperty;function O7(t){var e=this.__data__;if(A7){var n=e[t];return n===T7?void 0:n}return C7.call(e,t)?e[t]:void 0}var R7=O7,N7=Mg,D7=Object.prototype,L7=D7.hasOwnProperty;function I7(t){var e=this.__data__;return N7?e[t]!==void 0:L7.call(e,t)}var k7=I7,U7=Mg,F7="__lodash_hash_undefined__";function j7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=U7&&e===void 0?F7:e,this}var B7=j7,$7=w7,z7=M7,H7=R7,V7=k7,G7=B7;function vu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vu.prototype.clear=$7;vu.prototype.delete=z7;vu.prototype.get=H7;vu.prototype.has=V7;vu.prototype.set=G7;var W7=vu;function X7(){this.__data__=[],this.size=0}var q7=X7;function Y7(t,e){return t===e||t!==t&&e!==e}var S1=Y7,K7=S1;function Z7(t,e){for(var n=t.length;n--;)if(K7(t[n][0],e))return n;return-1}var Ag=Z7,J7=Ag,Q7=Array.prototype,eX=Q7.splice;function tX(t){var e=this.__data__,n=J7(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():eX.call(e,n,1),--this.size,!0}var nX=tX,rX=Ag;function iX(t){var e=this.__data__,n=rX(e,t);return n<0?void 0:e[n][1]}var oX=iX,aX=Ag;function sX(t){return aX(this.__data__,t)>-1}var lX=sX,cX=Ag;function uX(t,e){var n=this.__data__,r=cX(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var fX=uX,dX=q7,hX=nX,pX=oX,mX=lX,vX=fX;function gu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gu.prototype.clear=dX;gu.prototype.delete=hX;gu.prototype.get=pX;gu.prototype.has=mX;gu.prototype.set=vX;var Tg=gu,gX=ol,yX=lo,xX=gX(yX,"Map"),w1=xX,GT=W7,bX=Tg,_X=w1;function SX(){this.size=0,this.__data__={hash:new GT,map:new(_X||bX),string:new GT}}var wX=SX;function EX(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var MX=EX,AX=MX;function TX(t,e){var n=t.__data__;return AX(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Pg=TX,PX=Pg;function CX(t){var e=PX(this,t).delete(t);return this.size-=e?1:0,e}var OX=CX,RX=Pg;function NX(t){return RX(this,t).get(t)}var DX=NX,LX=Pg;function IX(t){return LX(this,t).has(t)}var kX=IX,UX=Pg;function FX(t,e){var n=UX(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var jX=FX,BX=wX,$X=OX,zX=DX,HX=kX,VX=jX;function yu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yu.prototype.clear=BX;yu.prototype.delete=$X;yu.prototype.get=zX;yu.prototype.has=HX;yu.prototype.set=VX;var E1=yu,IL=E1,GX="Expected a function";function M1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(GX);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(M1.Cache||IL),n}M1.Cache=IL;var kL=M1;const WX=It(kL);var XX=kL,qX=500;function YX(t){var e=XX(t,function(r){return n.size===qX&&n.clear(),r}),n=e.cache;return e}var KX=YX,ZX=KX,JX=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,QX=/\\(\\)?/g,eq=ZX(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(JX,function(n,r,i,o){e.push(i?o.replace(QX,"$1"):r||n)}),e}),tq=eq;function nq(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var A1=nq,WT=fh,rq=A1,iq=wr,oq=pu,aq=1/0,XT=WT?WT.prototype:void 0,qT=XT?XT.toString:void 0;function UL(t){if(typeof t=="string")return t;if(iq(t))return rq(t,UL)+"";if(oq(t))return qT?qT.call(t):"";var e=t+"";return e=="0"&&1/t==-aq?"-0":e}var sq=UL,lq=sq;function cq(t){return t==null?"":lq(t)}var FL=cq,uq=wr,fq=b1,dq=tq,hq=FL;function pq(t,e){return uq(t)?t:fq(t,e)?[t]:dq(hq(t))}var jL=pq,mq=pu,vq=1/0;function gq(t){if(typeof t=="string"||mq(t))return t;var e=t+"";return e=="0"&&1/t==-vq?"-0":e}var Cg=gq,yq=jL,xq=Cg;function bq(t,e){e=yq(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[xq(e[n++])];return n&&n==r?t:void 0}var T1=bq,_q=T1;function Sq(t,e,n){var r=t==null?void 0:_q(t,e);return r===void 0?n:r}var BL=Sq;const jr=It(BL);function wq(t){return t==null}var Eq=wq;const ft=It(Eq);var Mq=Ko,Aq=wr,Tq=Zo,Pq="[object String]";function Cq(t){return typeof t=="string"||!Aq(t)&&Tq(t)&&Mq(t)==Pq}var Oq=Cq;const dh=It(Oq);var $L={exports:{}},Ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1=Symbol.for("react.element"),C1=Symbol.for("react.portal"),Og=Symbol.for("react.fragment"),Rg=Symbol.for("react.strict_mode"),Ng=Symbol.for("react.profiler"),Dg=Symbol.for("react.provider"),Lg=Symbol.for("react.context"),Rq=Symbol.for("react.server_context"),Ig=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),Ug=Symbol.for("react.suspense_list"),Fg=Symbol.for("react.memo"),jg=Symbol.for("react.lazy"),Nq=Symbol.for("react.offscreen"),zL;zL=Symbol.for("react.module.reference");function ui(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case P1:switch(t=t.type,t){case Og:case Ng:case Rg:case kg:case Ug:return t;default:switch(t=t&&t.$$typeof,t){case Rq:case Lg:case Ig:case jg:case Fg:case Dg:return t;default:return e}}case C1:return e}}}Ut.ContextConsumer=Lg;Ut.ContextProvider=Dg;Ut.Element=P1;Ut.ForwardRef=Ig;Ut.Fragment=Og;Ut.Lazy=jg;Ut.Memo=Fg;Ut.Portal=C1;Ut.Profiler=Ng;Ut.StrictMode=Rg;Ut.Suspense=kg;Ut.SuspenseList=Ug;Ut.isAsyncMode=function(){return!1};Ut.isConcurrentMode=function(){return!1};Ut.isContextConsumer=function(t){return ui(t)===Lg};Ut.isContextProvider=function(t){return ui(t)===Dg};Ut.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===P1};Ut.isForwardRef=function(t){return ui(t)===Ig};Ut.isFragment=function(t){return ui(t)===Og};Ut.isLazy=function(t){return ui(t)===jg};Ut.isMemo=function(t){return ui(t)===Fg};Ut.isPortal=function(t){return ui(t)===C1};Ut.isProfiler=function(t){return ui(t)===Ng};Ut.isStrictMode=function(t){return ui(t)===Rg};Ut.isSuspense=function(t){return ui(t)===kg};Ut.isSuspenseList=function(t){return ui(t)===Ug};Ut.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Og||t===Ng||t===Rg||t===kg||t===Ug||t===Nq||typeof t=="object"&&t!==null&&(t.$$typeof===jg||t.$$typeof===Fg||t.$$typeof===Dg||t.$$typeof===Lg||t.$$typeof===Ig||t.$$typeof===zL||t.getModuleId!==void 0)};Ut.typeOf=ui;$L.exports=Ut;var Dq=$L.exports,Lq=Ko,Iq=Zo,kq="[object Number]";function Uq(t){return typeof t=="number"||Iq(t)&&Lq(t)==kq}var HL=Uq;const Fq=It(HL);var jq=HL;function Bq(t){return jq(t)&&t!=+t}var $q=Bq;const hh=It($q);var ar=function(e){return e===0?0:e>0?1:-1},Ts=function(e){return dh(e)&&e.indexOf("%")===e.length-1},Pe=function(e){return Fq(e)&&!hh(e)},On=function(e){return Pe(e)||dh(e)},zq=0,xu=function(e){var n=++zq;return"".concat(e||"").concat(n)},sr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(e)&&!dh(e))return r;var o;if(Ts(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return hh(o)&&(o=r),i&&o>n&&(o=n),o},ba=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Hq=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Dr=function(e,n){return Pe(e)&&Pe(n)?function(r){return e+r*(n-e)}:function(){return n}};function Gm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):jr(r,e))===n})}function mc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function u_(t){"@babel/helpers - typeof";return u_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u_(t)}var Vq=["viewBox","children"],Gq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YT=["points","pathLength"],U0={svg:Vq,polygon:YT,polyline:YT},O1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Wm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),!mu(r))return null;var i={};return Object.keys(r).forEach(function(o){O1.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Wq=function(e,n,r){return function(i){return e(n,r,i),null}},Ws=function(e,n,r){if(!mu(e)||u_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];O1.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Wq(a,n,r))}),i},Xq=["children"],qq=["children"];function KT(t,e){if(t==null)return{};var n=Yq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function f_(t){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f_(t)}var ZT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Lo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},JT=null,F0=null,R1=function t(e){if(e===JT&&Array.isArray(F0))return F0;var n=[];return C.Children.forEach(e,function(r){ft(r)||(Dq.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),F0=n,JT=e,n};function Br(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Lo(i)}):r=[Lo(e)],R1(t).forEach(function(i){var o=jr(i,"type.displayName")||jr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Rr(t,e){var n=Br(t,e);return n&&n[0]}var QT=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Pe(r)||r<=0||!Pe(i)||i<=0)},Kq=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Zq=function(e){return e&&e.type&&dh(e.type)&&Kq.indexOf(e.type)>=0},Jq=function(e){return e&&f_(e)==="object"&&"clipDot"in e},Qq=function(e,n,r,i){var o,a=(o=U0==null?void 0:U0[i])!==null&&o!==void 0?o:[];return!lt(e)&&(i&&a.includes(n)||Gq.includes(n))||r&&O1.includes(n)},et=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!mu(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Qq((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},d_=function t(e,n){if(e===n)return!0;var r=C.Children.count(e);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return eP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!eP(o,a))return!1}return!0},eP=function(e,n){if(ft(e)&&ft(n))return!0;if(!ft(e)&&!ft(n)){var r=e.props||{},i=r.children,o=KT(r,Xq),a=n.props||{},s=a.children,l=KT(a,qq);return i&&s?mc(o,l)&&d_(i,s):!i&&!s?mc(o,l):!1}return!1},tP=function(e,n){var r=[],i={};return R1(e).forEach(function(o,a){if(Zq(o))r.push(o);else if(o){var s=Lo(o.type),l=n[s]||{},c=l.handler,f=l.once;if(c&&(!f||!i[s])){var u=c(o,s,a);r.push(u),i[s]=!0}}}),r},eY=function(e){var n=e&&e.type;return n&&ZT[n]?ZT[n]:null},tY=function(e,n){return R1(n).indexOf(e)},nY=["children","width","height","viewBox","className","style","title","desc"];function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(this,arguments)}function rY(t,e){if(t==null)return{};var n=iY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function p_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=rY(t,nY),f=i||{width:n,height:r,x:0,y:0},u=vt("recharts-surface",o);return H.createElement("svg",h_({},et(c,!0,"svg"),{className:u,width:n,height:r,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),H.createElement("title",null,s),H.createElement("desc",null,l),e)}var oY=["children","className"];function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(this,arguments)}function aY(t,e){if(t==null)return{};var n=sY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ct=H.forwardRef(function(t,e){var n=t.children,r=t.className,i=aY(t,oY),o=vt("recharts-layer",r);return H.createElement("g",m_({className:o},et(i,!0),{ref:e}),n)}),Ui=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function lY(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var cY=lY,uY=cY;function fY(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:uY(t,e,n)}var dY=fY,hY="\\ud800-\\udfff",pY="\\u0300-\\u036f",mY="\\ufe20-\\ufe2f",vY="\\u20d0-\\u20ff",gY=pY+mY+vY,yY="\\ufe0e\\ufe0f",xY="\\u200d",bY=RegExp("["+xY+hY+gY+yY+"]");function _Y(t){return bY.test(t)}var VL=_Y;function SY(t){return t.split("")}var wY=SY,GL="\\ud800-\\udfff",EY="\\u0300-\\u036f",MY="\\ufe20-\\ufe2f",AY="\\u20d0-\\u20ff",TY=EY+MY+AY,PY="\\ufe0e\\ufe0f",CY="["+GL+"]",v_="["+TY+"]",g_="\\ud83c[\\udffb-\\udfff]",OY="(?:"+v_+"|"+g_+")",WL="[^"+GL+"]",XL="(?:\\ud83c[\\udde6-\\uddff]){2}",qL="[\\ud800-\\udbff][\\udc00-\\udfff]",RY="\\u200d",YL=OY+"?",KL="["+PY+"]?",NY="(?:"+RY+"(?:"+[WL,XL,qL].join("|")+")"+KL+YL+")*",DY=KL+YL+NY,LY="(?:"+[WL+v_+"?",v_,XL,qL,CY].join("|")+")",IY=RegExp(g_+"(?="+g_+")|"+LY+DY,"g");function kY(t){return t.match(IY)||[]}var UY=kY,FY=wY,jY=VL,BY=UY;function $Y(t){return jY(t)?BY(t):FY(t)}var zY=$Y,HY=dY,VY=VL,GY=zY,WY=FL;function XY(t){return function(e){e=WY(e);var n=VY(e)?GY(e):void 0,r=n?n[0]:e.charAt(0),i=n?HY(n,1).join(""):e.slice(1);return r[t]()+i}}var qY=XY,YY=qY,KY=YY("toUpperCase"),ZY=KY;const Bg=It(ZY);function Wt(t){return function(){return t}}const ZL=Math.cos,Xm=Math.sin,zi=Math.sqrt,qm=Math.PI,$g=2*qm,y_=Math.PI,x_=2*y_,hs=1e-6,JY=x_-hs;function JL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function QY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return JL;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class eK{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?JL:QY(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,c=i-n,f=a-e,u=s-n,d=f*f+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>hs)if(!(Math.abs(u*l-c*f)>hs)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-a,m=i-s,v=l*l+c*c,g=h*h+m*m,p=Math.sqrt(v),x=Math.sqrt(d),y=o*Math.tan((y_-Math.acos((v+d-g)/(2*p*x)))/2),b=y/x,S=y/p;Math.abs(b-1)>hs&&this._append`L${e+b*f},${n+b*u}`,this._append`A${o},${o},0,0,${+(u*h>f*m)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,f=n+l,u=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>hs||Math.abs(this._y1-f)>hs)&&this._append`L${c},${f}`,r&&(d<0&&(d=d%x_+x_),d>JY?this._append`A${r},${r},0,1,${u},${e-s},${n-l}A${r},${r},0,1,${u},${this._x1=c},${this._y1=f}`:d>hs&&this._append`A${r},${r},0,${+(d>=y_)},${u},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function N1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new eK(e)}function D1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function QL(t){this._context=t}QL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function zg(t){return new QL(t)}function eI(t){return t[0]}function tI(t){return t[1]}function nI(t,e){var n=Wt(!0),r=null,i=zg,o=null,a=N1(s);t=typeof t=="function"?t:t===void 0?eI:Wt(t),e=typeof e=="function"?e:e===void 0?tI:Wt(e);function s(l){var c,f=(l=D1(l)).length,u,d=!1,h;for(r==null&&(o=i(h=a())),c=0;c<=f;++c)!(c<f&&n(u=l[c],c,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(u,c,l),+e(u,c,l));if(h)return o=null,h+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Wt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Wt(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Wt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Mp(t,e,n){var r=null,i=Wt(!0),o=null,a=zg,s=null,l=N1(c);t=typeof t=="function"?t:t===void 0?eI:Wt(+t),e=typeof e=="function"?e:Wt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?tI:Wt(+n);function c(u){var d,h,m,v=(u=D1(u)).length,g,p=!1,x,y=new Array(v),b=new Array(v);for(o==null&&(s=a(x=l())),d=0;d<=v;++d){if(!(d<v&&i(g=u[d],d,u))===p)if(p=!p)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=h;--m)s.point(y[m],b[m]);s.lineEnd(),s.areaEnd()}p&&(y[d]=+t(g,d,u),b[d]=+e(g,d,u),s.point(r?+r(g,d,u):y[d],n?+n(g,d,u):b[d]))}if(x)return s=null,x+""||null}function f(){return nI().defined(i).curve(a).context(o)}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:Wt(+u),r=null,c):t},c.x0=function(u){return arguments.length?(t=typeof u=="function"?u:Wt(+u),c):t},c.x1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Wt(+u),c):r},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:Wt(+u),n=null,c):e},c.y0=function(u){return arguments.length?(e=typeof u=="function"?u:Wt(+u),c):e},c.y1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:Wt(+u),c):n},c.lineX0=c.lineY0=function(){return f().x(t).y(e)},c.lineY1=function(){return f().x(t).y(n)},c.lineX1=function(){return f().x(r).y(e)},c.defined=function(u){return arguments.length?(i=typeof u=="function"?u:Wt(!!u),c):i},c.curve=function(u){return arguments.length?(a=u,o!=null&&(s=a(o)),c):a},c.context=function(u){return arguments.length?(u==null?o=s=null:s=a(o=u),c):o},c}class rI{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function tK(t){return new rI(t,!0)}function nK(t){return new rI(t,!1)}const L1={draw(t,e){const n=zi(e/qm);t.moveTo(n,0),t.arc(0,0,n,0,$g)}},rK={draw(t,e){const n=zi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},iI=zi(1/3),iK=iI*2,oK={draw(t,e){const n=zi(e/iK),r=n*iI;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},aK={draw(t,e){const n=zi(e),r=-n/2;t.rect(r,r,n,n)}},sK=.8908130915292852,oI=Xm(qm/10)/Xm(7*qm/10),lK=Xm($g/10)*oI,cK=-ZL($g/10)*oI,uK={draw(t,e){const n=zi(e*sK),r=lK*n,i=cK*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=$g*o/5,s=ZL(a),l=Xm(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},j0=zi(3),fK={draw(t,e){const n=-zi(e/(j0*3));t.moveTo(0,n*2),t.lineTo(-j0*n,-n),t.lineTo(j0*n,-n),t.closePath()}},Yr=-.5,Kr=zi(3)/2,b_=1/zi(12),dK=(b_/2+1)*3,hK={draw(t,e){const n=zi(e/dK),r=n/2,i=n*b_,o=r,a=n*b_+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Yr*r-Kr*i,Kr*r+Yr*i),t.lineTo(Yr*o-Kr*a,Kr*o+Yr*a),t.lineTo(Yr*s-Kr*l,Kr*s+Yr*l),t.lineTo(Yr*r+Kr*i,Yr*i-Kr*r),t.lineTo(Yr*o+Kr*a,Yr*a-Kr*o),t.lineTo(Yr*s+Kr*l,Yr*l-Kr*s),t.closePath()}};function pK(t,e){let n=null,r=N1(i);t=typeof t=="function"?t:Wt(t||L1),e=typeof e=="function"?e:Wt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Wt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Wt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Ym(){}function Km(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function aI(t){this._context=t}aI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Km(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Km(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mK(t){return new aI(t)}function sI(t){this._context=t}sI.prototype={areaStart:Ym,areaEnd:Ym,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Km(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vK(t){return new sI(t)}function lI(t){this._context=t}lI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Km(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gK(t){return new lI(t)}function cI(t){this._context=t}cI.prototype={areaStart:Ym,areaEnd:Ym,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function yK(t){return new cI(t)}function nP(t){return t<0?-1:1}function rP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(nP(o)+nP(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function iP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function B0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Zm(t){this._context=t}Zm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:B0(this,this._t0,iP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,B0(this,iP(this,n=rP(this,t,e)),n);break;default:B0(this,this._t0,n=rP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function uI(t){this._context=new fI(t)}(uI.prototype=Object.create(Zm.prototype)).point=function(t,e){Zm.prototype.point.call(this,e,t)};function fI(t){this._context=t}fI.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function xK(t){return new Zm(t)}function bK(t){return new uI(t)}function dI(t){this._context=t}dI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=oP(t),i=oP(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function oP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function _K(t){return new dI(t)}function Hg(t,e){this._context=t,this._t=e}Hg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function SK(t){return new Hg(t,.5)}function wK(t){return new Hg(t,0)}function EK(t){return new Hg(t,1)}function Ic(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function __(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function MK(t,e){return t[e]}function AK(t){const e=[];return e.key=t,e}function TK(){var t=Wt([]),e=__,n=Ic,r=MK;function i(o){var a=Array.from(t.apply(this,arguments),AK),s,l=a.length,c=-1,f;for(const u of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(u,a[s].key,c,o)]).data=u;for(s=0,f=D1(e(a));s<l;++s)a[f[s]].index=s;return n(a,f),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Wt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Wt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?__:typeof o=="function"?o:Wt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ic,i):n},i}function PK(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Ic(t,e)}}function CK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Ic(t,e)}}function OK(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var f=t[e[s]],u=f[r][1]||0,d=f[r-1][1]||0,h=(u-d)/2,m=0;m<s;++m){var v=t[e[m]],g=v[r][1]||0,p=v[r-1][1]||0;h+=g-p}l+=u,c+=h*u}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Ic(t,e)}}function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}var RK=["type","size","sizeType"];function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_.apply(this,arguments)}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){NK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NK(t,e,n){return e=DK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DK(t){var e=LK(t,"string");return pd(e)=="symbol"?e:e+""}function LK(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IK(t,e){if(t==null)return{};var n=kK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hI={symbolCircle:L1,symbolCross:rK,symbolDiamond:oK,symbolSquare:aK,symbolStar:uK,symbolTriangle:fK,symbolWye:hK},UK=Math.PI/180,FK=function(e){var n="symbol".concat(Bg(e));return hI[n]||L1},jK=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*UK;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},BK=function(e,n){hI["symbol".concat(Bg(e))]=n},I1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=IK(e,RK),c=sP(sP({},l),{},{type:r,size:o,sizeType:s}),f=function(){var g=FK(r),p=pK().type(g).size(jK(o,s,r));return p()},u=c.className,d=c.cx,h=c.cy,m=et(c,!0);return d===+d&&h===+h&&o===+o?H.createElement("path",S_({},m,{className:vt("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(h,")"),d:f()})):null};I1.registerSymbol=BK;function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $K(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){md(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mI(r.key),r)}}function VK(t,e,n){return e&&HK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GK(t,e,n){return e=Jm(e),WK(t,pI()?Reflect.construct(e,n||[],Jm(t).constructor):e.apply(t,n))}function WK(t,e){if(e&&(kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XK(t)}function XK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pI=function(){return!!t})()}function Jm(t){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jm(t)}function qK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}function E_(t,e){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E_(t,e)}function md(t,e,n){return e=mI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mI(t){var e=YK(t,"string");return kc(e)=="symbol"?e:e+""}function YK(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zr=32,k1=function(t){function e(){return zK(this,e),GK(this,e,arguments)}return qK(e,t),VK(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Zr/2,a=Zr/6,s=Zr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Zr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Zr,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return H.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Zr/8,"h").concat(Zr,"v").concat(Zr*3/4,"h").concat(-Zr,"z"),className:"recharts-legend-icon"});if(H.isValidElement(r.legendIcon)){var c=$K({},r);return delete c.legendIcon,H.cloneElement(r.legendIcon,c)}return H.createElement(I1,{fill:l,cx:o,cy:o,size:Zr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,f={x:0,y:0,width:Zr,height:Zr},u={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(h,m){var v=h.formatter||l,g=vt(md(md({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",h.inactive));if(h.type==="none")return null;var p=lt(h.value)?null:h.value;Ui(!lt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=h.inactive?c:h.color;return H.createElement("li",w_({className:g,style:u,key:"legend-item-".concat(m)},Ws(r.props,h,m)),H.createElement(p_,{width:a,height:a,viewBox:f,style:d},r.renderIcon(h)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},v?v(p,h,m):p))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(C.PureComponent);md(k1,"displayName","Legend");md(k1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var KK=Tg;function ZK(){this.__data__=new KK,this.size=0}var JK=ZK;function QK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var eZ=QK;function tZ(t){return this.__data__.get(t)}var nZ=tZ;function rZ(t){return this.__data__.has(t)}var iZ=rZ,oZ=Tg,aZ=w1,sZ=E1,lZ=200;function cZ(t,e){var n=this.__data__;if(n instanceof oZ){var r=n.__data__;if(!aZ||r.length<lZ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new sZ(r)}return n.set(t,e),this.size=n.size,this}var uZ=cZ,fZ=Tg,dZ=JK,hZ=eZ,pZ=nZ,mZ=iZ,vZ=uZ;function bu(t){var e=this.__data__=new fZ(t);this.size=e.size}bu.prototype.clear=dZ;bu.prototype.delete=hZ;bu.prototype.get=pZ;bu.prototype.has=mZ;bu.prototype.set=vZ;var vI=bu,gZ="__lodash_hash_undefined__";function yZ(t){return this.__data__.set(t,gZ),this}var xZ=yZ;function bZ(t){return this.__data__.has(t)}var _Z=bZ,SZ=E1,wZ=xZ,EZ=_Z;function Qm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new SZ;++e<n;)this.add(t[e])}Qm.prototype.add=Qm.prototype.push=wZ;Qm.prototype.has=EZ;var gI=Qm;function MZ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var yI=MZ;function AZ(t,e){return t.has(e)}var xI=AZ,TZ=gI,PZ=yI,CZ=xI,OZ=1,RZ=2;function NZ(t,e,n,r,i,o){var a=n&OZ,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),f=o.get(e);if(c&&f)return c==e&&f==t;var u=-1,d=!0,h=n&RZ?new TZ:void 0;for(o.set(t,e),o.set(e,t);++u<s;){var m=t[u],v=e[u];if(r)var g=a?r(v,m,u,e,t,o):r(m,v,u,t,e,o);if(g!==void 0){if(g)continue;d=!1;break}if(h){if(!PZ(e,function(p,x){if(!CZ(h,x)&&(m===p||i(m,p,n,r,o)))return h.push(x)})){d=!1;break}}else if(!(m===v||i(m,v,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var bI=NZ,DZ=lo,LZ=DZ.Uint8Array,IZ=LZ;function kZ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var UZ=kZ;function FZ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var U1=FZ,cP=fh,uP=IZ,jZ=S1,BZ=bI,$Z=UZ,zZ=U1,HZ=1,VZ=2,GZ="[object Boolean]",WZ="[object Date]",XZ="[object Error]",qZ="[object Map]",YZ="[object Number]",KZ="[object RegExp]",ZZ="[object Set]",JZ="[object String]",QZ="[object Symbol]",eJ="[object ArrayBuffer]",tJ="[object DataView]",fP=cP?cP.prototype:void 0,$0=fP?fP.valueOf:void 0;function nJ(t,e,n,r,i,o,a){switch(n){case tJ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case eJ:return!(t.byteLength!=e.byteLength||!o(new uP(t),new uP(e)));case GZ:case WZ:case YZ:return jZ(+t,+e);case XZ:return t.name==e.name&&t.message==e.message;case KZ:case JZ:return t==e+"";case qZ:var s=$Z;case ZZ:var l=r&HZ;if(s||(s=zZ),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=VZ,a.set(t,e);var f=BZ(s(t),s(e),r,i,o,a);return a.delete(t),f;case QZ:if($0)return $0.call(t)==$0.call(e)}return!1}var rJ=nJ;function iJ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var _I=iJ,oJ=_I,aJ=wr;function sJ(t,e,n){var r=e(t);return aJ(t)?r:oJ(r,n(t))}var lJ=sJ;function cJ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var uJ=cJ;function fJ(){return[]}var dJ=fJ,hJ=uJ,pJ=dJ,mJ=Object.prototype,vJ=mJ.propertyIsEnumerable,dP=Object.getOwnPropertySymbols,gJ=dP?function(t){return t==null?[]:(t=Object(t),hJ(dP(t),function(e){return vJ.call(t,e)}))}:pJ,yJ=gJ;function xJ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var bJ=xJ,_J=Ko,SJ=Zo,wJ="[object Arguments]";function EJ(t){return SJ(t)&&_J(t)==wJ}var MJ=EJ,hP=MJ,AJ=Zo,SI=Object.prototype,TJ=SI.hasOwnProperty,PJ=SI.propertyIsEnumerable,CJ=hP(function(){return arguments}())?hP:function(t){return AJ(t)&&TJ.call(t,"callee")&&!PJ.call(t,"callee")},F1=CJ,ev={exports:{}};function OJ(){return!1}var RJ=OJ;ev.exports;(function(t,e){var n=lo,r=RJ,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(ev,ev.exports);var wI=ev.exports,NJ=9007199254740991,DJ=/^(?:0|[1-9]\d*)$/;function LJ(t,e){var n=typeof t;return e=e??NJ,!!e&&(n=="number"||n!="symbol"&&DJ.test(t))&&t>-1&&t%1==0&&t<e}var j1=LJ,IJ=9007199254740991;function kJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=IJ}var B1=kJ,UJ=Ko,FJ=B1,jJ=Zo,BJ="[object Arguments]",$J="[object Array]",zJ="[object Boolean]",HJ="[object Date]",VJ="[object Error]",GJ="[object Function]",WJ="[object Map]",XJ="[object Number]",qJ="[object Object]",YJ="[object RegExp]",KJ="[object Set]",ZJ="[object String]",JJ="[object WeakMap]",QJ="[object ArrayBuffer]",eQ="[object DataView]",tQ="[object Float32Array]",nQ="[object Float64Array]",rQ="[object Int8Array]",iQ="[object Int16Array]",oQ="[object Int32Array]",aQ="[object Uint8Array]",sQ="[object Uint8ClampedArray]",lQ="[object Uint16Array]",cQ="[object Uint32Array]",Qt={};Qt[tQ]=Qt[nQ]=Qt[rQ]=Qt[iQ]=Qt[oQ]=Qt[aQ]=Qt[sQ]=Qt[lQ]=Qt[cQ]=!0;Qt[BJ]=Qt[$J]=Qt[QJ]=Qt[zJ]=Qt[eQ]=Qt[HJ]=Qt[VJ]=Qt[GJ]=Qt[WJ]=Qt[XJ]=Qt[qJ]=Qt[YJ]=Qt[KJ]=Qt[ZJ]=Qt[JJ]=!1;function uQ(t){return jJ(t)&&FJ(t.length)&&!!Qt[UJ(t)]}var fQ=uQ;function dQ(t){return function(e){return t(e)}}var EI=dQ,tv={exports:{}};tv.exports;(function(t,e){var n=NL,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(tv,tv.exports);var hQ=tv.exports,pQ=fQ,mQ=EI,pP=hQ,mP=pP&&pP.isTypedArray,vQ=mP?mQ(mP):pQ,MI=vQ,gQ=bJ,yQ=F1,xQ=wr,bQ=wI,_Q=j1,SQ=MI,wQ=Object.prototype,EQ=wQ.hasOwnProperty;function MQ(t,e){var n=xQ(t),r=!n&&yQ(t),i=!n&&!r&&bQ(t),o=!n&&!r&&!i&&SQ(t),a=n||r||i||o,s=a?gQ(t.length,String):[],l=s.length;for(var c in t)(e||EQ.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||_Q(c,l)))&&s.push(c);return s}var AQ=MQ,TQ=Object.prototype;function PQ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||TQ;return t===n}var CQ=PQ;function OQ(t,e){return function(n){return t(e(n))}}var AI=OQ,RQ=AI,NQ=RQ(Object.keys,Object),DQ=NQ,LQ=CQ,IQ=DQ,kQ=Object.prototype,UQ=kQ.hasOwnProperty;function FQ(t){if(!LQ(t))return IQ(t);var e=[];for(var n in Object(t))UQ.call(t,n)&&n!="constructor"&&e.push(n);return e}var jQ=FQ,BQ=_1,$Q=B1;function zQ(t){return t!=null&&$Q(t.length)&&!BQ(t)}var ph=zQ,HQ=AQ,VQ=jQ,GQ=ph;function WQ(t){return GQ(t)?HQ(t):VQ(t)}var Vg=WQ,XQ=lJ,qQ=yJ,YQ=Vg;function KQ(t){return XQ(t,YQ,qQ)}var ZQ=KQ,vP=ZQ,JQ=1,QQ=Object.prototype,eee=QQ.hasOwnProperty;function tee(t,e,n,r,i,o){var a=n&JQ,s=vP(t),l=s.length,c=vP(e),f=c.length;if(l!=f&&!a)return!1;for(var u=l;u--;){var d=s[u];if(!(a?d in e:eee.call(e,d)))return!1}var h=o.get(t),m=o.get(e);if(h&&m)return h==e&&m==t;var v=!0;o.set(t,e),o.set(e,t);for(var g=a;++u<l;){d=s[u];var p=t[d],x=e[d];if(r)var y=a?r(x,p,d,e,t,o):r(p,x,d,t,e,o);if(!(y===void 0?p===x||i(p,x,n,r,o):y)){v=!1;break}g||(g=d=="constructor")}if(v&&!g){var b=t.constructor,S=e.constructor;b!=S&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(v=!1)}return o.delete(t),o.delete(e),v}var nee=tee,ree=ol,iee=lo,oee=ree(iee,"DataView"),aee=oee,see=ol,lee=lo,cee=see(lee,"Promise"),uee=cee,fee=ol,dee=lo,hee=fee(dee,"Set"),TI=hee,pee=ol,mee=lo,vee=pee(mee,"WeakMap"),gee=vee,M_=aee,A_=w1,T_=uee,P_=TI,C_=gee,PI=Ko,_u=LL,gP="[object Map]",yee="[object Object]",yP="[object Promise]",xP="[object Set]",bP="[object WeakMap]",_P="[object DataView]",xee=_u(M_),bee=_u(A_),_ee=_u(T_),See=_u(P_),wee=_u(C_),ps=PI;(M_&&ps(new M_(new ArrayBuffer(1)))!=_P||A_&&ps(new A_)!=gP||T_&&ps(T_.resolve())!=yP||P_&&ps(new P_)!=xP||C_&&ps(new C_)!=bP)&&(ps=function(t){var e=PI(t),n=e==yee?t.constructor:void 0,r=n?_u(n):"";if(r)switch(r){case xee:return _P;case bee:return gP;case _ee:return yP;case See:return xP;case wee:return bP}return e});var Eee=ps,z0=vI,Mee=bI,Aee=rJ,Tee=nee,SP=Eee,wP=wr,EP=wI,Pee=MI,Cee=1,MP="[object Arguments]",AP="[object Array]",Ap="[object Object]",Oee=Object.prototype,TP=Oee.hasOwnProperty;function Ree(t,e,n,r,i,o){var a=wP(t),s=wP(e),l=a?AP:SP(t),c=s?AP:SP(e);l=l==MP?Ap:l,c=c==MP?Ap:c;var f=l==Ap,u=c==Ap,d=l==c;if(d&&EP(t)){if(!EP(e))return!1;a=!0,f=!1}if(d&&!f)return o||(o=new z0),a||Pee(t)?Mee(t,e,n,r,i,o):Aee(t,e,l,n,r,i,o);if(!(n&Cee)){var h=f&&TP.call(t,"__wrapped__"),m=u&&TP.call(e,"__wrapped__");if(h||m){var v=h?t.value():t,g=m?e.value():e;return o||(o=new z0),i(v,g,n,r,o)}}return d?(o||(o=new z0),Tee(t,e,n,r,i,o)):!1}var Nee=Ree,Dee=Nee,PP=Zo;function CI(t,e,n,r,i){return t===e?!0:t==null||e==null||!PP(t)&&!PP(e)?t!==t&&e!==e:Dee(t,e,n,r,CI,i)}var $1=CI,Lee=vI,Iee=$1,kee=1,Uee=2;function Fee(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],c=t[l],f=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var u=new Lee;if(r)var d=r(c,f,l,t,e,u);if(!(d===void 0?Iee(f,c,kee|Uee,r,u):d))return!1}}return!0}var jee=Fee,Bee=Ya;function $ee(t){return t===t&&!Bee(t)}var OI=$ee,zee=OI,Hee=Vg;function Vee(t){for(var e=Hee(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,zee(i)]}return e}var Gee=Vee;function Wee(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var RI=Wee,Xee=jee,qee=Gee,Yee=RI;function Kee(t){var e=qee(t);return e.length==1&&e[0][2]?Yee(e[0][0],e[0][1]):function(n){return n===t||Xee(n,t,e)}}var Zee=Kee;function Jee(t,e){return t!=null&&e in Object(t)}var Qee=Jee,ete=jL,tte=F1,nte=wr,rte=j1,ite=B1,ote=Cg;function ate(t,e,n){e=ete(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=ote(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&ite(i)&&rte(a,i)&&(nte(t)||tte(t)))}var ste=ate,lte=Qee,cte=ste;function ute(t,e){return t!=null&&cte(t,e,lte)}var fte=ute,dte=$1,hte=BL,pte=fte,mte=b1,vte=OI,gte=RI,yte=Cg,xte=1,bte=2;function _te(t,e){return mte(t)&&vte(e)?gte(yte(t),e):function(n){var r=hte(n,t);return r===void 0&&r===e?pte(n,t):dte(e,r,xte|bte)}}var Ste=_te;function wte(t){return t}var Su=wte;function Ete(t){return function(e){return e==null?void 0:e[t]}}var Mte=Ete,Ate=T1;function Tte(t){return function(e){return Ate(e,t)}}var Pte=Tte,Cte=Mte,Ote=Pte,Rte=b1,Nte=Cg;function Dte(t){return Rte(t)?Cte(Nte(t)):Ote(t)}var Lte=Dte,Ite=Zee,kte=Ste,Ute=Su,Fte=wr,jte=Lte;function Bte(t){return typeof t=="function"?t:t==null?Ute:typeof t=="object"?Fte(t)?kte(t[0],t[1]):Ite(t):jte(t)}var co=Bte;function $te(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var NI=$te;function zte(t){return t!==t}var Hte=zte;function Vte(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Gte=Vte,Wte=NI,Xte=Hte,qte=Gte;function Yte(t,e,n){return e===e?qte(t,e,n):Wte(t,Xte,n)}var Kte=Yte,Zte=Kte;function Jte(t,e){var n=t==null?0:t.length;return!!n&&Zte(t,e,0)>-1}var Qte=Jte;function ene(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var tne=ene;function nne(){}var rne=nne,H0=TI,ine=rne,one=U1,ane=1/0,sne=H0&&1/one(new H0([,-0]))[1]==ane?function(t){return new H0(t)}:ine,lne=sne,cne=gI,une=Qte,fne=tne,dne=xI,hne=lne,pne=U1,mne=200;function vne(t,e,n){var r=-1,i=une,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=fne;else if(o>=mne){var c=e?null:hne(t);if(c)return pne(c);a=!1,i=dne,l=new cne}else l=e?[]:s;e:for(;++r<o;){var f=t[r],u=e?e(f):f;if(f=n||f!==0?f:0,a&&u===u){for(var d=l.length;d--;)if(l[d]===u)continue e;e&&l.push(u),s.push(f)}else i(l,u,n)||(l!==s&&l.push(u),s.push(f))}return s}var gne=vne,yne=co,xne=gne;function bne(t,e){return t&&t.length?xne(t,yne(e)):[]}var _ne=bne;const CP=It(_ne);function DI(t,e,n){return e===!0?CP(t,n):lt(e)?CP(t,e):t}function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}var Sne=["ref"];function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){Gg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,II(r.key),r)}}function Ene(t,e,n){return e&&RP(t.prototype,e),n&&RP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mne(t,e,n){return e=nv(e),Ane(t,LI()?Reflect.construct(e,n||[],nv(t).constructor):e.apply(t,n))}function Ane(t,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tne(t)}function Tne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LI=function(){return!!t})()}function nv(t){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nv(t)}function Pne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function Gg(t,e,n){return e=II(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function II(t){var e=Cne(t,"string");return Uc(e)=="symbol"?e:e+""}function Cne(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function One(t,e){if(t==null)return{};var n=Rne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nne(t){return t.value}function Dne(t,e){if(H.isValidElement(t))return H.cloneElement(t,e);if(typeof t=="function")return H.createElement(t,e);e.ref;var n=One(e,Sne);return H.createElement(k1,n)}var NP=1,Ia=function(t){function e(){var n;wne(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Mne(this,e,[].concat(i)),Gg(n,"lastBoundingBox",{width:-1,height:-1}),n}return Pne(e,t),Ene(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>NP||Math.abs(i.height-this.lastBoundingBox.height)>NP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,f=i.chartHeight,u,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var h=this.getBBoxSnapshot();u={left:((c||0)-h.width)/2}}else u=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();d={top:((f||0)-m.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return yo(yo({},u),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,f=i.payload,u=yo(yo({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return H.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(h){r.wrapperNode=h}},Dne(o,yo(yo({},this.props),{},{payload:DI(f,c,Nne)})))}}],[{key:"getWithHeight",value:function(r,i){var o=yo(yo({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Pe(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(C.PureComponent);Gg(Ia,"displayName","Legend");Gg(Ia,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var DP=fh,Lne=F1,Ine=wr,LP=DP?DP.isConcatSpreadable:void 0;function kne(t){return Ine(t)||Lne(t)||!!(LP&&t&&t[LP])}var Une=kne,Fne=_I,jne=Une;function kI(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=jne),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?kI(s,e-1,n,r,i):Fne(i,s):r||(i[i.length]=s)}return i}var UI=kI;function Bne(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var $ne=Bne,zne=$ne,Hne=zne(),Vne=Hne,Gne=Vne,Wne=Vg;function Xne(t,e){return t&&Gne(t,e,Wne)}var FI=Xne,qne=ph;function Yne(t,e){return function(n,r){if(n==null)return n;if(!qne(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var Kne=Yne,Zne=FI,Jne=Kne,Qne=Jne(Zne),z1=Qne,ere=z1,tre=ph;function nre(t,e){var n=-1,r=tre(t)?Array(t.length):[];return ere(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var jI=nre;function rre(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var ire=rre,IP=pu;function ore(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=IP(t),a=e!==void 0,s=e===null,l=e===e,c=IP(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var are=ore,sre=are;function lre(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=sre(i[r],o[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var cre=lre,V0=A1,ure=T1,fre=co,dre=jI,hre=ire,pre=EI,mre=cre,vre=Su,gre=wr;function yre(t,e,n){e.length?e=V0(e,function(o){return gre(o)?function(a){return ure(a,o.length===1?o[0]:o)}:o}):e=[vre];var r=-1;e=V0(e,pre(fre));var i=dre(t,function(o,a,s){var l=V0(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return hre(i,function(o,a){return mre(o,a,n)})}var xre=yre;function bre(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var _re=bre,Sre=_re,kP=Math.max;function wre(t,e,n){return e=kP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=kP(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Sre(t,this,s)}}var Ere=wre;function Mre(t){return function(){return t}}var Are=Mre,Tre=ol,Pre=function(){try{var t=Tre(Object,"defineProperty");return t({},"",{}),t}catch{}}(),BI=Pre,Cre=Are,UP=BI,Ore=Su,Rre=UP?function(t,e){return UP(t,"toString",{configurable:!0,enumerable:!1,value:Cre(e),writable:!0})}:Ore,Nre=Rre,Dre=800,Lre=16,Ire=Date.now;function kre(t){var e=0,n=0;return function(){var r=Ire(),i=Lre-(r-n);if(n=r,i>0){if(++e>=Dre)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ure=kre,Fre=Nre,jre=Ure,Bre=jre(Fre),$re=Bre,zre=Su,Hre=Ere,Vre=$re;function Gre(t,e){return Vre(Hre(t,e,zre),t+"")}var Wre=Gre,Xre=S1,qre=ph,Yre=j1,Kre=Ya;function Zre(t,e,n){if(!Kre(n))return!1;var r=typeof e;return(r=="number"?qre(n)&&Yre(e,n.length):r=="string"&&e in n)?Xre(n[e],t):!1}var Wg=Zre,Jre=UI,Qre=xre,eie=Wre,FP=Wg,tie=eie(function(t,e){if(t==null)return[];var n=e.length;return n>1&&FP(t,e[0],e[1])?e=[]:n>2&&FP(e[0],e[1],e[2])&&(e=[e[0]]),Qre(t,Jre(e,1),[])}),nie=tie;const H1=It(nie);function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function rie(t,e){return sie(t)||aie(t,e)||oie(t,e)||iie()}function iie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oie(t,e){if(t){if(typeof t=="string")return jP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jP(t,e)}}function jP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function sie(t){if(Array.isArray(t))return t}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){lie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lie(t,e,n){return e=cie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cie(t){var e=uie(t,"string");return vd(e)=="symbol"?e:e+""}function uie(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fie(t){return Array.isArray(t)&&On(t[0])&&On(t[1])?t.join(" ~ "):t}var die=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,f=e.payload,u=e.formatter,d=e.itemSorter,h=e.wrapperClassName,m=e.labelClassName,v=e.label,g=e.labelFormatter,p=e.accessibilityLayer,x=p===void 0?!1:p,y=function(){if(f&&f.length){var O={padding:0,margin:0},L=(d?H1(f,d):f).map(function(I,j){if(I.type==="none")return null;var F=G0({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},s),B=I.formatter||u||fie,D=I.value,z=I.name,W=D,J=z;if(B&&W!=null&&J!=null){var ie=B(D,z,I,j,f);if(Array.isArray(ie)){var xe=rie(ie,2);W=xe[0],J=xe[1]}else W=ie}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:F},On(J)?H.createElement("span",{className:"recharts-tooltip-item-name"},J):null,On(J)?H.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,H.createElement("span",{className:"recharts-tooltip-item-value"},W),H.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},b=G0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=G0({margin:0},c),_=!ft(v),w=_?v:"",T=vt("recharts-default-tooltip",h),M=vt("recharts-tooltip-label",m);_&&g&&f!==void 0&&f!==null&&(w=g(v,f));var A=x?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",R_({className:T,style:b},A),H.createElement("p",{className:M,style:S},H.isValidElement(w)?w:"".concat(w)),y())};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function Tp(t,e,n){return e=hie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hie(t){var e=pie(t,"string");return gd(e)=="symbol"?e:e+""}function pie(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ju="recharts-tooltip-wrapper",mie={visibility:"hidden"};function vie(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return vt(Ju,Tp(Tp(Tp(Tp({},"".concat(Ju,"-right"),Pe(n)&&e&&Pe(e.x)&&n>=e.x),"".concat(Ju,"-left"),Pe(n)&&e&&Pe(e.x)&&n<e.x),"".concat(Ju,"-bottom"),Pe(r)&&e&&Pe(e.y)&&r>=e.y),"".concat(Ju,"-top"),Pe(r)&&e&&Pe(e.y)&&r<e.y))}function $P(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&Pe(o[r]))return o[r];var f=n[r]-s-i,u=n[r]+i;if(e[r])return a[r]?f:u;if(a[r]){var d=f,h=l[r];return d<h?Math.max(u,l[r]):Math.max(f,l[r])}var m=u+s,v=l[r]+c;return m>v?Math.max(f,l[r]):Math.max(u,l[r])}function gie(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function yie(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,f,u;return a.height>0&&a.width>0&&n?(f=$P({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),u=$P({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=gie({translateX:f,translateY:u,useTranslate3d:s})):c=mie,{cssProperties:c,cssClasses:vie({translateX:f,translateY:u,coordinate:n})}}function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){D_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zI(r.key),r)}}function _ie(t,e,n){return e&&bie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sie(t,e,n){return e=rv(e),wie(t,$I()?Reflect.construct(e,n||[],rv(t).constructor):e.apply(t,n))}function wie(t,e){if(e&&(Fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eie(t)}function Eie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($I=function(){return!!t})()}function rv(t){return rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rv(t)}function Mie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function D_(t,e,n){return e=zI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zI(t){var e=Aie(t,"string");return Fc(e)=="symbol"?e:e+""}function Aie(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VP=1,Tie=function(t){function e(){var n;xie(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Sie(this,e,[].concat(i)),D_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),D_(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),n}return Mie(e,t),_ie(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>VP||Math.abs(r.height-this.state.lastBoundingBox.height)>VP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,f=i.coordinate,u=i.hasPayload,d=i.isAnimationActive,h=i.offset,m=i.position,v=i.reverseDirection,g=i.useTranslate3d,p=i.viewBox,x=i.wrapperStyle,y=yie({allowEscapeViewBox:a,coordinate:f,offsetTopLeft:h,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:p}),b=y.cssClasses,S=y.cssProperties,_=HP(HP({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&u?"visible":"hidden",position:"absolute",top:0,left:0},x);return H.createElement("div",{tabIndex:-1,className:b,style:_,ref:function(T){r.wrapperNode=T}},c)}}])}(C.PureComponent),Pie=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},eo={isSsr:Pie(),get:function(e){return eo[e]},set:function(e,n){if(typeof e=="string")eo[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){eo[i]=e[i]})}}};function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){V1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VI(r.key),r)}}function Rie(t,e,n){return e&&Oie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nie(t,e,n){return e=iv(e),Die(t,HI()?Reflect.construct(e,n||[],iv(t).constructor):e.apply(t,n))}function Die(t,e){if(e&&(jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lie(t)}function Lie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HI=function(){return!!t})()}function iv(t){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iv(t)}function Iie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L_(t,e)}function L_(t,e){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L_(t,e)}function V1(t,e,n){return e=VI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VI(t){var e=kie(t,"string");return jc(e)=="symbol"?e:e+""}function kie(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uie(t){return t.dataKey}function Fie(t,e){return H.isValidElement(t)?H.cloneElement(t,e):typeof t=="function"?H.createElement(t,e):H.createElement(die,e)}var pr=function(t){function e(){return Cie(this,e),Nie(this,e,arguments)}return Iie(e,t),Rie(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,f=i.coordinate,u=i.filterNull,d=i.isAnimationActive,h=i.offset,m=i.payload,v=i.payloadUniqBy,g=i.position,p=i.reverseDirection,x=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,S=m??[];u&&S.length&&(S=DI(m.filter(function(w){return w.value!=null&&(w.hide!==!0||r.props.includeHidden)}),v,Uie));var _=S.length>0;return H.createElement(Tie,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:f,hasPayload:_,offset:h,position:g,reverseDirection:p,useTranslate3d:x,viewBox:y,wrapperStyle:b},Fie(c,WP(WP({},this.props),{},{payload:S})))}}])}(C.PureComponent);V1(pr,"displayName","Tooltip");V1(pr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!eo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var jie=lo,Bie=function(){return jie.Date.now()},$ie=Bie,zie=/\s/;function Hie(t){for(var e=t.length;e--&&zie.test(t.charAt(e)););return e}var Vie=Hie,Gie=Vie,Wie=/^\s+/;function Xie(t){return t&&t.slice(0,Gie(t)+1).replace(Wie,"")}var qie=Xie,Yie=qie,XP=Ya,Kie=pu,qP=NaN,Zie=/^[-+]0x[0-9a-f]+$/i,Jie=/^0b[01]+$/i,Qie=/^0o[0-7]+$/i,eoe=parseInt;function toe(t){if(typeof t=="number")return t;if(Kie(t))return qP;if(XP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=XP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Yie(t);var n=Jie.test(t);return n||Qie.test(t)?eoe(t.slice(2),n?2:8):Zie.test(t)?qP:+t}var GI=toe,noe=Ya,W0=$ie,YP=GI,roe="Expected a function",ioe=Math.max,ooe=Math.min;function aoe(t,e,n){var r,i,o,a,s,l,c=0,f=!1,u=!1,d=!0;if(typeof t!="function")throw new TypeError(roe);e=YP(e)||0,noe(n)&&(f=!!n.leading,u="maxWait"in n,o=u?ioe(YP(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function h(_){var w=r,T=i;return r=i=void 0,c=_,a=t.apply(T,w),a}function m(_){return c=_,s=setTimeout(p,e),f?h(_):a}function v(_){var w=_-l,T=_-c,M=e-w;return u?ooe(M,o-T):M}function g(_){var w=_-l,T=_-c;return l===void 0||w>=e||w<0||u&&T>=o}function p(){var _=W0();if(g(_))return x(_);s=setTimeout(p,v(_))}function x(_){return s=void 0,d&&r?h(_):(r=i=void 0,a)}function y(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function b(){return s===void 0?a:x(W0())}function S(){var _=W0(),w=g(_);if(r=arguments,i=this,l=_,w){if(s===void 0)return m(l);if(u)return clearTimeout(s),s=setTimeout(p,e),h(l)}return s===void 0&&(s=setTimeout(p,e)),a}return S.cancel=y,S.flush=b,S}var soe=aoe,loe=soe,coe=Ya,uoe="Expected a function";function foe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(uoe);return coe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),loe(t,e,{leading:r,maxWait:e,trailing:i})}var doe=foe;const WI=It(doe);function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hoe(t,e,n){return e=poe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function poe(t){var e=moe(t,"string");return yd(e)=="symbol"?e:e+""}function moe(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function voe(t,e){return boe(t)||xoe(t,e)||yoe(t,e)||goe()}function goe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yoe(t,e){if(t){if(typeof t=="string")return ZP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZP(t,e)}}function ZP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function boe(t){if(Array.isArray(t))return t}var xd=C.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,f=c===void 0?0:c,u=t.minHeight,d=t.maxHeight,h=t.children,m=t.debounce,v=m===void 0?0:m,g=t.id,p=t.className,x=t.onResize,y=t.style,b=y===void 0?{}:y,S=C.useRef(null),_=C.useRef();_.current=x,C.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var w=C.useState({containerWidth:i.width,containerHeight:i.height}),T=voe(w,2),M=T[0],A=T[1],P=C.useCallback(function(L,I){A(function(j){var F=Math.round(L),B=Math.round(I);return j.containerWidth===F&&j.containerHeight===B?j:{containerWidth:F,containerHeight:B}})},[]);C.useEffect(function(){var L=function(z){var W,J=z[0].contentRect,ie=J.width,xe=J.height;P(ie,xe),(W=_.current)===null||W===void 0||W.call(_,ie,xe)};v>0&&(L=WI(L,v,{trailing:!0,leading:!1}));var I=new ResizeObserver(L),j=S.current.getBoundingClientRect(),F=j.width,B=j.height;return P(F,B),I.observe(S.current),function(){I.disconnect()}},[P,v]);var O=C.useMemo(function(){var L=M.containerWidth,I=M.containerHeight;if(L<0||I<0)return null;Ui(Ts(a)||Ts(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Ui(!n||n>0,"The aspect(%s) must be greater than zero.",n);var j=Ts(a)?L:a,F=Ts(l)?I:l;n&&n>0&&(j?F=j/n:F&&(j=F*n),d&&F>d&&(F=d)),Ui(j>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,F,a,l,f,u,n);var B=!Array.isArray(h)&&Lo(h.type).endsWith("Chart");return H.Children.map(h,function(D){return H.isValidElement(D)?C.cloneElement(D,Pp({width:j,height:F},B?{style:Pp({height:"100%",width:"100%",maxHeight:F,maxWidth:j},D.props.style)}:{})):D})},[n,h,l,d,u,f,M,a]);return H.createElement("div",{id:g?"".concat(g):void 0,className:vt("recharts-responsive-container",p),style:Pp(Pp({},b),{},{width:a,height:l,minWidth:f,minHeight:u,maxHeight:d}),ref:S},O)}),Xg=function(e){return null};Xg.displayName="Cell";function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){_oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _oe(t,e,n){return e=Soe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Soe(t){var e=woe(t,"string");return bd(e)=="symbol"?e:e+""}function woe(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pl={widthCache:{},cacheCount:0},Eoe=2e3,Moe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},QP="recharts_measurement_span";function Aoe(t){var e=I_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Lf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||eo.isSsr)return{width:0,height:0};var r=Aoe(n),i=JSON.stringify({text:e,copyStyle:r});if(Pl.widthCache[i])return Pl.widthCache[i];try{var o=document.getElementById(QP);o||(o=document.createElement("span"),o.setAttribute("id",QP),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=I_(I_({},Moe),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Pl.widthCache[i]=l,++Pl.cacheCount>Eoe&&(Pl.cacheCount=0,Pl.widthCache={}),l}catch{return{width:0,height:0}}},Toe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function ov(t,e){return Roe(t)||Ooe(t,e)||Coe(t,e)||Poe()}function Poe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Coe(t,e){if(t){if(typeof t=="string")return eC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eC(t,e)}}function eC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ooe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Roe(t){if(Array.isArray(t))return t}function Noe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Loe(r.key),r)}}function Doe(t,e,n){return e&&tC(t.prototype,e),n&&tC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Loe(t){var e=Ioe(t,"string");return _d(e)=="symbol"?e:e+""}function Ioe(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,koe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Uoe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Foe=Object.keys(XI),Ql="NaN";function joe(t,e){return t*XI[e]}var Cp=function(){function t(e,n){Noe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!koe.test(n)&&(this.num=NaN,this.unit=""),Foe.includes(n)&&(this.num=joe(e,n),this.unit="px")}return Doe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Uoe.exec(n))!==null&&r!==void 0?r:[],o=ov(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function qI(t){if(t.includes(Ql))return Ql;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=nC.exec(e))!==null&&n!==void 0?n:[],i=ov(r,4),o=i[1],a=i[2],s=i[3],l=Cp.parse(o??""),c=Cp.parse(s??""),f=a==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return Ql;e=e.replace(nC,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,d=(u=rC.exec(e))!==null&&u!==void 0?u:[],h=ov(d,4),m=h[1],v=h[2],g=h[3],p=Cp.parse(m??""),x=Cp.parse(g??""),y=v==="+"?p.add(x):p.subtract(x);if(y.isNaN())return Ql;e=e.replace(rC,y.toString())}return e}var iC=/\(([^()]*)\)/;function Boe(t){for(var e=t;e.includes("(");){var n=iC.exec(e),r=ov(n,2),i=r[1];e=e.replace(iC,qI(i))}return e}function $oe(t){var e=t.replace(/\s+/g,"");return e=Boe(e),e=qI(e),e}function zoe(t){try{return $oe(t)}catch{return Ql}}function X0(t){var e=zoe(t.slice(5,-1));return e===Ql?"":e}var Hoe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Voe=["dx","dy","angle","className","breakAll"];function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(this,arguments)}function oC(t,e){if(t==null)return{};var n=Goe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Goe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aC(t,e){return Yoe(t)||qoe(t,e)||Xoe(t,e)||Woe()}function Woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xoe(t,e){if(t){if(typeof t=="string")return sC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sC(t,e)}}function sC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Yoe(t){if(Array.isArray(t))return t}var YI=/[ \f\n\r\t\v\u2028\u2029]+/,KI=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ft(n)||(r?o=n.toString().split(""):o=n.toString().split(YI));var a=o.map(function(l){return{word:l,width:Lf(l,i).width}}),s=r?0:Lf(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Koe=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,f=Pe(a),u=s,d=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce(function(F,B){var D=B.word,z=B.width,W=F[F.length-1];if(W&&(i==null||o||W.width+z+r<Number(i)))W.words.push(D),W.width+=z+r;else{var J={words:[D],width:z};F.push(J)}return F},[])},h=d(n),m=function(j){return j.reduce(function(F,B){return F.width>B.width?F:B})};if(!f)return h;for(var v="…",g=function(j){var F=u.slice(0,j),B=KI({breakAll:c,style:l,children:F+v}).wordsWithComputedWidth,D=d(B),z=D.length>a||m(D).width>Number(i);return[z,D]},p=0,x=u.length-1,y=0,b;p<=x&&y<=u.length-1;){var S=Math.floor((p+x)/2),_=S-1,w=g(_),T=aC(w,2),M=T[0],A=T[1],P=g(S),O=aC(P,1),L=O[0];if(!M&&!L&&(p=S+1),M&&L&&(x=S-1),!M&&L){b=A;break}y++}return b||h},lC=function(e){var n=ft(e)?[]:e.toString().split(YI);return[{words:n}]},Zoe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!eo.isSsr){var l,c,f=KI({breakAll:a,children:i,style:o});if(f){var u=f.wordsWithComputedWidth,d=f.spaceWidth;l=u,c=d}else return lC(i);return Koe({breakAll:a,children:i,maxLines:s,style:o},l,c,n,r)}return lC(i)},cC="#808080",Xs=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,f=e.scaleToFit,u=f===void 0?!1:f,d=e.textAnchor,h=d===void 0?"start":d,m=e.verticalAnchor,v=m===void 0?"end":m,g=e.fill,p=g===void 0?cC:g,x=oC(e,Hoe),y=C.useMemo(function(){return Zoe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:u,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,u,x.style,x.width]),b=x.dx,S=x.dy,_=x.angle,w=x.className,T=x.breakAll,M=oC(x,Voe);if(!On(r)||!On(o))return null;var A=r+(Pe(b)?b:0),P=o+(Pe(S)?S:0),O;switch(v){case"start":O=X0("calc(".concat(c,")"));break;case"middle":O=X0("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:O=X0("calc(".concat(y.length-1," * -").concat(s,")"));break}var L=[];if(u){var I=y[0].width,j=x.width;L.push("scale(".concat((Pe(j)?j/I:1)/I,")"))}return _&&L.push("rotate(".concat(_,", ").concat(A,", ").concat(P,")")),L.length&&(M.transform=L.join(" ")),H.createElement("text",k_({},et(M,!0),{x:A,y:P,className:vt("recharts-text",w),textAnchor:h,fill:p.includes("url")?cC:p}),y.map(function(F,B){var D=F.words.join(T?"":" ");return H.createElement("tspan",{x:A,dy:B===0?O:s,key:"".concat(D,"-").concat(B)},D)}))};function ka(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Joe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function G1(t){let e,n,r;t.length!==2?(e=ka,n=(s,l)=>ka(t(s),l),r=(s,l)=>t(s)-l):(e=t===ka||t===Joe?t:Qoe,n=t,r=t);function i(s,l,c=0,f=s.length){if(c<f){if(e(l,l)!==0)return f;do{const u=c+f>>>1;n(s[u],l)<0?c=u+1:f=u}while(c<f)}return c}function o(s,l,c=0,f=s.length){if(c<f){if(e(l,l)!==0)return f;do{const u=c+f>>>1;n(s[u],l)<=0?c=u+1:f=u}while(c<f)}return c}function a(s,l,c=0,f=s.length){const u=i(s,l,c,f-1);return u>c&&r(s[u-1],l)>-r(s[u],l)?u-1:u}return{left:i,center:a,right:o}}function Qoe(){return 0}function ZI(t){return t===null?NaN:+t}function*eae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const tae=G1(ka),mh=tae.right;G1(ZI).center;class uC extends Map{constructor(e,n=iae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(fC(this,e))}has(e){return super.has(fC(this,e))}set(e,n){return super.set(nae(this,e),n)}delete(e){return super.delete(rae(this,e))}}function fC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function nae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function rae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function iae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function oae(t=ka){if(t===ka)return JI;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function JI(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const aae=Math.sqrt(50),sae=Math.sqrt(10),lae=Math.sqrt(2);function av(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=aae?10:o>=sae?5:o>=lae?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?av(t,e,n*2):[s,l,c]}function U_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?av(e,t,n):av(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function F_(t,e,n){return e=+e,t=+t,n=+n,av(t,e,n)[2]}function j_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?F_(e,t,n):F_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function dC(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function hC(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function QI(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?JI:oae(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,f=Math.log(l),u=.5*Math.exp(2*f/3),d=.5*Math.sqrt(f*u*(l-u)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(e-c*u/l+d)),m=Math.min(r,Math.floor(e+(l-c)*u/l+d));QI(t,e,h,m,i)}const o=t[e];let a=n,s=r;for(Qu(t,n,e),i(t[r],o)>0&&Qu(t,n,r);a<s;){for(Qu(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Qu(t,n,s):(++s,Qu(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Qu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function cae(t,e,n){if(t=Float64Array.from(eae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return hC(t);if(e>=1)return dC(t);var r,i=(r-1)*e,o=Math.floor(i),a=dC(QI(t,o).subarray(0,o+1)),s=hC(t.subarray(o+1));return a+(s-a)*(i-o)}}function uae(t,e,n=ZI){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function fae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function fi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Jo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const B_=Symbol("implicit");function W1(){var t=new uC,e=[],n=[],r=B_;function i(o){let a=t.get(o);if(a===void 0){if(r!==B_)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new uC;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return W1(e,n).unknown(r)},fi.apply(i,arguments),i}function Sd(){var t=W1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,c=0,f=.5;delete t.unknown;function u(){var d=e().length,h=i<r,m=h?i:r,v=h?r:i;o=(v-m)/Math.max(1,d-l+c*2),s&&(o=Math.floor(o)),m+=(v-m-o*(d-l))*f,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var g=fae(d).map(function(p){return m+o*p});return n(h?g.reverse():g)}return t.domain=function(d){return arguments.length?(e(d),u()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,u()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,u()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,u()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),u()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),u()):l},t.paddingOuter=function(d){return arguments.length?(c=+d,u()):c},t.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),u()):f},t.copy=function(){return Sd(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(f)},fi.apply(u(),arguments)}function e3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e3(e())},t}function If(){return e3(Sd.apply(null,arguments).paddingInner(1))}function X1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function t3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function vh(){}var wd=.7,sv=1/wd,vc="\\s*([+-]?\\d+)\\s*",Ed="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",to="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dae=/^#([0-9a-f]{3,8})$/,hae=new RegExp(`^rgb\\(${vc},${vc},${vc}\\)$`),pae=new RegExp(`^rgb\\(${to},${to},${to}\\)$`),mae=new RegExp(`^rgba\\(${vc},${vc},${vc},${Ed}\\)$`),vae=new RegExp(`^rgba\\(${to},${to},${to},${Ed}\\)$`),gae=new RegExp(`^hsl\\(${Ed},${to},${to}\\)$`),yae=new RegExp(`^hsla\\(${Ed},${to},${to},${Ed}\\)$`),pC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};X1(vh,Md,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:mC,formatHex:mC,formatHex8:xae,formatHsl:bae,formatRgb:vC,toString:vC});function mC(){return this.rgb().formatHex()}function xae(){return this.rgb().formatHex8()}function bae(){return n3(this).formatHsl()}function vC(){return this.rgb().formatRgb()}function Md(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=dae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?gC(e):n===3?new gr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Op(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Op(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hae.exec(t))?new gr(e[1],e[2],e[3],1):(e=pae.exec(t))?new gr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mae.exec(t))?Op(e[1],e[2],e[3],e[4]):(e=vae.exec(t))?Op(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gae.exec(t))?bC(e[1],e[2]/100,e[3]/100,1):(e=yae.exec(t))?bC(e[1],e[2]/100,e[3]/100,e[4]):pC.hasOwnProperty(t)?gC(pC[t]):t==="transparent"?new gr(NaN,NaN,NaN,0):null}function gC(t){return new gr(t>>16&255,t>>8&255,t&255,1)}function Op(t,e,n,r){return r<=0&&(t=e=n=NaN),new gr(t,e,n,r)}function _ae(t){return t instanceof vh||(t=Md(t)),t?(t=t.rgb(),new gr(t.r,t.g,t.b,t.opacity)):new gr}function $_(t,e,n,r){return arguments.length===1?_ae(t):new gr(t,e,n,r??1)}function gr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}X1(gr,$_,t3(vh,{brighter(t){return t=t==null?sv:Math.pow(sv,t),new gr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wd:Math.pow(wd,t),new gr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gr(Ds(this.r),Ds(this.g),Ds(this.b),lv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yC,formatHex:yC,formatHex8:Sae,formatRgb:xC,toString:xC}));function yC(){return`#${Ps(this.r)}${Ps(this.g)}${Ps(this.b)}`}function Sae(){return`#${Ps(this.r)}${Ps(this.g)}${Ps(this.b)}${Ps((isNaN(this.opacity)?1:this.opacity)*255)}`}function xC(){const t=lv(this.opacity);return`${t===1?"rgb(":"rgba("}${Ds(this.r)}, ${Ds(this.g)}, ${Ds(this.b)}${t===1?")":`, ${t})`}`}function lv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ds(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ps(t){return t=Ds(t),(t<16?"0":"")+t.toString(16)}function bC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ti(t,e,n,r)}function n3(t){if(t instanceof Ti)return new Ti(t.h,t.s,t.l,t.opacity);if(t instanceof vh||(t=Md(t)),!t)return new Ti;if(t instanceof Ti)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Ti(a,s,l,t.opacity)}function wae(t,e,n,r){return arguments.length===1?n3(t):new Ti(t,e,n,r??1)}function Ti(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}X1(Ti,wae,t3(vh,{brighter(t){return t=t==null?sv:Math.pow(sv,t),new Ti(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wd:Math.pow(wd,t),new Ti(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new gr(q0(t>=240?t-240:t+120,i,r),q0(t,i,r),q0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ti(_C(this.h),Rp(this.s),Rp(this.l),lv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=lv(this.opacity);return`${t===1?"hsl(":"hsla("}${_C(this.h)}, ${Rp(this.s)*100}%, ${Rp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _C(t){return t=(t||0)%360,t<0?t+360:t}function Rp(t){return Math.max(0,Math.min(1,t||0))}function q0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const q1=t=>()=>t;function Eae(t,e){return function(n){return t+n*e}}function Mae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Aae(t){return(t=+t)==1?r3:function(e,n){return n-e?Mae(e,n,t):q1(isNaN(e)?n:e)}}function r3(t,e){var n=e-t;return n?Eae(t,n):q1(isNaN(t)?e:t)}const SC=function t(e){var n=Aae(e);function r(i,o){var a=n((i=$_(i)).r,(o=$_(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=r3(i.opacity,o.opacity);return function(f){return i.r=a(f),i.g=s(f),i.b=l(f),i.opacity=c(f),i+""}}return r.gamma=t,r}(1);function Tae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Pae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Cae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=wu(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Oae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function cv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Rae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=wu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var z_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Y0=new RegExp(z_.source,"g");function Nae(t){return function(){return t}}function Dae(t){return function(e){return t(e)+""}}function Lae(t,e){var n=z_.lastIndex=Y0.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=z_.exec(t))&&(i=Y0.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:cv(r,i)})),n=Y0.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Dae(l[0].x):Nae(e):(e=l.length,function(c){for(var f=0,u;f<e;++f)s[(u=l[f]).i]=u.x(c);return s.join("")})}function wu(t,e){var n=typeof e,r;return e==null||n==="boolean"?q1(e):(n==="number"?cv:n==="string"?(r=Md(e))?(e=r,SC):Lae:e instanceof Md?SC:e instanceof Date?Oae:Pae(e)?Tae:Array.isArray(e)?Cae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Rae:cv)(t,e)}function Y1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Iae(t,e){e===void 0&&(e=t,t=wu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function kae(t){return function(){return t}}function uv(t){return+t}var wC=[0,1];function lr(t){return t}function H_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:kae(isNaN(e)?NaN:.5)}function Uae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Fae(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=H_(i,r),o=n(a,o)):(r=H_(r,i),o=n(o,a)),function(s){return o(r(s))}}function jae(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=H_(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=mh(t,s,1,r)-1;return o[l](i[l](s))}}function gh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function qg(){var t=wC,e=wC,n=wu,r,i,o,a=lr,s,l,c;function f(){var d=Math.min(t.length,e.length);return a!==lr&&(a=Uae(t[0],t[d-1])),s=d>2?jae:Fae,l=c=null,u}function u(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return u.invert=function(d){return a(i((c||(c=s(e,t.map(r),cv)))(d)))},u.domain=function(d){return arguments.length?(t=Array.from(d,uv),f()):t.slice()},u.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},u.rangeRound=function(d){return e=Array.from(d),n=Y1,f()},u.clamp=function(d){return arguments.length?(a=d?!0:lr,f()):a!==lr},u.interpolate=function(d){return arguments.length?(n=d,f()):n},u.unknown=function(d){return arguments.length?(o=d,u):o},function(d,h){return r=d,i=h,f()}}function K1(){return qg()(lr,lr)}function Bae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function fv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Bc(t){return t=fv(Math.abs(t)),t?t[1]:NaN}function $ae(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function zae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Hae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ad(t){if(!(e=Hae.exec(t)))throw new Error("invalid format: "+t);var e;return new Z1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ad.prototype=Z1.prototype;function Z1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Z1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vae(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var i3;function Gae(t,e){var n=fv(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(i3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+fv(t,Math.max(0,e+o-1))[0]}function EC(t,e){var n=fv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const MC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Bae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>EC(t*100,e),r:EC,s:Gae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function AC(t){return t}var TC=Array.prototype.map,PC=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Wae(t){var e=t.grouping===void 0||t.thousands===void 0?AC:$ae(TC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?AC:zae(TC.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(u){u=Ad(u);var d=u.fill,h=u.align,m=u.sign,v=u.symbol,g=u.zero,p=u.width,x=u.comma,y=u.precision,b=u.trim,S=u.type;S==="n"?(x=!0,S="g"):MC[S]||(y===void 0&&(y=12),b=!0,S="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var _=v==="$"?n:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",w=v==="$"?r:/[%p]/.test(S)?a:"",T=MC[S],M=/[defgprs%]/.test(S);y=y===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function A(P){var O=_,L=w,I,j,F;if(S==="c")L=T(P)+L,P="";else{P=+P;var B=P<0||1/P<0;if(P=isNaN(P)?l:T(Math.abs(P),y),b&&(P=Vae(P)),B&&+P==0&&m!=="+"&&(B=!1),O=(B?m==="("?m:s:m==="-"||m==="("?"":m)+O,L=(S==="s"?PC[8+i3/3]:"")+L+(B&&m==="("?")":""),M){for(I=-1,j=P.length;++I<j;)if(F=P.charCodeAt(I),48>F||F>57){L=(F===46?i+P.slice(I+1):P.slice(I))+L,P=P.slice(0,I);break}}}x&&!g&&(P=e(P,1/0));var D=O.length+P.length+L.length,z=D<p?new Array(p-D+1).join(d):"";switch(x&&g&&(P=e(z+P,z.length?p-L.length:1/0),z=""),h){case"<":P=O+P+L+z;break;case"=":P=O+z+P+L;break;case"^":P=z.slice(0,D=z.length>>1)+O+P+L+z.slice(D);break;default:P=z+O+P+L;break}return o(P)}return A.toString=function(){return u+""},A}function f(u,d){var h=c((u=Ad(u),u.type="f",u)),m=Math.max(-8,Math.min(8,Math.floor(Bc(d)/3)))*3,v=Math.pow(10,-m),g=PC[8+m/3];return function(p){return h(v*p)+g}}return{format:c,formatPrefix:f}}var Np,J1,o3;Xae({thousands:",",grouping:[3],currency:["$",""]});function Xae(t){return Np=Wae(t),J1=Np.format,o3=Np.formatPrefix,Np}function qae(t){return Math.max(0,-Bc(Math.abs(t)))}function Yae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bc(e)/3)))*3-Bc(Math.abs(t)))}function Kae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bc(e)-Bc(t))+1}function a3(t,e,n,r){var i=j_(t,e,n),o;switch(r=Ad(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Yae(i,a))&&(r.precision=o),o3(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Kae(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=qae(i))&&(r.precision=o-(r.type==="%")*2);break}}return J1(r)}function Ka(t){var e=t.domain;return t.ticks=function(n){var r=e();return U_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return a3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,f=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);f-- >0;){if(c=F_(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function dv(){var t=K1();return t.copy=function(){return gh(t,dv())},fi.apply(t,arguments),Ka(t)}function s3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,uv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return s3(t).unknown(e)},t=arguments.length?Array.from(t,uv):[0,1],Ka(n)}function l3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function CC(t){return Math.log(t)}function OC(t){return Math.exp(t)}function Zae(t){return-Math.log(-t)}function Jae(t){return-Math.exp(-t)}function Qae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ese(t){return t===10?Qae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function tse(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function RC(t){return(e,n)=>-t(-e,n)}function Q1(t){const e=t(CC,OC),n=e.domain;let r=10,i,o;function a(){return i=tse(r),o=ese(r),n()[0]<0?(i=RC(i),o=RC(o),t(Zae,Jae)):t(CC,OC),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let c=l[0],f=l[l.length-1];const u=f<c;u&&([c,f]=[f,c]);let d=i(c),h=i(f),m,v;const g=s==null?10:+s;let p=[];if(!(r%1)&&h-d<g){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(m=1;m<r;++m)if(v=d<0?m/o(-d):m*o(d),!(v<c)){if(v>f)break;p.push(v)}}else for(;d<=h;++d)for(m=r-1;m>=1;--m)if(v=d>0?m/o(-d):m*o(d),!(v<c)){if(v>f)break;p.push(v)}p.length*2<g&&(p=U_(c,f,g))}else p=U_(d,h,Math.min(h-d,g)).map(o);return u?p.reverse():p},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ad(l)).precision==null&&(l.trim=!0),l=J1(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return f=>{let u=f/o(Math.round(i(f)));return u*r<r-.5&&(u*=r),u<=c?l(f):""}},e.nice=()=>n(l3(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function c3(){const t=Q1(qg()).domain([1,10]);return t.copy=()=>gh(t,c3()).base(t.base()),fi.apply(t,arguments),t}function NC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function DC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function eE(t){var e=1,n=t(NC(e),DC(e));return n.constant=function(r){return arguments.length?t(NC(e=+r),DC(e)):e},Ka(n)}function u3(){var t=eE(qg());return t.copy=function(){return gh(t,u3()).constant(t.constant())},fi.apply(t,arguments)}function LC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function nse(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function rse(t){return t<0?-t*t:t*t}function tE(t){var e=t(lr,lr),n=1;function r(){return n===1?t(lr,lr):n===.5?t(nse,rse):t(LC(n),LC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ka(e)}function nE(){var t=tE(qg());return t.copy=function(){return gh(t,nE()).exponent(t.exponent())},fi.apply(t,arguments),t}function ise(){return nE.apply(null,arguments).exponent(.5)}function IC(t){return Math.sign(t)*t*t}function ose(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function f3(){var t=K1(),e=[0,1],n=!1,r;function i(o){var a=ose(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(IC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,uv)).map(IC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return f3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},fi.apply(i,arguments),Ka(i)}function d3(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=uae(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[mh(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ka),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return d3().domain(t).range(e).unknown(r)},fi.apply(o,arguments)}function h3(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[mh(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return h3().domain([t,e]).range(i).unknown(o)},fi.apply(Ka(a),arguments)}function p3(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[mh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return p3().domain(t).range(e).unknown(n)},fi.apply(i,arguments)}const K0=new Date,Z0=new Date;function Dn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>Dn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(K0.setTime(+o),Z0.setTime(+a),t(K0),t(Z0),Math.floor(n(K0,Z0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const hv=Dn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);hv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Dn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):hv);hv.range;const Po=1e3,oi=Po*60,Co=oi*60,Ho=Co*24,rE=Ho*7,kC=Ho*30,J0=Ho*365,Cs=Dn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Po)},(t,e)=>(e-t)/Po,t=>t.getUTCSeconds());Cs.range;const iE=Dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Po)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getMinutes());iE.range;const oE=Dn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getUTCMinutes());oE.range;const aE=Dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Po-t.getMinutes()*oi)},(t,e)=>{t.setTime(+t+e*Co)},(t,e)=>(e-t)/Co,t=>t.getHours());aE.range;const sE=Dn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Co)},(t,e)=>(e-t)/Co,t=>t.getUTCHours());sE.range;const yh=Dn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*oi)/Ho,t=>t.getDate()-1);yh.range;const Yg=Dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ho,t=>t.getUTCDate()-1);Yg.range;const m3=Dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ho,t=>Math.floor(t/Ho));m3.range;function al(t){return Dn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*oi)/rE)}const Kg=al(0),pv=al(1),ase=al(2),sse=al(3),$c=al(4),lse=al(5),cse=al(6);Kg.range;pv.range;ase.range;sse.range;$c.range;lse.range;cse.range;function sl(t){return Dn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/rE)}const Zg=sl(0),mv=sl(1),use=sl(2),fse=sl(3),zc=sl(4),dse=sl(5),hse=sl(6);Zg.range;mv.range;use.range;fse.range;zc.range;dse.range;hse.range;const lE=Dn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());lE.range;const cE=Dn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());cE.range;const Vo=Dn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Vo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Vo.range;const Go=Dn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Go.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Go.range;function v3(t,e,n,r,i,o){const a=[[Cs,1,Po],[Cs,5,5*Po],[Cs,15,15*Po],[Cs,30,30*Po],[o,1,oi],[o,5,5*oi],[o,15,15*oi],[o,30,30*oi],[i,1,Co],[i,3,3*Co],[i,6,6*Co],[i,12,12*Co],[r,1,Ho],[r,2,2*Ho],[n,1,rE],[e,1,kC],[e,3,3*kC],[t,1,J0]];function s(c,f,u){const d=f<c;d&&([c,f]=[f,c]);const h=u&&typeof u.range=="function"?u:l(c,f,u),m=h?h.range(c,+f+1):[];return d?m.reverse():m}function l(c,f,u){const d=Math.abs(f-c)/u,h=G1(([,,g])=>g).right(a,d);if(h===a.length)return t.every(j_(c/J0,f/J0,u));if(h===0)return hv.every(Math.max(j_(c,f,u),1));const[m,v]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return m.every(v)}return[s,l]}const[pse,mse]=v3(Go,cE,Zg,m3,sE,oE),[vse,gse]=v3(Vo,lE,Kg,yh,aE,iE);function Q0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ex(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ef(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function yse(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=tf(i),f=nf(i),u=tf(o),d=nf(o),h=tf(a),m=nf(a),v=tf(s),g=nf(s),p=tf(l),x=nf(l),y={a:B,A:D,b:z,B:W,c:null,d:zC,e:zC,f:$se,g:Zse,G:Qse,H:Fse,I:jse,j:Bse,L:g3,m:zse,M:Hse,p:J,q:ie,Q:GC,s:WC,S:Vse,u:Gse,U:Wse,V:Xse,w:qse,W:Yse,x:null,X:null,y:Kse,Y:Jse,Z:ele,"%":VC},b={a:xe,A:Z,b:ue,B:be,c:null,d:HC,e:HC,f:ile,g:ple,G:vle,H:tle,I:nle,j:rle,L:x3,m:ole,M:ale,p:ne,q:_e,Q:GC,s:WC,S:sle,u:lle,U:cle,V:ule,w:fle,W:dle,x:null,X:null,y:hle,Y:mle,Z:gle,"%":VC},S={a:A,A:P,b:O,B:L,c:I,d:BC,e:BC,f:Lse,g:jC,G:FC,H:$C,I:$C,j:Ose,L:Dse,m:Cse,M:Rse,p:M,q:Pse,Q:kse,s:Use,S:Nse,u:wse,U:Ese,V:Mse,w:Sse,W:Ase,x:j,X:F,y:jC,Y:FC,Z:Tse,"%":Ise};y.x=_(n,y),y.X=_(r,y),y.c=_(e,y),b.x=_(n,b),b.X=_(r,b),b.c=_(e,b);function _(Q,ae){return function(le){var $=[],se=-1,k=0,ve=Q.length,fe,we,Ee;for(le instanceof Date||(le=new Date(+le));++se<ve;)Q.charCodeAt(se)===37&&($.push(Q.slice(k,se)),(we=UC[fe=Q.charAt(++se)])!=null?fe=Q.charAt(++se):we=fe==="e"?" ":"0",(Ee=ae[fe])&&(fe=Ee(le,we)),$.push(fe),k=se+1);return $.push(Q.slice(k,se)),$.join("")}}function w(Q,ae){return function(le){var $=ef(1900,void 0,1),se=T($,Q,le+="",0),k,ve;if(se!=le.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(ae&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(k=ex(ef($.y,0,1)),ve=k.getUTCDay(),k=ve>4||ve===0?mv.ceil(k):mv(k),k=Yg.offset(k,($.V-1)*7),$.y=k.getUTCFullYear(),$.m=k.getUTCMonth(),$.d=k.getUTCDate()+($.w+6)%7):(k=Q0(ef($.y,0,1)),ve=k.getDay(),k=ve>4||ve===0?pv.ceil(k):pv(k),k=yh.offset(k,($.V-1)*7),$.y=k.getFullYear(),$.m=k.getMonth(),$.d=k.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),ve="Z"in $?ex(ef($.y,0,1)).getUTCDay():Q0(ef($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(ve+5)%7:$.w+$.U*7-(ve+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,ex($)):Q0($)}}function T(Q,ae,le,$){for(var se=0,k=ae.length,ve=le.length,fe,we;se<k;){if($>=ve)return-1;if(fe=ae.charCodeAt(se++),fe===37){if(fe=ae.charAt(se++),we=S[fe in UC?ae.charAt(se++):fe],!we||($=we(Q,le,$))<0)return-1}else if(fe!=le.charCodeAt($++))return-1}return $}function M(Q,ae,le){var $=c.exec(ae.slice(le));return $?(Q.p=f.get($[0].toLowerCase()),le+$[0].length):-1}function A(Q,ae,le){var $=h.exec(ae.slice(le));return $?(Q.w=m.get($[0].toLowerCase()),le+$[0].length):-1}function P(Q,ae,le){var $=u.exec(ae.slice(le));return $?(Q.w=d.get($[0].toLowerCase()),le+$[0].length):-1}function O(Q,ae,le){var $=p.exec(ae.slice(le));return $?(Q.m=x.get($[0].toLowerCase()),le+$[0].length):-1}function L(Q,ae,le){var $=v.exec(ae.slice(le));return $?(Q.m=g.get($[0].toLowerCase()),le+$[0].length):-1}function I(Q,ae,le){return T(Q,e,ae,le)}function j(Q,ae,le){return T(Q,n,ae,le)}function F(Q,ae,le){return T(Q,r,ae,le)}function B(Q){return a[Q.getDay()]}function D(Q){return o[Q.getDay()]}function z(Q){return l[Q.getMonth()]}function W(Q){return s[Q.getMonth()]}function J(Q){return i[+(Q.getHours()>=12)]}function ie(Q){return 1+~~(Q.getMonth()/3)}function xe(Q){return a[Q.getUTCDay()]}function Z(Q){return o[Q.getUTCDay()]}function ue(Q){return l[Q.getUTCMonth()]}function be(Q){return s[Q.getUTCMonth()]}function ne(Q){return i[+(Q.getUTCHours()>=12)]}function _e(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var ae=_(Q+="",y);return ae.toString=function(){return Q},ae},parse:function(Q){var ae=w(Q+="",!1);return ae.toString=function(){return Q},ae},utcFormat:function(Q){var ae=_(Q+="",b);return ae.toString=function(){return Q},ae},utcParse:function(Q){var ae=w(Q+="",!0);return ae.toString=function(){return Q},ae}}}var UC={"-":"",_:" ",0:"0"},zn=/^\s*\d+/,xse=/^%/,bse=/[\\^$*+?|[\]().{}]/g;function Ot(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function _se(t){return t.replace(bse,"\\$&")}function tf(t){return new RegExp("^(?:"+t.map(_se).join("|")+")","i")}function nf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Sse(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function wse(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ese(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Mse(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ase(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function FC(t,e,n){var r=zn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function jC(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Tse(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Pse(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Cse(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function BC(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ose(t,e,n){var r=zn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $C(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Rse(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Nse(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Dse(t,e,n){var r=zn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Lse(t,e,n){var r=zn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ise(t,e,n){var r=xse.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function kse(t,e,n){var r=zn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Use(t,e,n){var r=zn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function zC(t,e){return Ot(t.getDate(),e,2)}function Fse(t,e){return Ot(t.getHours(),e,2)}function jse(t,e){return Ot(t.getHours()%12||12,e,2)}function Bse(t,e){return Ot(1+yh.count(Vo(t),t),e,3)}function g3(t,e){return Ot(t.getMilliseconds(),e,3)}function $se(t,e){return g3(t,e)+"000"}function zse(t,e){return Ot(t.getMonth()+1,e,2)}function Hse(t,e){return Ot(t.getMinutes(),e,2)}function Vse(t,e){return Ot(t.getSeconds(),e,2)}function Gse(t){var e=t.getDay();return e===0?7:e}function Wse(t,e){return Ot(Kg.count(Vo(t)-1,t),e,2)}function y3(t){var e=t.getDay();return e>=4||e===0?$c(t):$c.ceil(t)}function Xse(t,e){return t=y3(t),Ot($c.count(Vo(t),t)+(Vo(t).getDay()===4),e,2)}function qse(t){return t.getDay()}function Yse(t,e){return Ot(pv.count(Vo(t)-1,t),e,2)}function Kse(t,e){return Ot(t.getFullYear()%100,e,2)}function Zse(t,e){return t=y3(t),Ot(t.getFullYear()%100,e,2)}function Jse(t,e){return Ot(t.getFullYear()%1e4,e,4)}function Qse(t,e){var n=t.getDay();return t=n>=4||n===0?$c(t):$c.ceil(t),Ot(t.getFullYear()%1e4,e,4)}function ele(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ot(e/60|0,"0",2)+Ot(e%60,"0",2)}function HC(t,e){return Ot(t.getUTCDate(),e,2)}function tle(t,e){return Ot(t.getUTCHours(),e,2)}function nle(t,e){return Ot(t.getUTCHours()%12||12,e,2)}function rle(t,e){return Ot(1+Yg.count(Go(t),t),e,3)}function x3(t,e){return Ot(t.getUTCMilliseconds(),e,3)}function ile(t,e){return x3(t,e)+"000"}function ole(t,e){return Ot(t.getUTCMonth()+1,e,2)}function ale(t,e){return Ot(t.getUTCMinutes(),e,2)}function sle(t,e){return Ot(t.getUTCSeconds(),e,2)}function lle(t){var e=t.getUTCDay();return e===0?7:e}function cle(t,e){return Ot(Zg.count(Go(t)-1,t),e,2)}function b3(t){var e=t.getUTCDay();return e>=4||e===0?zc(t):zc.ceil(t)}function ule(t,e){return t=b3(t),Ot(zc.count(Go(t),t)+(Go(t).getUTCDay()===4),e,2)}function fle(t){return t.getUTCDay()}function dle(t,e){return Ot(mv.count(Go(t)-1,t),e,2)}function hle(t,e){return Ot(t.getUTCFullYear()%100,e,2)}function ple(t,e){return t=b3(t),Ot(t.getUTCFullYear()%100,e,2)}function mle(t,e){return Ot(t.getUTCFullYear()%1e4,e,4)}function vle(t,e){var n=t.getUTCDay();return t=n>=4||n===0?zc(t):zc.ceil(t),Ot(t.getUTCFullYear()%1e4,e,4)}function gle(){return"+0000"}function VC(){return"%"}function GC(t){return+t}function WC(t){return Math.floor(+t/1e3)}var Cl,_3,S3;yle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yle(t){return Cl=yse(t),_3=Cl.format,Cl.parse,S3=Cl.utcFormat,Cl.utcParse,Cl}function xle(t){return new Date(t)}function ble(t){return t instanceof Date?+t:+new Date(+t)}function uE(t,e,n,r,i,o,a,s,l,c){var f=K1(),u=f.invert,d=f.domain,h=c(".%L"),m=c(":%S"),v=c("%I:%M"),g=c("%I %p"),p=c("%a %d"),x=c("%b %d"),y=c("%B"),b=c("%Y");function S(_){return(l(_)<_?h:s(_)<_?m:a(_)<_?v:o(_)<_?g:r(_)<_?i(_)<_?p:x:n(_)<_?y:b)(_)}return f.invert=function(_){return new Date(u(_))},f.domain=function(_){return arguments.length?d(Array.from(_,ble)):d().map(xle)},f.ticks=function(_){var w=d();return t(w[0],w[w.length-1],_??10)},f.tickFormat=function(_,w){return w==null?S:c(w)},f.nice=function(_){var w=d();return(!_||typeof _.range!="function")&&(_=e(w[0],w[w.length-1],_??10)),_?d(l3(w,_)):f},f.copy=function(){return gh(f,uE(t,e,n,r,i,o,a,s,l,c))},f}function _le(){return fi.apply(uE(vse,gse,Vo,lE,Kg,yh,aE,iE,Cs,_3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Sle(){return fi.apply(uE(pse,mse,Go,cE,Zg,Yg,sE,oE,Cs,S3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jg(){var t=0,e=1,n,r,i,o,a=lr,s=!1,l;function c(u){return u==null||isNaN(u=+u)?l:a(i===0?.5:(u=(o(u)-n)*i,s?Math.max(0,Math.min(1,u)):u))}c.domain=function(u){return arguments.length?([t,e]=u,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(u){return arguments.length?(s=!!u,c):s},c.interpolator=function(u){return arguments.length?(a=u,c):a};function f(u){return function(d){var h,m;return arguments.length?([h,m]=d,a=u(h,m),c):[a(0),a(1)]}}return c.range=f(wu),c.rangeRound=f(Y1),c.unknown=function(u){return arguments.length?(l=u,c):l},function(u){return o=u,n=u(t),r=u(e),i=n===r?0:1/(r-n),c}}function Za(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function w3(){var t=Ka(Jg()(lr));return t.copy=function(){return Za(t,w3())},Jo.apply(t,arguments)}function E3(){var t=Q1(Jg()).domain([1,10]);return t.copy=function(){return Za(t,E3()).base(t.base())},Jo.apply(t,arguments)}function M3(){var t=eE(Jg());return t.copy=function(){return Za(t,M3()).constant(t.constant())},Jo.apply(t,arguments)}function fE(){var t=tE(Jg());return t.copy=function(){return Za(t,fE()).exponent(t.exponent())},Jo.apply(t,arguments)}function wle(){return fE.apply(null,arguments).exponent(.5)}function A3(){var t=[],e=lr;function n(r){if(r!=null&&!isNaN(r=+r))return e((mh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ka),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>cae(t,o/r))},n.copy=function(){return A3(e).domain(t)},Jo.apply(n,arguments)}function Qg(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,c=lr,f,u=!1,d;function h(v){return isNaN(v=+v)?d:(v=.5+((v=+f(v))-o)*(r*v<r*o?s:l),c(u?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([t,e,n]=v,i=f(t=+t),o=f(e=+e),a=f(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h):[t,e,n]},h.clamp=function(v){return arguments.length?(u=!!v,h):u},h.interpolator=function(v){return arguments.length?(c=v,h):c};function m(v){return function(g){var p,x,y;return arguments.length?([p,x,y]=g,c=Iae(v,[p,x,y]),h):[c(0),c(.5),c(1)]}}return h.range=m(wu),h.rangeRound=m(Y1),h.unknown=function(v){return arguments.length?(d=v,h):d},function(v){return f=v,i=v(t),o=v(e),a=v(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function T3(){var t=Ka(Qg()(lr));return t.copy=function(){return Za(t,T3())},Jo.apply(t,arguments)}function P3(){var t=Q1(Qg()).domain([.1,1,10]);return t.copy=function(){return Za(t,P3()).base(t.base())},Jo.apply(t,arguments)}function C3(){var t=eE(Qg());return t.copy=function(){return Za(t,C3()).constant(t.constant())},Jo.apply(t,arguments)}function dE(){var t=tE(Qg());return t.copy=function(){return Za(t,dE()).exponent(t.exponent())},Jo.apply(t,arguments)}function Ele(){return dE.apply(null,arguments).exponent(.5)}const XC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sd,scaleDiverging:T3,scaleDivergingLog:P3,scaleDivergingPow:dE,scaleDivergingSqrt:Ele,scaleDivergingSymlog:C3,scaleIdentity:s3,scaleImplicit:B_,scaleLinear:dv,scaleLog:c3,scaleOrdinal:W1,scalePoint:If,scalePow:nE,scaleQuantile:d3,scaleQuantize:h3,scaleRadial:f3,scaleSequential:w3,scaleSequentialLog:E3,scaleSequentialPow:fE,scaleSequentialQuantile:A3,scaleSequentialSqrt:wle,scaleSequentialSymlog:M3,scaleSqrt:ise,scaleSymlog:u3,scaleThreshold:p3,scaleTime:_le,scaleUtc:Sle,tickFormat:a3},Symbol.toStringTag,{value:"Module"}));var Mle=pu;function Ale(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Mle(a):n(a,s)))var s=a,l=o}return l}var ey=Ale;function Tle(t,e){return t>e}var O3=Tle,Ple=ey,Cle=O3,Ole=Su;function Rle(t){return t&&t.length?Ple(t,Ole,Cle):void 0}var Nle=Rle;const ty=It(Nle);function Dle(t,e){return t<e}var R3=Dle,Lle=ey,Ile=R3,kle=Su;function Ule(t){return t&&t.length?Lle(t,kle,Ile):void 0}var Fle=Ule;const ny=It(Fle);var jle=A1,Ble=co,$le=jI,zle=wr;function Hle(t,e){var n=zle(t)?jle:$le;return n(t,Ble(e))}var Vle=Hle,Gle=UI,Wle=Vle;function Xle(t,e){return Gle(Wle(t,e),1)}var qle=Xle;const Yle=It(qle);var Kle=$1;function Zle(t,e){return Kle(t,e)}var Jle=Zle;const xh=It(Jle);var Eu=1e9,Qle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pE,an=!0,ci="[DecimalError] ",Ls=ci+"Invalid argument: ",hE=ci+"Exponent out of range: ",Mu=Math.floor,ms=Math.pow,ece=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ir,In=1e7,en=7,N3=9007199254740991,vv=Mu(N3/en),We={};We.absoluteValue=We.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};We.comparedTo=We.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};We.decimalPlaces=We.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*en;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};We.dividedBy=We.div=function(t){return Io(this,new this.constructor(t))};We.dividedToIntegerBy=We.idiv=function(t){var e=this,n=e.constructor;return Vt(Io(e,new n(t),0,1),n.precision)};We.equals=We.eq=function(t){return!this.cmp(t)};We.exponent=function(){return wn(this)};We.greaterThan=We.gt=function(t){return this.cmp(t)>0};We.greaterThanOrEqualTo=We.gte=function(t){return this.cmp(t)>=0};We.isInteger=We.isint=function(){return this.e>this.d.length-2};We.isNegative=We.isneg=function(){return this.s<0};We.isPositive=We.ispos=function(){return this.s>0};We.isZero=function(){return this.s===0};We.lessThan=We.lt=function(t){return this.cmp(t)<0};We.lessThanOrEqualTo=We.lte=function(t){return this.cmp(t)<1};We.logarithm=We.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ir))throw Error(ci+"NaN");if(n.s<1)throw Error(ci+(n.s?"NaN":"-Infinity"));return n.eq(Ir)?new r(0):(an=!1,e=Io(Td(n,o),Td(t,o),o),an=!0,Vt(e,i))};We.minus=We.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?I3(e,t):D3(e,(t.s=-t.s,t))};We.modulo=We.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ci+"NaN");return n.s?(an=!1,e=Io(n,t,0,1).times(t),an=!0,n.minus(e)):Vt(new r(n),i)};We.naturalExponential=We.exp=function(){return L3(this)};We.naturalLogarithm=We.ln=function(){return Td(this)};We.negated=We.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};We.plus=We.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?D3(e,t):I3(e,(t.s=-t.s,t))};We.precision=We.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ls+t);if(e=wn(i)+1,r=i.d.length-1,n=r*en+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};We.squareRoot=We.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ci+"NaN")}for(t=wn(s),an=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Zi(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Mu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Io(s,o,a+2)).times(.5),Zi(o.d).slice(0,a)===(e=Zi(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Vt(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return an=!0,Vt(r,n)};We.times=We.mul=function(t){var e,n,r,i,o,a,s,l,c,f=this,u=f.constructor,d=f.d,h=(t=new u(t)).d;if(!f.s||!t.s)return new u(0);for(t.s*=f.s,n=f.e+t.e,l=d.length,c=h.length,l<c&&(o=d,d=h,h=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+h[r]*d[i-r-1]+e,o[i--]=s%In|0,e=s/In|0;o[i]=(o[i]+e)%In|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,an?Vt(t,u.precision):t};We.toDecimalPlaces=We.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(io(t,0,Eu),e===void 0?e=r.rounding:io(e,0,8),Vt(n,t+wn(n)+1,e))};We.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=qs(r,!0):(io(t,0,Eu),e===void 0?e=i.rounding:io(e,0,8),r=Vt(new i(r),t+1,e),n=qs(r,!0,t+1)),n};We.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?qs(i):(io(t,0,Eu),e===void 0?e=o.rounding:io(e,0,8),r=Vt(new o(i),t+wn(i)+1,e),n=qs(r.abs(),!1,t+wn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};We.toInteger=We.toint=function(){var t=this,e=t.constructor;return Vt(new e(t),wn(t)+1,e.rounding)};We.toNumber=function(){return+this};We.toPower=We.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,c=12,f=+(t=new l(t));if(!t.s)return new l(Ir);if(s=new l(s),!s.s){if(t.s<1)throw Error(ci+"Infinity");return s}if(s.eq(Ir))return s;if(r=l.precision,t.eq(Ir))return Vt(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=f<0?-f:f)<=N3){for(i=new l(Ir),e=Math.ceil(r/en+4),an=!1;n%2&&(i=i.times(s),YC(i.d,e)),n=Mu(n/2),n!==0;)s=s.times(s),YC(s.d,e);return an=!0,t.s<0?new l(Ir).div(i):Vt(i,r)}}else if(o<0)throw Error(ci+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,an=!1,i=t.times(Td(s,r+c)),an=!0,i=L3(i),i.s=o,i};We.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=wn(i),r=qs(i,n<=o.toExpNeg||n>=o.toExpPos)):(io(t,1,Eu),e===void 0?e=o.rounding:io(e,0,8),i=Vt(new o(i),t,e),n=wn(i),r=qs(i,t<=n||n<=o.toExpNeg,t)),r};We.toSignificantDigits=We.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(io(t,1,Eu),e===void 0?e=r.rounding:io(e,0,8)),Vt(new r(n),t,e)};We.toString=We.valueOf=We.val=We.toJSON=We[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=wn(t),n=t.constructor;return qs(t,e<=n.toExpNeg||e>=n.toExpPos)};function D3(t,e){var n,r,i,o,a,s,l,c,f=t.constructor,u=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),an?Vt(e,u):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(u/en),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/In|0,l[o]%=In;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,an?Vt(e,u):e}function io(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ls+t)}function Zi(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=en-r.length,n&&(o+=va(n)),o+=r;a=t[e],r=a+"",n=en-r.length,n&&(o+=va(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Io=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%In|0,a=o/In|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*In+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,f,u,d,h,m,v,g,p,x,y,b,S,_,w,T,M=r.constructor,A=r.s==i.s?1:-1,P=r.d,O=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(ci+"Division by zero");for(l=r.e-i.e,w=O.length,S=P.length,h=new M(A),m=h.d=[],c=0;O[c]==(P[c]||0);)++c;if(O[c]>(P[c]||0)&&--l,o==null?x=o=M.precision:a?x=o+(wn(r)-wn(i))+1:x=o,x<0)return new M(0);if(x=x/en+2|0,c=0,w==1)for(f=0,O=O[0],x++;(c<S||f)&&x--;c++)y=f*In+(P[c]||0),m[c]=y/O|0,f=y%O|0;else{for(f=In/(O[0]+1)|0,f>1&&(O=t(O,f),P=t(P,f),w=O.length,S=P.length),b=w,v=P.slice(0,w),g=v.length;g<w;)v[g++]=0;T=O.slice(),T.unshift(0),_=O[0],O[1]>=In/2&&++_;do f=0,s=e(O,v,w,g),s<0?(p=v[0],w!=g&&(p=p*In+(v[1]||0)),f=p/_|0,f>1?(f>=In&&(f=In-1),u=t(O,f),d=u.length,g=v.length,s=e(u,v,d,g),s==1&&(f--,n(u,w<d?T:O,d))):(f==0&&(s=f=1),u=O.slice()),d=u.length,d<g&&u.unshift(0),n(v,u,g),s==-1&&(g=v.length,s=e(O,v,w,g),s<1&&(f++,n(v,w<g?T:O,g))),g=v.length):s===0&&(f++,v=[0]),m[c++]=f,s&&v[0]?v[g++]=P[b]||0:(v=[P[b]],g=1);while((b++<S||v[0]!==void 0)&&x--)}return m[0]||m.shift(),h.e=l,Vt(h,a?o+wn(h)+1:o)}}();function L3(t,e){var n,r,i,o,a,s,l=0,c=0,f=t.constructor,u=f.precision;if(wn(t)>16)throw Error(hE+wn(t));if(!t.s)return new f(Ir);for(e==null?(an=!1,s=u):s=e,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(ms(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new f(Ir),f.precision=s;;){if(i=Vt(i.times(t),s),n=n.times(++l),a=o.plus(Io(i,n,s)),Zi(a.d).slice(0,s)===Zi(o.d).slice(0,s)){for(;c--;)o=Vt(o.times(o),s);return f.precision=u,e==null?(an=!0,Vt(o,u)):o}o=a}}function wn(t){for(var e=t.e*en,n=t.d[0];n>=10;n/=10)e++;return e}function tx(t,e,n){if(e>t.LN10.sd())throw an=!0,n&&(t.precision=n),Error(ci+"LN10 precision limit exceeded");return Vt(new t(t.LN10),e)}function va(t){for(var e="";t--;)e+="0";return e}function Td(t,e){var n,r,i,o,a,s,l,c,f,u=1,d=10,h=t,m=h.d,v=h.constructor,g=v.precision;if(h.s<1)throw Error(ci+(h.s?"NaN":"-Infinity"));if(h.eq(Ir))return new v(0);if(e==null?(an=!1,c=g):c=e,h.eq(10))return e==null&&(an=!0),tx(v,c);if(c+=d,v.precision=c,n=Zi(m),r=n.charAt(0),o=wn(h),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=Zi(h.d),r=n.charAt(0),u++;o=wn(h),r>1?(h=new v("0."+n),o++):h=new v(r+"."+n.slice(1))}else return l=tx(v,c+2,g).times(o+""),h=Td(new v(r+"."+n.slice(1)),c-d).plus(l),v.precision=g,e==null?(an=!0,Vt(h,g)):h;for(s=a=h=Io(h.minus(Ir),h.plus(Ir),c),f=Vt(h.times(h),c),i=3;;){if(a=Vt(a.times(f),c),l=s.plus(Io(a,new v(i),c)),Zi(l.d).slice(0,c)===Zi(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(tx(v,c+2,g).times(o+""))),s=Io(s,new v(u),c),v.precision=g,e==null?(an=!0,Vt(s,g)):s;s=l,i+=2}}function qC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Mu(n/en),t.d=[],r=(n+1)%en,n<0&&(r+=en),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=en;r<i;)t.d.push(+e.slice(r,r+=en));e=e.slice(r),r=en-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),an&&(t.e>vv||t.e<-vv))throw Error(hE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Vt(t,e,n){var r,i,o,a,s,l,c,f,u=t.d;for(a=1,o=u[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=en,i=e,c=u[f=0];else{if(f=Math.ceil((r+1)/en),o=u.length,f>=o)return t;for(c=o=u[f],a=1;o>=10;o/=10)a++;r%=en,i=r-en+a}if(n!==void 0&&(o=ms(10,a-i-1),s=c/o%10|0,l=e<0||u[f+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/ms(10,a-i):0:u[f-1])%10&1||n==(t.s<0?8:7))),e<1||!u[0])return l?(o=wn(t),u.length=1,e=e-o-1,u[0]=ms(10,(en-e%en)%en),t.e=Mu(-e/en)||0):(u.length=1,u[0]=t.e=t.s=0),t;if(r==0?(u.length=f,o=1,f--):(u.length=f+1,o=ms(10,en-r),u[f]=i>0?(c/ms(10,a-i)%ms(10,i)|0)*o:0),l)for(;;)if(f==0){(u[0]+=o)==In&&(u[0]=1,++t.e);break}else{if(u[f]+=o,u[f]!=In)break;u[f--]=0,o=1}for(r=u.length;u[--r]===0;)u.pop();if(an&&(t.e>vv||t.e<-vv))throw Error(hE+wn(t));return t}function I3(t,e){var n,r,i,o,a,s,l,c,f,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),an?Vt(e,h):e;if(l=t.d,u=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(f=a<0,f?(n=l,a=-a,s=u.length):(n=u,r=c,s=l.length),i=Math.max(Math.ceil(h/en),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=u.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=u[i]){f=l[i]<u[i];break}a=0}for(f&&(n=l,l=u,u=n,e.s=-e.s),s=l.length,i=u.length-s;i>0;--i)l[s++]=0;for(i=u.length;i>a;){if(l[--i]<u[i]){for(o=i;o&&l[--o]===0;)l[o]=In-1;--l[o],l[i]+=In}l[i]-=u[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,an?Vt(e,h):e):new d(0)}function qs(t,e,n){var r,i=wn(t),o=Zi(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+va(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+va(-i-1)+o,n&&(r=n-a)>0&&(o+=va(r))):i>=a?(o+=va(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+va(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=va(r))),t.s<0?"-"+o:o}function YC(t,e){if(t.length>e)return t.length=e,!0}function k3(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ls+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return qC(a,o.toString())}else if(typeof o!="string")throw Error(Ls+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,ece.test(o))qC(a,o);else throw Error(Ls+o)}if(i.prototype=We,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=k3,i.config=i.set=tce,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function tce(t){if(!t||typeof t!="object")throw Error(ci+"Object expected");var e,n,r,i=["precision",1,Eu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Mu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ls+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ls+n+": "+r);return this}var pE=k3(Qle);Ir=new pE(1);const $t=pE;function nce(t){return ace(t)||oce(t)||ice(t)||rce()}function rce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ice(t,e){if(t){if(typeof t=="string")return V_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V_(t,e)}}function oce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ace(t){if(Array.isArray(t))return V_(t)}function V_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sce=function(e){return e},U3={"@@functional/placeholder":!0},F3=function(e){return e===U3},KC=function(e){return function n(){return arguments.length===0||arguments.length===1&&F3(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},lce=function t(e,n){return e===1?n:KC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==U3}).length;return a>=e?n.apply(void 0,i):t(e-a,KC(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var f=i.map(function(u){return F3(u)?l.shift():u});return n.apply(void 0,nce(f).concat(l))}))})},ry=function(e){return lce(e.length,e)},G_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},cce=ry(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),uce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return sce;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},W_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},j3=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function fce(t){var e;return t===0?e=1:e=Math.floor(new $t(t).abs().log(10).toNumber())+1,e}function dce(t,e,n){for(var r=new $t(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var hce=ry(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),pce=ry(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),mce=ry(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const iy={rangeStep:dce,getDigitCount:fce,interpolateNumber:hce,uninterpolateNumber:pce,uninterpolateTruncation:mce};function X_(t){return yce(t)||gce(t)||B3(t)||vce()}function vce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yce(t){if(Array.isArray(t))return q_(t)}function Pd(t,e){return _ce(t)||bce(t,e)||B3(t,e)||xce()}function xce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B3(t,e){if(t){if(typeof t=="string")return q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(t,e)}}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bce(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function _ce(t){if(Array.isArray(t))return t}function $3(t){var e=Pd(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function z3(t,e,n){if(t.lte(0))return new $t(0);var r=iy.getDigitCount(t.toNumber()),i=new $t(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new $t(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new $t(Math.ceil(l))}function Sce(t,e,n){var r=1,i=new $t(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new $t(10).pow(iy.getDigitCount(t)-1),i=new $t(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new $t(Math.floor(t)))}else t===0?i=new $t(Math.floor((e-1)/2)):n||(i=new $t(Math.floor(t)));var a=Math.floor((e-1)/2),s=uce(cce(function(l){return i.add(new $t(l-a).mul(r)).toNumber()}),G_);return s(0,e)}function H3(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new $t(0),tickMin:new $t(0),tickMax:new $t(0)};var o=z3(new $t(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new $t(0):(a=new $t(t).add(e).div(2),a=a.sub(new $t(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new $t(e).sub(a).div(o).toNumber()),c=s+l+1;return c>n?H3(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:o,tickMin:a.sub(new $t(s).mul(o)),tickMax:a.add(new $t(l).mul(o))})}function wce(t){var e=Pd(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=$3([n,r]),l=Pd(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var u=f===1/0?[c].concat(X_(G_(0,i-1).map(function(){return 1/0}))):[].concat(X_(G_(0,i-1).map(function(){return-1/0})),[f]);return n>r?W_(u):u}if(c===f)return Sce(c,i,o);var d=H3(c,f,a,o),h=d.step,m=d.tickMin,v=d.tickMax,g=iy.rangeStep(m,v.add(new $t(.1).mul(h)),h);return n>r?W_(g):g}function Ece(t,e){var n=Pd(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=$3([r,i]),s=Pd(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var f=Math.max(e,2),u=z3(new $t(c).sub(l).div(f-1),o,0),d=[].concat(X_(iy.rangeStep(new $t(l),new $t(c).sub(new $t(.99).mul(u)),u)),[c]);return r>i?W_(d):d}var Mce=j3(wce),Ace=j3(Ece),Tce="Invariant failed";function Ys(t,e){throw new Error(Tce)}var Pce=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function gv(){return gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gv.apply(this,arguments)}function Cce(t,e){return Dce(t)||Nce(t,e)||Rce(t,e)||Oce()}function Oce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rce(t,e){if(t){if(typeof t=="string")return ZC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZC(t,e)}}function ZC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Dce(t){if(Array.isArray(t))return t}function Lce(t,e){if(t==null)return{};var n=Ice(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ice(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W3(r.key),r)}}function Fce(t,e,n){return e&&Uce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jce(t,e,n){return e=yv(e),Bce(t,V3()?Reflect.construct(e,n||[],yv(t).constructor):e.apply(t,n))}function Bce(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ce(t)}function $ce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V3=function(){return!!t})()}function yv(t){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yv(t)}function zce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y_(t,e)}function Y_(t,e){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y_(t,e)}function G3(t,e,n){return e=W3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W3(t){var e=Hce(t,"string");return Hc(e)=="symbol"?e:e+""}function Hce(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bh=function(t){function e(){return kce(this,e),jce(this,e,arguments)}return zce(e,t),Fce(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,f=r.xAxis,u=r.yAxis,d=Lce(r,Pce),h=et(d,!1);this.props.direction==="x"&&f.type!=="number"&&Ys();var m=l.map(function(v){var g=c(v,s),p=g.x,x=g.y,y=g.value,b=g.errorVal;if(!b)return null;var S=[],_,w;if(Array.isArray(b)){var T=Cce(b,2);_=T[0],w=T[1]}else _=w=b;if(o==="vertical"){var M=f.scale,A=x+i,P=A+a,O=A-a,L=M(y-_),I=M(y+w);S.push({x1:I,y1:P,x2:I,y2:O}),S.push({x1:L,y1:A,x2:I,y2:A}),S.push({x1:L,y1:P,x2:L,y2:O})}else if(o==="horizontal"){var j=u.scale,F=p+i,B=F-a,D=F+a,z=j(y-_),W=j(y+w);S.push({x1:B,y1:W,x2:D,y2:W}),S.push({x1:F,y1:z,x2:F,y2:W}),S.push({x1:B,y1:z,x2:D,y2:z})}return H.createElement(Ct,gv({className:"recharts-errorBar",key:"bar-".concat(S.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},h),S.map(function(J){return H.createElement("line",gv({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return H.createElement(Ct,{className:"recharts-errorBars"},m)}}])}(H.Component);G3(bh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});G3(bh,"displayName","ErrorBar");function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ss(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){Vce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vce(t,e,n){return e=Gce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gce(t){var e=Wce(t,"string");return Cd(e)=="symbol"?e:e+""}function Wce(t,e){if(Cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X3=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Rr(n,Ia);if(!a)return null;var s=Ia.defaultProps,l=s!==void 0?ss(ss({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(r||[]).reduce(function(f,u){var d=u.item,h=u.props,m=h.sectors||h.data||[];return f.concat(m.map(function(v){return{type:a.props.iconType||d.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(r||[]).map(function(f){var u=f.item,d=u.type.defaultProps,h=d!==void 0?ss(ss({},d),u.props):{},m=h.dataKey,v=h.name,g=h.legendType,p=h.hide;return{inactive:p,dataKey:m,type:l.iconType||g||"square",color:mE(u),value:v||m,payload:h}}),ss(ss(ss({},l),Ia.getWithHeight(a,i)),{},{payload:c,item:a})};function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function QC(t){return Kce(t)||Yce(t)||qce(t)||Xce()}function Xce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qce(t,e){if(t){if(typeof t=="string")return K_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(t,e)}}function Yce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kce(t){if(Array.isArray(t))return K_(t)}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){gc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gc(t,e,n){return e=Zce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zce(t){var e=Jce(t,"string");return Od(e)=="symbol"?e:e+""}function Jce(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pn(t,e,n){return ft(t)||ft(e)?n:On(e)?jr(t,e,n):lt(e)?e(t):n}function kf(t,e,n,r){var i=Yle(t,function(s){return Pn(s,e)});if(n==="number"){var o=i.filter(function(s){return Pe(s)||parseFloat(s)});return o.length?[ny(o),ty(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ft(s)}):i;return a.map(function(s){return On(s)||s instanceof Date?s:""})}var Qce=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var f=c>0?i[c-1].coordinate:i[s-1].coordinate,u=i[c].coordinate,d=c>=s-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(ar(u-f)!==ar(d-u)){var m=[];if(ar(d-u)===ar(l[1]-l[0])){h=d;var v=u+l[1]-l[0];m[0]=Math.min(v,(v+f)/2),m[1]=Math.max(v,(v+f)/2)}else{h=f;var g=d+l[1]-l[0];m[0]=Math.min(u,(g+u)/2),m[1]=Math.max(u,(g+u)/2)}var p=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>p[0]&&e<=p[1]||e>=m[0]&&e<=m[1]){a=i[c].index;break}}else{var x=Math.min(f,d),y=Math.max(f,d);if(e>(x+u)/2&&e<=(y+u)/2){a=i[c].index;break}}}else for(var b=0;b<s;b++)if(b===0&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b>0&&b<s-1&&e>(r[b].coordinate+r[b-1].coordinate)/2&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b===s-1&&e>(r[b].coordinate+r[b-1].coordinate)/2){a=r[b].index;break}return a},mE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?pn(pn({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},eue=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var f=o[s[l]].stackGroups,u=Object.keys(f),d=0,h=u.length;d<h;d++){var m=f[u[d]],v=m.items,g=m.cateAxisId,p=v.filter(function(w){return Lo(w.type).indexOf("Bar")>=0});if(p&&p.length){var x=p[0].type.defaultProps,y=x!==void 0?pn(pn({},x),p[0].props):p[0].props,b=y.barSize,S=y[g];a[S]||(a[S]=[]);var _=ft(b)?n:b;a[S].push({item:p[0],stackList:p.slice(1),barSize:ft(_)?void 0:sr(_,r,0)})}}return a},tue=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=sr(n,i,0,!0),f,u=[];if(a[0].barSize===+a[0].barSize){var d=!1,h=i/l,m=a.reduce(function(b,S){return b+S.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&h>0&&(d=!0,h*=.9,m=l*h);var v=(i-m)/2>>0,g={offset:v-c,size:0};f=a.reduce(function(b,S){var _={item:S.item,position:{offset:g.offset+g.size+c,size:d?h:S.barSize}},w=[].concat(QC(b),[_]);return g=w[w.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){w.push({item:T,position:g})}),w},u)}else{var p=sr(r,i,0,!0);i-2*p-(l-1)*c<=0&&(c=0);var x=(i-2*p-(l-1)*c)/l;x>1&&(x>>=0);var y=s===+s?Math.min(x,s):x;f=a.reduce(function(b,S,_){var w=[].concat(QC(b),[{item:S.item,position:{offset:p+(x+c)*_+(x-y)/2,size:y}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){w.push({item:T,position:w[w.length-1].position})}),w},u)}return f},nue=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=X3({children:o,legendWidth:l});if(c){var f=i||{},u=f.width,d=f.height,h=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&h!=="center"&&Pe(e[h]))return pn(pn({},e),{},gc({},h,e[h]+(u||0)));if((v==="horizontal"||v==="vertical"&&h==="center")&&m!=="middle"&&Pe(e[m]))return pn(pn({},e),{},gc({},m,e[m]+(d||0)))}return e},rue=function(e,n,r){return ft(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},q3=function(e,n,r,i,o){var a=n.props.children,s=Br(a,bh).filter(function(c){return rue(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,f){var u=Pn(f,r);if(ft(u))return c;var d=Array.isArray(u)?[ny(u),ty(u)]:[u,u],h=l.reduce(function(m,v){var g=Pn(f,v,0),p=d[0]-Math.abs(Array.isArray(g)?g[0]:g),x=d[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(p,m[0]),Math.max(x,m[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},iue=function(e,n,r,i,o){var a=n.map(function(s){return q3(e,s,r,o,i)}).filter(function(s){return!ft(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},Y3=function(e,n,r,i,o){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&q3(e,l,c,i)||kf(e,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var f=0,u=c.length;f<u;f++)s[c[f]]||(s[c[f]]=!0,l.push(c[f]));return l},[])},K3=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Z3=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Oo=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ar(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(u){var d=o?o.indexOf(u):u;return{coordinate:i(d)+c,value:u,offset:c}});return f.filter(function(u){return!hh(u.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(u,d){return{coordinate:i(u)+c,value:u,index:d,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(u){return{coordinate:i(u)+c,value:u,offset:c}}):i.domain().map(function(u,d){return{coordinate:i(u)+c,value:o?o[u]:u,index:d,offset:c}})},nx=new WeakMap,Dp=function(e,n){if(typeof n!="function")return e;nx.has(e)||nx.set(e,new WeakMap);var r=nx.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},J3=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Sd(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:dv(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:If(),realScaleType:"point"}:o==="category"?{scale:Sd(),realScaleType:"band"}:{scale:dv(),realScaleType:"linear"};if(dh(i)){var l="scale".concat(Bg(i));return{scale:(XC[l]||If)(),realScaleType:XC[l]?l:"point"}}return lt(i)?{scale:i}:{scale:If(),realScaleType:"point"}},tO=1e-4,Q3=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-tO,a=Math.max(i[0],i[1])+tO,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},oue=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},aue=function(e,n){if(!n||n.length!==2||!Pe(n[0])||!Pe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Pe(e[0])||e[0]<r)&&(o[0]=r),(!Pe(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},sue=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=hh(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},lue=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=hh(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},cue={sign:sue,expand:PK,none:Ic,silhouette:CK,wiggle:OK,positive:lue},uue=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=cue[r],a=TK().keys(i).value(function(s,l){return+Pn(s,l,0)}).order(__).offset(o);return a(e)},fue=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},c=s.reduce(function(u,d){var h,m=(h=d.type)!==null&&h!==void 0&&h.defaultProps?pn(pn({},d.type.defaultProps),d.props):d.props,v=m.stackId,g=m.hide;if(g)return u;var p=m[r],x=u[p]||{hasStack:!1,stackGroups:{}};if(On(v)){var y=x.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};y.items.push(d),x.hasStack=!0,x.stackGroups[v]=y}else x.stackGroups[xu("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return pn(pn({},u),{},gc({},p,x))},l),f={};return Object.keys(c).reduce(function(u,d){var h=c[d];if(h.hasStack){var m={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(v,g){var p=h.stackGroups[g];return pn(pn({},v),{},gc({},g,{numericAxisId:r,cateAxisId:i,items:p.items,stackedData:uue(e,p.items,o)}))},m)}return pn(pn({},u),{},gc({},d,h))},f)},ek=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var f=Mce(c,o,s);return e.domain([ny(f),ty(f)]),{niceTicks:f}}if(o&&i==="number"){var u=e.domain(),d=Ace(u,o,s);return{niceTicks:d}}return null};function nO(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ft(i[e.dataKey])){var s=Gm(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Pn(i,ft(a)?e.dataKey:a);return ft(l)?null:e.scale(l)}var rO=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Pn(a,n.dataKey,n.domain[s]);return ft(l)?null:n.scale(l)-o/2+i},due=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},hue=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?pn(pn({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(On(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},pue=function(e){return e.reduce(function(n,r){return[ny(r.concat([n[0]]).filter(Pe)),ty(r.concat([n[1]]).filter(Pe))]},[1/0,-1/0])},tk=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,f){var u=pue(f.slice(n,r+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},iO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z_=function(e,n,r){if(lt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Pe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(iO.test(e[0])){var o=+iO.exec(e[0])[1];i[0]=n[0]-o}else lt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Pe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(oO.test(e[1])){var a=+oO.exec(e[1])[1];i[1]=n[1]+a}else lt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},xv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=H1(n,function(u){return u.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],f=o[s-1];a=Math.min((c.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},aO=function(e,n,r){return!e||!e.length||xh(e,jr(r,"type.defaultProps.domain"))?n:e},nk=function(e,n){var r=e.type.defaultProps?pn(pn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,f=r.hide;return pn(pn({},et(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:mE(e),value:Pn(n,i),type:l,payload:n,chartType:c,hide:f})};function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function So(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){rk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rk(t,e,n){return e=mue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mue(t){var e=vue(t,"string");return Rd(e)=="symbol"?e:e+""}function vue(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gue(t,e){return _ue(t)||bue(t,e)||xue(t,e)||yue()}function yue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xue(t,e){if(t){if(typeof t=="string")return lO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lO(t,e)}}function lO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function _ue(t){if(Array.isArray(t))return t}var bv=Math.PI/180,Sue=function(e){return e*180/Math.PI},Yt=function(e,n,r,i){return{x:e+Math.cos(-bv*i)*r,y:n+Math.sin(-bv*i)*r}},ik=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},wue=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,c=e.endAngle,f=sr(e.cx,a,a/2),u=sr(e.cy,s,s/2),d=ik(a,s,r),h=sr(e.innerRadius,d,0),m=sr(e.outerRadius,d,d*.8),v=Object.keys(n);return v.reduce(function(g,p){var x=n[p],y=x.domain,b=x.reversed,S;if(ft(x.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[h,m]),b&&(S=[S[1],S[0]]);else{S=x.range;var _=S,w=gue(_,2);l=w[0],c=w[1]}var T=J3(x,o),M=T.realScaleType,A=T.scale;A.domain(y).range(S),Q3(A);var P=ek(A,So(So({},x),{},{realScaleType:M})),O=So(So(So({},x),P),{},{range:S,radius:m,realScaleType:M,scale:A,cx:f,cy:u,innerRadius:h,outerRadius:m,startAngle:l,endAngle:c});return So(So({},g),{},rk({},p,O))},{})},Eue=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Mue=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Eue({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:Sue(c),angleInRadian:c}},Aue=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Tue=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},cO=function(e,n){var r=e.x,i=e.y,o=Mue({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var f=Aue(n),u=f.startAngle,d=f.endAngle,h=s,m;if(u<=d){for(;h>d;)h-=360;for(;h<u;)h+=360;m=h>=u&&h<=d}else{for(;h>u;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=u}return m?So(So({},n),{},{radius:a,angle:Tue(h,n)}):null},ok=function(e){return!C.isValidElement(e)&&!lt(e)&&typeof e!="boolean"?e.className:""};function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}var Pue=["offset"];function Cue(t){return Due(t)||Nue(t)||Rue(t)||Oue()}function Oue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rue(t,e){if(t){if(typeof t=="string")return J_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(t,e)}}function Nue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Due(t){if(Array.isArray(t))return J_(t)}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lue(t,e){if(t==null)return{};var n=Iue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Iue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(n),!0).forEach(function(r){kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kue(t,e,n){return e=Uue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uue(t){var e=Fue(t,"string");return Nd(e)=="symbol"?e:e+""}function Fue(t,e){if(Nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dd.apply(this,arguments)}var jue=function(e){var n=e.value,r=e.formatter,i=ft(e.children)?n:e.children;return lt(r)?r(i):i},Bue=function(e,n){var r=ar(n-e),i=Math.min(Math.abs(n-e),360);return r*i},$ue=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,f=l.cy,u=l.innerRadius,d=l.outerRadius,h=l.startAngle,m=l.endAngle,v=l.clockWise,g=(u+d)/2,p=Bue(h,m),x=p>=0?1:-1,y,b;i==="insideStart"?(y=h+x*a,b=v):i==="insideEnd"?(y=m-x*a,b=!v):i==="end"&&(y=m+x*a,b=v),b=p<=0?b:!b;var S=Yt(c,f,g,y),_=Yt(c,f,g,y+(b?1:-1)*359),w="M".concat(S.x,",").concat(S.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(_.x,",").concat(_.y),T=ft(e.id)?xu("recharts-radial-line-"):e.id;return H.createElement("text",Dd({},r,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",s)}),H.createElement("defs",null,H.createElement("path",{id:T,d:w})),H.createElement("textPath",{xlinkHref:"#".concat(T)},n))},zue=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,f=o.startAngle,u=o.endAngle,d=(f+u)/2;if(i==="outside"){var h=Yt(a,s,c+r,d),m=h.x,v=h.y;return{x:m,y:v,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,p=Yt(a,s,g,d),x=p.x,y=p.y;return{x,y,textAnchor:"middle",verticalAnchor:"middle"}},Hue=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,c=a.width,f=a.height,u=f>=0?1:-1,d=u*i,h=u>0?"end":"start",m=u>0?"start":"end",v=c>=0?1:-1,g=v*i,p=v>0?"end":"start",x=v>0?"start":"end";if(o==="top"){var y={x:s+c/2,y:l-u*i,textAnchor:"middle",verticalAnchor:h};return An(An({},y),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var b={x:s+c/2,y:l+f+d,textAnchor:"middle",verticalAnchor:m};return An(An({},b),r?{height:Math.max(r.y+r.height-(l+f),0),width:c}:{})}if(o==="left"){var S={x:s-g,y:l+f/2,textAnchor:p,verticalAnchor:"middle"};return An(An({},S),r?{width:Math.max(S.x-r.x,0),height:f}:{})}if(o==="right"){var _={x:s+c+g,y:l+f/2,textAnchor:x,verticalAnchor:"middle"};return An(An({},_),r?{width:Math.max(r.x+r.width-_.x,0),height:f}:{})}var w=r?{width:c,height:f}:{};return o==="insideLeft"?An({x:s+g,y:l+f/2,textAnchor:x,verticalAnchor:"middle"},w):o==="insideRight"?An({x:s+c-g,y:l+f/2,textAnchor:p,verticalAnchor:"middle"},w):o==="insideTop"?An({x:s+c/2,y:l+d,textAnchor:"middle",verticalAnchor:m},w):o==="insideBottom"?An({x:s+c/2,y:l+f-d,textAnchor:"middle",verticalAnchor:h},w):o==="insideTopLeft"?An({x:s+g,y:l+d,textAnchor:x,verticalAnchor:m},w):o==="insideTopRight"?An({x:s+c-g,y:l+d,textAnchor:p,verticalAnchor:m},w):o==="insideBottomLeft"?An({x:s+g,y:l+f-d,textAnchor:x,verticalAnchor:h},w):o==="insideBottomRight"?An({x:s+c-g,y:l+f-d,textAnchor:p,verticalAnchor:h},w):mu(o)&&(Pe(o.x)||Ts(o.x))&&(Pe(o.y)||Ts(o.y))?An({x:s+sr(o.x,c),y:l+sr(o.y,f),textAnchor:"end",verticalAnchor:"end"},w):An({x:s+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},w)},Vue=function(e){return"cx"in e&&Pe(e.cx)};function Fn(t){var e=t.offset,n=e===void 0?5:e,r=Lue(t,Pue),i=An({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,f=i.className,u=f===void 0?"":f,d=i.textBreakAll;if(!o||ft(s)&&ft(l)&&!C.isValidElement(c)&&!lt(c))return null;if(C.isValidElement(c))return C.cloneElement(c,i);var h;if(lt(c)){if(h=C.createElement(c,i),C.isValidElement(h))return h}else h=jue(i);var m=Vue(o),v=et(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return $ue(i,h,v);var g=m?zue(i):Hue(i);return H.createElement(Xs,Dd({className:vt("recharts-label",u)},v,g,{breakAll:d}),h)}Fn.displayName="Label";var ak=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,f=e.outerRadius,u=e.x,d=e.y,h=e.top,m=e.left,v=e.width,g=e.height,p=e.clockWise,x=e.labelViewBox;if(x)return x;if(Pe(v)&&Pe(g)){if(Pe(u)&&Pe(d))return{x:u,y:d,width:v,height:g};if(Pe(h)&&Pe(m))return{x:h,y:m,width:v,height:g}}return Pe(u)&&Pe(d)?{x:u,y:d,width:0,height:0}:Pe(n)&&Pe(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:f||l||s||0,clockWise:p}:e.viewBox?e.viewBox:{}},Gue=function(e,n){return e?e===!0?H.createElement(Fn,{key:"label-implicit",viewBox:n}):On(e)?H.createElement(Fn,{key:"label-implicit",viewBox:n,value:e}):C.isValidElement(e)?e.type===Fn?C.cloneElement(e,{key:"label-implicit",viewBox:n}):H.createElement(Fn,{key:"label-implicit",content:e,viewBox:n}):lt(e)?H.createElement(Fn,{key:"label-implicit",content:e,viewBox:n}):mu(e)?H.createElement(Fn,Dd({viewBox:n},e,{key:"label-implicit"})):null:null},Wue=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=ak(e),a=Br(i,Fn).map(function(l,c){return C.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return a;var s=Gue(e.label,n||o);return[s].concat(Cue(a))};Fn.parseViewBox=ak;Fn.renderCallByParent=Wue;function Xue(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var que=Xue;const Yue=It(que);function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}var Kue=["valueAccessor"],Zue=["data","dataKey","clockWise","id","textBreakAll"];function Jue(t){return nfe(t)||tfe(t)||efe(t)||Que()}function Que(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function efe(t,e){if(t){if(typeof t=="string")return Q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q_(t,e)}}function tfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nfe(t){if(Array.isArray(t))return Q_(t)}function Q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_v.apply(this,arguments)}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){rfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rfe(t,e,n){return e=ife(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ife(t){var e=ofe(t,"string");return Ld(e)=="symbol"?e:e+""}function ofe(t,e){if(Ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hO(t,e){if(t==null)return{};var n=afe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function afe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sfe=function(e){return Array.isArray(e.value)?Yue(e.value):e.value};function ko(t){var e=t.valueAccessor,n=e===void 0?sfe:e,r=hO(t,Kue),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=hO(r,Zue);return!i||!i.length?null:H.createElement(Ct,{className:"recharts-label-list"},i.map(function(f,u){var d=ft(o)?n(f,u):Pn(f&&f.payload,o),h=ft(s)?{}:{id:"".concat(s,"-").concat(u)};return H.createElement(Fn,_v({},et(f,!0),c,h,{parentViewBox:f.parentViewBox,value:d,textBreakAll:l,viewBox:Fn.parseViewBox(ft(a)?f:dO(dO({},f),{},{clockWise:a})),key:"label-".concat(u),index:u}))}))}ko.displayName="LabelList";function lfe(t,e){return t?t===!0?H.createElement(ko,{key:"labelList-implicit",data:e}):H.isValidElement(t)||lt(t)?H.createElement(ko,{key:"labelList-implicit",data:e,content:t}):mu(t)?H.createElement(ko,_v({data:e},t,{key:"labelList-implicit"})):null:null}function cfe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Br(r,ko).map(function(a,s){return C.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=lfe(t.label,e);return[o].concat(Jue(i))}ko.renderCallByParent=cfe;function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(this,arguments)}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){ufe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ufe(t,e,n){return e=ffe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ffe(t){var e=dfe(t,"string");return Id(e)=="symbol"?e:e+""}function dfe(t,e){if(Id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hfe=function(e,n){var r=ar(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Lp=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,f=l*(s?1:-1)+i,u=Math.asin(l/f)/bv,d=c?o:o+a*u,h=Yt(n,r,f,d),m=Yt(n,r,i,d),v=c?o-a*u:o,g=Yt(n,r,f*Math.cos(u*bv),v);return{center:h,circleTangency:m,lineTangency:g,theta:u}},sk=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=hfe(a,s),c=a+l,f=Yt(n,r,o,a),u=Yt(n,r,o,c),d="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(i>0){var h=Yt(n,r,i,a),m=Yt(n,r,i,c);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},pfe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,f=e.endAngle,u=ar(f-c),d=Lp({cx:n,cy:r,radius:o,angle:c,sign:u,cornerRadius:a,cornerIsExternal:l}),h=d.circleTangency,m=d.lineTangency,v=d.theta,g=Lp({cx:n,cy:r,radius:o,angle:f,sign:-u,cornerRadius:a,cornerIsExternal:l}),p=g.circleTangency,x=g.lineTangency,y=g.theta,b=l?Math.abs(c-f):Math.abs(c-f)-v-y;if(b<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):sk({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:f});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var _=Lp({cx:n,cy:r,radius:i,angle:c,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),w=_.circleTangency,T=_.lineTangency,M=_.theta,A=Lp({cx:n,cy:r,radius:i,angle:f,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),P=A.circleTangency,O=A.lineTangency,L=A.theta,I=l?Math.abs(c-f):Math.abs(c-f)-M-L;if(I<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},mfe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lk=function(e){var n=mO(mO({},mfe),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,f=n.startAngle,u=n.endAngle,d=n.className;if(a<o||f===u)return null;var h=vt("recharts-sector",d),m=a-o,v=sr(s,m,0,!0),g;return v>0&&Math.abs(f-u)<360?g=pfe({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:u}):g=sk({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:f,endAngle:u}),H.createElement("path",eS({},et(n,!0),{className:h,d:g,role:"img"}))};function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tS.apply(this,arguments)}function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){vfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vfe(t,e,n){return e=gfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gfe(t){var e=yfe(t,"string");return kd(e)=="symbol"?e:e+""}function yfe(t,e){if(kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yO={curveBasisClosed:vK,curveBasisOpen:gK,curveBasis:mK,curveBumpX:tK,curveBumpY:nK,curveLinearClosed:yK,curveLinear:zg,curveMonotoneX:xK,curveMonotoneY:bK,curveNatural:_K,curveStep:SK,curveStepAfter:EK,curveStepBefore:wK},Ip=function(e){return e.x===+e.x&&e.y===+e.y},rf=function(e){return e.x},of=function(e){return e.y},xfe=function(e,n){if(lt(e))return e;var r="curve".concat(Bg(e));return(r==="curveMonotone"||r==="curveBump")&&n?yO["".concat(r).concat(n==="vertical"?"Y":"X")]:yO[r]||zg},bfe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,f=xfe(r,s),u=c?o.filter(function(v){return Ip(v)}):o,d;if(Array.isArray(a)){var h=c?a.filter(function(v){return Ip(v)}):a,m=u.map(function(v,g){return gO(gO({},v),{},{base:h[g]})});return s==="vertical"?d=Mp().y(of).x1(rf).x0(function(v){return v.base.x}):d=Mp().x(rf).y1(of).y0(function(v){return v.base.y}),d.defined(Ip).curve(f),d(m)}return s==="vertical"&&Pe(a)?d=Mp().y(of).x1(rf).x0(a):Pe(a)?d=Mp().x(rf).y1(of).y0(a):d=nI().x(rf).y(of),d.defined(Ip).curve(f),d(u)},Sv=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?bfe(e):i;return H.createElement("path",tS({},et(e,!1),Wm(e),{className:vt("recharts-curve",n),d:a,ref:o}))},ck={exports:{}},_fe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Sfe=_fe,wfe=Sfe;function uk(){}function fk(){}fk.resetWarningCache=uk;var Efe=function(){function t(r,i,o,a,s,l){if(l!==wfe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:fk,resetWarningCache:uk};return n.PropTypes=n,n};ck.exports=Efe();var Mfe=ck.exports;const pt=It(Mfe);var Afe=Object.getOwnPropertyNames,Tfe=Object.getOwnPropertySymbols,Pfe=Object.prototype.hasOwnProperty;function xO(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function kp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function bO(t){return Afe(t).concat(Tfe(t))}var dk=Object.hasOwn||function(t,e){return Pfe.call(t,e)};function Au(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var hk="_owner",_O=Object.getOwnPropertyDescriptor,SO=Object.keys;function Cfe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Ofe(t,e){return Au(t.getTime(),e.getTime())}function wO(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),o=0,a,s;(a=i.next())&&!a.done;){for(var l=e.entries(),c=!1,f=0;(s=l.next())&&!s.done;){var u=a.value,d=u[0],h=u[1],m=s.value,v=m[0],g=m[1];!c&&!r[f]&&(c=n.equals(d,v,o,f,t,e,n)&&n.equals(h,g,d,v,t,e,n))&&(r[f]=!0),f++}if(!c)return!1;o++}return!0}function Rfe(t,e,n){var r=SO(t),i=r.length;if(SO(e).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===hk&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!dk(e,o)||!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function af(t,e,n){var r=bO(t),i=r.length;if(bO(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],o===hk&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!dk(e,o)||!n.equals(t[o],e[o],o,o,t,e,n)||(a=_O(t,o),s=_O(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Nfe(t,e){return Au(t.valueOf(),e.valueOf())}function Dfe(t,e){return t.source===e.source&&t.flags===e.flags}function EO(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),o,a;(o=i.next())&&!o.done;){for(var s=e.values(),l=!1,c=0;(a=s.next())&&!a.done;)!l&&!r[c]&&(l=n.equals(o.value,a.value,o.value,a.value,t,e,n))&&(r[c]=!0),c++;if(!l)return!1}return!0}function Lfe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var Ife="[object Arguments]",kfe="[object Boolean]",Ufe="[object Date]",Ffe="[object Map]",jfe="[object Number]",Bfe="[object Object]",$fe="[object RegExp]",zfe="[object Set]",Hfe="[object String]",Vfe=Array.isArray,MO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,AO=Object.assign,Gfe=Object.prototype.toString.call.bind(Object.prototype.toString);function Wfe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(f,u,d){if(f===u)return!0;if(f==null||u==null||typeof f!="object"||typeof u!="object")return f!==f&&u!==u;var h=f.constructor;if(h!==u.constructor)return!1;if(h===Object)return i(f,u,d);if(Vfe(f))return e(f,u,d);if(MO!=null&&MO(f))return l(f,u,d);if(h===Date)return n(f,u,d);if(h===RegExp)return a(f,u,d);if(h===Map)return r(f,u,d);if(h===Set)return s(f,u,d);var m=Gfe(f);return m===Ufe?n(f,u,d):m===$fe?a(f,u,d):m===Ffe?r(f,u,d):m===zfe?s(f,u,d):m===Bfe?typeof f.then!="function"&&typeof u.then!="function"&&i(f,u,d):m===Ife?i(f,u,d):m===kfe||m===jfe||m===Hfe?o(f,u,d):!1}}function Xfe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?af:Cfe,areDatesEqual:Ofe,areMapsEqual:r?xO(wO,af):wO,areObjectsEqual:r?af:Rfe,arePrimitiveWrappersEqual:Nfe,areRegExpsEqual:Dfe,areSetsEqual:r?xO(EO,af):EO,areTypedArraysEqual:r?af:Lfe};if(n&&(i=AO({},i,n(i))),e){var o=kp(i.areArraysEqual),a=kp(i.areMapsEqual),s=kp(i.areObjectsEqual),l=kp(i.areSetsEqual);i=AO({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function qfe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Yfe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,c){var f=r(),u=f.cache,d=u===void 0?e?new WeakMap:void 0:u,h=f.meta;return n(l,c,{cache:d,equals:i,meta:h,strict:o})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,a)}}var Kfe=Ja();Ja({strict:!0});Ja({circular:!0});Ja({circular:!0,strict:!0});Ja({createInternalComparator:function(){return Au}});Ja({strict:!0,createInternalComparator:function(){return Au}});Ja({circular:!0,createInternalComparator:function(){return Au}});Ja({circular:!0,createInternalComparator:function(){return Au},strict:!0});function Ja(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=Xfe(t),l=Wfe(s),c=r?r(l):qfe(l);return Yfe({circular:n,comparator:l,createState:i,equals:c,strict:a})}function Zfe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function TO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Zfe(i)};requestAnimationFrame(r)}function nS(t){"@babel/helpers - typeof";return nS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nS(t)}function Jfe(t){return nde(t)||tde(t)||ede(t)||Qfe()}function Qfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ede(t,e){if(t){if(typeof t=="string")return PO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PO(t,e)}}function PO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nde(t){if(Array.isArray(t))return t}function rde(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Jfe(a),l=s[0],c=s.slice(1);if(typeof l=="number"){TO(i.bind(null,c),l);return}i(l),TO(i.bind(null,c));return}nS(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){pk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pk(t,e,n){return e=ide(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ide(t){var e=ode(t,"string");return Ud(e)==="symbol"?e:String(e)}function ode(t,e){if(Ud(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ud(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ade=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},sde=function(e){return e},lde=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Uf=function(e,n){return Object.keys(n).reduce(function(r,i){return OO(OO({},r),{},pk({},i,e(i,n[i])))},{})},RO=function(e,n,r){return e.map(function(i){return"".concat(lde(i)," ").concat(n,"ms ").concat(r)}).join(",")};function cde(t,e){return dde(t)||fde(t,e)||mk(t,e)||ude()}function ude(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function dde(t){if(Array.isArray(t))return t}function hde(t){return vde(t)||mde(t)||mk(t)||pde()}function pde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mk(t,e){if(t){if(typeof t=="string")return rS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rS(t,e)}}function mde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vde(t){if(Array.isArray(t))return rS(t)}function rS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wv=1e-4,vk=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},gk=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},NO=function(e,n){return function(r){var i=vk(e,n);return gk(i,r)}},gde=function(e,n){return function(r){var i=vk(e,n),o=[].concat(hde(i.map(function(a,s){return a*s}).slice(1)),[0]);return gk(o,r)}},DO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),f=cde(c,4);i=f[0],o=f[1],a=f[2],s=f[3]}}}var u=NO(i,a),d=NO(o,s),h=gde(i,a),m=function(p){return p>1?1:p<0?0:p},v=function(p){for(var x=p>1?1:p,y=x,b=0;b<8;++b){var S=u(y)-x,_=h(y);if(Math.abs(S-x)<wv||_<wv)return d(y);y=m(y-S/_)}return d(y)};return v.isStepper=!1,v},yde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(f,u,d){var h=-(f-u)*r,m=d*o,v=d+(h-m)*s/1e3,g=d*s/1e3+f;return Math.abs(g-u)<wv&&Math.abs(v)<wv?[u,0]:[g,v]};return l.isStepper=!0,l.dt=s,l},xde=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DO(i);case"spring":return yde();default:if(i.split("(")[0]==="cubic-bezier")return DO(i)}return typeof i=="function"?i:null};function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function LO(t){return Sde(t)||_de(t)||yk(t)||bde()}function bde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _de(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sde(t){if(Array.isArray(t))return oS(t)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){iS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iS(t,e,n){return e=wde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wde(t){var e=Ede(t,"string");return Fd(e)==="symbol"?e:String(e)}function Ede(t,e){if(Fd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mde(t,e){return Pde(t)||Tde(t,e)||yk(t,e)||Ade()}function Ade(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yk(t,e){if(t){if(typeof t=="string")return oS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oS(t,e)}}function oS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Pde(t){if(Array.isArray(t))return t}var Ev=function(e,n,r){return e+(n-e)*r},aS=function(e){var n=e.from,r=e.to;return n!==r},Cde=function t(e,n,r){var i=Uf(function(o,a){if(aS(a)){var s=e(a.from,a.to,a.velocity),l=Mde(s,2),c=l[0],f=l[1];return Hn(Hn({},a),{},{from:c,velocity:f})}return a},n);return r<1?Uf(function(o,a){return aS(a)?Hn(Hn({},a),{},{velocity:Ev(a.velocity,i[o].velocity,r),from:Ev(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Ode=function(t,e,n,r,i){var o=ade(t,e),a=o.reduce(function(g,p){return Hn(Hn({},g),{},iS({},p,[t[p],e[p]]))},{}),s=o.reduce(function(g,p){return Hn(Hn({},g),{},iS({},p,{from:t[p],velocity:0,to:e[p]}))},{}),l=-1,c,f,u=function(){return null},d=function(){return Uf(function(p,x){return x.from},s)},h=function(){return!Object.values(s).filter(aS).length},m=function(p){c||(c=p);var x=p-c,y=x/n.dt;s=Cde(n,s,y),i(Hn(Hn(Hn({},t),e),d())),c=p,h()||(l=requestAnimationFrame(u))},v=function(p){f||(f=p);var x=(p-f)/r,y=Uf(function(S,_){return Ev.apply(void 0,LO(_).concat([n(x)]))},a);if(i(Hn(Hn(Hn({},t),e),y)),x<1)l=requestAnimationFrame(u);else{var b=Uf(function(S,_){return Ev.apply(void 0,LO(_).concat([n(1)]))},a);i(Hn(Hn(Hn({},t),e),b))}};return u=n.isStepper?m:v,function(){return requestAnimationFrame(u),function(){cancelAnimationFrame(l)}}};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}var Rde=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Nde(t,e){if(t==null)return{};var n=Dde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rx(t){return Ude(t)||kde(t)||Ide(t)||Lde()}function Lde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ide(t,e){if(t){if(typeof t=="string")return sS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sS(t,e)}}function kde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ude(t){if(Array.isArray(t))return sS(t)}function sS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){xf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xf(t,e,n){return e=xk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xk(r.key),r)}}function Bde(t,e,n){return e&&jde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xk(t){var e=$de(t,"string");return Vc(e)==="symbol"?e:String(e)}function $de(t,e){if(Vc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lS(t,e)}function lS(t,e){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lS(t,e)}function Hde(t){var e=Vde();return function(){var r=Mv(t),i;if(e){var o=Mv(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return cS(this,i)}}function cS(t,e){if(e&&(Vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uS(t)}function uS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vde(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mv(t){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mv(t)}var oo=function(t){zde(n,t);var e=Hde(n);function n(r,i){var o;Fde(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,f=a.to,u=a.steps,d=a.children,h=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(uS(o)),o.changeStyle=o.changeStyle.bind(uS(o)),!s||h<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:f}),cS(o);if(u&&u.length)o.state={style:u[0].style};else if(c){if(typeof d=="function")return o.state={style:c},cS(o);o.state={style:l?xf({},l,c):c}}else o.state={style:{}};return o}return Bde(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,f=o.to,u=o.from,d=this.state.style;if(s){if(!a){var h={style:l?xf({},l,f):f};this.state&&d&&(l&&d[l]!==f||!l&&d!==f)&&this.setState(h);return}if(!(Kfe(i.to,f)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?u:i.to;if(this.state&&d){var g={style:l?xf({},l,v):v};(l&&d[l]!==v||!l&&d!==v)&&this.setState(g)}this.runAnimation(yi(yi({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,f=i.begin,u=i.onAnimationEnd,d=i.onAnimationStart,h=Ode(a,s,xde(c),l,this.changeStyle),m=function(){o.stopJSAnimation=h()};this.manager.start([d,f,m,l,u])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],f=c.style,u=c.duration,d=u===void 0?0:u,h=function(v,g,p){if(p===0)return v;var x=g.duration,y=g.easing,b=y===void 0?"ease":y,S=g.style,_=g.properties,w=g.onAnimationEnd,T=p>0?a[p-1]:g,M=_||Object.keys(S);if(typeof b=="function"||b==="spring")return[].concat(rx(v),[o.runJSAnimation.bind(o,{from:T.style,to:S,duration:x,easing:b}),x]);var A=RO(M,x,b),P=yi(yi(yi({},T.style),S),{},{transition:A});return[].concat(rx(v),[P,x,w]).filter(sde)};return this.manager.start([l].concat(rx(a.reduce(h,[f,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=rde());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,f=i.onAnimationStart,u=i.onAnimationEnd,d=i.steps,h=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var v=s?xf({},s,l):l,g=RO(Object.keys(v),a,c);m.start([f,o,yi(yi({},v),{},{transition:g}),a,u])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Nde(i,Rde),c=C.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!s||c===0||a<=0)return o;var u=function(h){var m=h.props,v=m.style,g=v===void 0?{}:v,p=m.className,x=C.cloneElement(h,yi(yi({},l),{},{style:yi(yi({},g),f),className:p}));return x};return c===1?u(C.Children.only(o)):H.createElement("div",null,C.Children.map(o,function(d){return u(d)}))}}]),n}(C.PureComponent);oo.displayName="Animate";oo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};oo.propTypes={from:pt.oneOfType([pt.object,pt.string]),to:pt.oneOfType([pt.object,pt.string]),attributeName:pt.string,duration:pt.number,begin:pt.number,easing:pt.oneOfType([pt.string,pt.func]),steps:pt.arrayOf(pt.shape({duration:pt.number.isRequired,style:pt.object.isRequired,easing:pt.oneOfType([pt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),pt.func]),properties:pt.arrayOf("string"),onAnimationEnd:pt.func})),children:pt.oneOfType([pt.node,pt.func]),isActive:pt.bool,canBegin:pt.bool,onAnimationEnd:pt.func,shouldReAnimate:pt.bool,onAnimationStart:pt.func,onAnimationReStart:pt.func};pt.object,pt.object,pt.object,pt.element;pt.object,pt.object,pt.object,pt.oneOfType([pt.array,pt.element]),pt.any;function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(this,arguments)}function Gde(t,e){return Yde(t)||qde(t,e)||Xde(t,e)||Wde()}function Wde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xde(t,e){if(t){if(typeof t=="string")return UO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UO(t,e)}}function UO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Yde(t){if(Array.isArray(t))return t}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){Kde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kde(t,e,n){return e=Zde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zde(t){var e=Jde(t,"string");return jd(e)=="symbol"?e:e+""}function Jde(t,e){if(jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BO=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,f;if(a>0&&o instanceof Array){for(var u=[0,0,0,0],d=0,h=4;d<h;d++)u[d]=o[d]>a?a:o[d];f="M".concat(e,",").concat(n+s*u[0]),u[0]>0&&(f+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(n)),f+="L ".concat(e+r-l*u[1],",").concat(n),u[1]>0&&(f+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*u[1])),f+="L ".concat(e+r,",").concat(n+i-s*u[2]),u[2]>0&&(f+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-l*u[2],",").concat(n+i)),f+="L ".concat(e+l*u[3],",").concat(n+i),u[3]>0&&(f+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*u[3])),f+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);f="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*m," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},Qde=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),f=Math.max(o,o+s),u=Math.min(a,a+l),d=Math.max(a,a+l);return r>=c&&r<=f&&i>=u&&i<=d}return!1},ehe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vE=function(e){var n=jO(jO({},ehe),e),r=C.useRef(),i=C.useState(-1),o=Gde(i,2),a=o[0],s=o[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var l=n.x,c=n.y,f=n.width,u=n.height,d=n.radius,h=n.className,m=n.animationEasing,v=n.animationDuration,g=n.animationBegin,p=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||u!==+u||f===0||u===0)return null;var y=vt("recharts-rectangle",h);return x?H.createElement(oo,{canBegin:a>0,from:{width:f,height:u,x:l,y:c},to:{width:f,height:u,x:l,y:c},duration:v,animationEasing:m,isActive:x},function(b){var S=b.width,_=b.height,w=b.x,T=b.y;return H.createElement(oo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:v,isActive:p,easing:m},H.createElement("path",Av({},et(n,!0),{className:y,d:BO(w,T,S,_,d),ref:r})))}):H.createElement("path",Av({},et(n,!0),{className:y,d:BO(l,c,f,u,d)}))},the=["points","className","baseLinePoints","connectNulls"];function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ec.apply(this,arguments)}function nhe(t,e){if(t==null)return{};var n=rhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $O(t){return she(t)||ahe(t)||ohe(t)||ihe()}function ihe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ohe(t,e){if(t){if(typeof t=="string")return fS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fS(t,e)}}function ahe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function she(t){if(Array.isArray(t))return fS(t)}function fS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zO=function(e){return e&&e.x===+e.x&&e.y===+e.y},lhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){zO(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),zO(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ff=function(e,n){var r=lhe(e);n&&(r=[r.reduce(function(o,a){return[].concat($O(o),$O(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},che=function(e,n,r){var i=Ff(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ff(n.reverse(),r).slice(1))},uhe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=nhe(e,the);if(!n||!n.length)return null;var s=vt("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=che(n,i,o);return H.createElement("g",{className:s},H.createElement("path",ec({},et(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?H.createElement("path",ec({},et(a,!0),{fill:"none",d:Ff(n,o)})):null,l?H.createElement("path",ec({},et(a,!0),{fill:"none",d:Ff(i,o)})):null)}var f=Ff(n,o);return H.createElement("path",ec({},et(a,!0),{fill:f.slice(-1)==="Z"?a.fill:"none",className:s,d:f}))};function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dS.apply(this,arguments)}var oy=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=vt("recharts-dot",o);return n===+n&&r===+r&&i===+i?H.createElement("circle",dS({},et(e,!1),Wm(e),{className:a,cx:n,cy:r,r:i})):null};function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}var fhe=["x","y","top","left","width","height","className"];function hS(){return hS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hS.apply(this,arguments)}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dhe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){hhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hhe(t,e,n){return e=phe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function phe(t){var e=mhe(t,"string");return Bd(e)=="symbol"?e:e+""}function mhe(t,e){if(Bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vhe(t,e){if(t==null)return{};var n=ghe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ghe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yhe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},xhe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,f=e.width,u=f===void 0?0:f,d=e.height,h=d===void 0?0:d,m=e.className,v=vhe(e,fhe),g=dhe({x:r,y:o,top:s,left:c,width:u,height:h},v);return!Pe(r)||!Pe(o)||!Pe(u)||!Pe(h)||!Pe(s)||!Pe(c)?null:H.createElement("path",hS({},et(g,!0),{className:vt("recharts-cross",m),d:yhe(r,o,u,h,s,c)}))},bhe=ey,_he=O3,She=co;function whe(t,e){return t&&t.length?bhe(t,She(e),_he):void 0}var Ehe=whe;const Mhe=It(Ehe);var Ahe=ey,The=co,Phe=R3;function Che(t,e){return t&&t.length?Ahe(t,The(e),Phe):void 0}var Ohe=Che;const Rhe=It(Ohe);var Nhe=["cx","cy","angle","ticks","axisLine"],Dhe=["ticks","tick","angle","tickFormatter","stroke"];function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function jf(){return jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jf.apply(this,arguments)}function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){ay(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GO(t,e){if(t==null)return{};var n=Lhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ihe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_k(r.key),r)}}function khe(t,e,n){return e&&WO(t.prototype,e),n&&WO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uhe(t,e,n){return e=Tv(e),Fhe(t,bk()?Reflect.construct(e,n||[],Tv(t).constructor):e.apply(t,n))}function Fhe(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jhe(t)}function jhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bk=function(){return!!t})()}function Tv(t){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tv(t)}function Bhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pS(t,e)}function pS(t,e){return pS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pS(t,e)}function ay(t,e,n){return e=_k(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _k(t){var e=$he(t,"string");return Gc(e)=="symbol"?e:e+""}function $he(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sy=function(t){function e(){return Ihe(this,e),Uhe(this,e,arguments)}return Bhe(e,t),khe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Yt(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=Mhe(s,function(f){return f.coordinate||0}),c=Rhe(s,function(f){return f.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,c=GO(r,Nhe),f=s.reduce(function(m,v){return[Math.min(m[0],v.coordinate),Math.max(m[1],v.coordinate)]},[1/0,-1/0]),u=Yt(i,o,f[0],a),d=Yt(i,o,f[1],a),h=ls(ls(ls({},et(c,!1)),{},{fill:"none"},et(l,!1)),{},{x1:u.x,y1:u.y,x2:d.x,y2:d.y});return H.createElement("line",jf({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,f=GO(i,Dhe),u=this.getTickTextAnchor(),d=et(f,!1),h=et(a,!1),m=o.map(function(v,g){var p=r.getTickValueCoord(v),x=ls(ls(ls(ls({textAnchor:u,transform:"rotate(".concat(90-s,", ").concat(p.x,", ").concat(p.y,")")},d),{},{stroke:"none",fill:c},h),{},{index:g},p),{},{payload:v});return H.createElement(Ct,jf({className:vt("recharts-polar-radius-axis-tick",ok(a)),key:"tick-".concat(v.coordinate)},Ws(r.props,v,g)),e.renderTickItem(a,x,l?l(v.value,g):v.value))});return H.createElement(Ct,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:H.createElement(Ct,{className:vt("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Fn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return H.isValidElement(r)?a=H.cloneElement(r,i):lt(r)?a=r(i):a=H.createElement(Xs,jf({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(C.PureComponent);ay(sy,"displayName","PolarRadiusAxis");ay(sy,"axisType","radiusAxis");ay(sy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function bs(){return bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bs.apply(this,arguments)}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wk(r.key),r)}}function Hhe(t,e,n){return e&&qO(t.prototype,e),n&&qO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vhe(t,e,n){return e=Pv(e),Ghe(t,Sk()?Reflect.construct(e,n||[],Pv(t).constructor):e.apply(t,n))}function Ghe(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Whe(t)}function Whe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sk=function(){return!!t})()}function Pv(t){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pv(t)}function Xhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mS(t,e)}function mS(t,e){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mS(t,e)}function ly(t,e,n){return e=wk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wk(t){var e=qhe(t,"string");return Wc(e)=="symbol"?e:e+""}function qhe(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yhe=Math.PI/180,YO=1e-5,cy=function(t){function e(){return zhe(this,e),Vhe(this,e,arguments)}return Xhe(e,t),Hhe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,f=c||8,u=Yt(o,a,s,r.coordinate),d=Yt(o,a,s+(l==="inner"?-1:1)*f,r.coordinate);return{x1:u.x,y1:u.y,x2:d.x,y2:d.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*Yhe),a;return o>YO?a=i==="outer"?"start":"end":o<-YO?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,c=cs(cs({},et(this.props,!1)),{},{fill:"none"},et(s,!1));if(l==="circle")return H.createElement(oy,bs({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:o,r:a}));var f=this.props.ticks,u=f.map(function(d){return Yt(i,o,a,d.coordinate)});return H.createElement(uhe,bs({className:"recharts-polar-angle-axis-line"},c,{points:u}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,f=et(this.props,!1),u=et(a,!1),d=cs(cs({},f),{},{fill:"none"},et(s,!1)),h=o.map(function(m,v){var g=r.getTickLineCoord(m),p=r.getTickTextAnchor(m),x=cs(cs(cs({textAnchor:p},f),{},{stroke:"none",fill:c},u),{},{index:v,payload:m,x:g.x2,y:g.y2});return H.createElement(Ct,bs({className:vt("recharts-polar-angle-axis-tick",ok(a)),key:"tick-".concat(m.coordinate)},Ws(r.props,m,v)),s&&H.createElement("line",bs({className:"recharts-polar-angle-axis-tick-line"},d,g)),a&&e.renderTickItem(a,x,l?l(m.value,v):m.value))});return H.createElement(Ct,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:H.createElement(Ct,{className:vt("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return H.isValidElement(r)?a=H.cloneElement(r,i):lt(r)?a=r(i):a=H.createElement(Xs,bs({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(C.PureComponent);ly(cy,"displayName","PolarAngleAxis");ly(cy,"axisType","angleAxis");ly(cy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Khe=AI,Zhe=Khe(Object.getPrototypeOf,Object),Jhe=Zhe,Qhe=Ko,epe=Jhe,tpe=Zo,npe="[object Object]",rpe=Function.prototype,ipe=Object.prototype,Ek=rpe.toString,ope=ipe.hasOwnProperty,ape=Ek.call(Object);function spe(t){if(!tpe(t)||Qhe(t)!=npe)return!1;var e=epe(t);if(e===null)return!0;var n=ope.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Ek.call(n)==ape}var lpe=spe;const cpe=It(lpe);var upe=Ko,fpe=Zo,dpe="[object Boolean]";function hpe(t){return t===!0||t===!1||fpe(t)&&upe(t)==dpe}var ppe=hpe;const mpe=It(ppe);function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cv.apply(this,arguments)}function vpe(t,e){return bpe(t)||xpe(t,e)||ype(t,e)||gpe()}function gpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ype(t,e){if(t){if(typeof t=="string")return KO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KO(t,e)}}function KO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function bpe(t){if(Array.isArray(t))return t}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){_pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _pe(t,e,n){return e=Spe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Spe(t){var e=wpe(t,"string");return $d(e)=="symbol"?e:e+""}function wpe(t,e){if($d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QO=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Epe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mpe=function(e){var n=JO(JO({},Epe),e),r=C.useRef(),i=C.useState(-1),o=vpe(i,2),a=o[0],s=o[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&s(y)}catch{}},[]);var l=n.x,c=n.y,f=n.upperWidth,u=n.lowerWidth,d=n.height,h=n.className,m=n.animationEasing,v=n.animationDuration,g=n.animationBegin,p=n.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||u!==+u||d!==+d||f===0&&u===0||d===0)return null;var x=vt("recharts-trapezoid",h);return p?H.createElement(oo,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:c},to:{upperWidth:f,lowerWidth:u,height:d,x:l,y:c},duration:v,animationEasing:m,isActive:p},function(y){var b=y.upperWidth,S=y.lowerWidth,_=y.height,w=y.x,T=y.y;return H.createElement(oo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:v,easing:m},H.createElement("path",Cv({},et(n,!0),{className:x,d:QO(w,T,b,S,_),ref:r})))}):H.createElement("g",null,H.createElement("path",Cv({},et(n,!0),{className:x,d:QO(l,c,f,u,d)})))},Ape=["option","shapeType","propTransformer","activeClassName","isActive"];function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function Tpe(t,e){if(t==null)return{};var n=Ppe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ppe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){Cpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cpe(t,e,n){return e=Ope(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ope(t){var e=Rpe(t,"string");return zd(e)=="symbol"?e:e+""}function Rpe(t,e){if(zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Npe(t,e){return Ov(Ov({},e),t)}function Dpe(t,e){return t==="symbols"}function tR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return H.createElement(vE,n);case"trapezoid":return H.createElement(Mpe,n);case"sector":return H.createElement(lk,n);case"symbols":if(Dpe(e))return H.createElement(I1,n);break;default:return null}}function Lpe(t){return C.isValidElement(t)?t.props:t}function Mk(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Npe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Tpe(t,Ape),c;if(C.isValidElement(e))c=C.cloneElement(e,Ov(Ov({},l),Lpe(e)));else if(lt(e))c=e(l);else if(cpe(e)&&!mpe(e)){var f=i(e,l);c=H.createElement(tR,{shapeType:n,elementProps:f})}else{var u=l;c=H.createElement(tR,{shapeType:n,elementProps:u})}return s?H.createElement(Ct,{className:a},c):c}function uy(t,e){return e!=null&&"trapezoids"in t.props}function fy(t,e){return e!=null&&"sectors"in t.props}function Hd(t,e){return e!=null&&"points"in t.props}function Ipe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function kpe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Upe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Fpe(t,e){var n;return uy(t,e)?n=Ipe:fy(t,e)?n=kpe:Hd(t,e)&&(n=Upe),n}function jpe(t,e){var n;return uy(t,e)?n="trapezoids":fy(t,e)?n="sectors":Hd(t,e)&&(n="points"),n}function Bpe(t,e){if(uy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(fy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Hd(t,e)?e.payload:{}}function $pe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=jpe(n,e),o=Bpe(n,e),a=r.filter(function(l,c){var f=xh(o,l),u=n.props[i].filter(function(m){var v=Fpe(n,e);return v(m,e)}),d=n.props[i].indexOf(u[u.length-1]),h=c===d;return f&&h}),s=r.indexOf(a[a.length-1]);return s}var cm;function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tc.apply(this,arguments)}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tk(r.key),r)}}function Hpe(t,e,n){return e&&rR(t.prototype,e),n&&rR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vpe(t,e,n){return e=Rv(e),Gpe(t,Ak()?Reflect.construct(e,n||[],Rv(t).constructor):e.apply(t,n))}function Gpe(t,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wpe(t)}function Wpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ak(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ak=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rv(t)}function Xpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vS(t,e)}function vS(t,e){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vS(t,e)}function ri(t,e,n){return e=Tk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tk(t){var e=qpe(t,"string");return Xc(e)=="symbol"?e:e+""}function qpe(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qo=function(t){function e(n){var r;return zpe(this,e),r=Vpe(this,e,[n]),ri(r,"pieRef",null),ri(r,"sectorRefs",[]),ri(r,"id",xu("recharts-pie-")),ri(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),lt(i)&&i()}),ri(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),lt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Xpe(e,t),Hpe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,c=o.valueKey,f=et(this.props,!1),u=et(a,!1),d=et(s,!1),h=a&&a.offsetRadius||20,m=r.map(function(v,g){var p=(v.startAngle+v.endAngle)/2,x=Yt(v.cx,v.cy,v.outerRadius+h,p),y=Gt(Gt(Gt(Gt({},f),v),{},{stroke:"none"},u),{},{index:g,textAnchor:e.getTextAnchor(x.x,v.cx)},x),b=Gt(Gt(Gt(Gt({},f),v),{},{fill:"none",stroke:v.fill},d),{},{index:g,points:[Yt(v.cx,v.cy,v.outerRadius,p),x]}),S=l;return ft(l)&&ft(c)?S="value":ft(l)&&(S=c),H.createElement(Ct,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(g)},s&&e.renderLabelLineItem(s,b,"line"),e.renderLabelItem(a,y,Pn(v,S)))});return H.createElement(Ct,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(c,f){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var u=i.isActiveIndex(f),d=l&&i.hasActiveIndex()?l:null,h=u?a:d,m=Gt(Gt({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return H.createElement(Ct,tc({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Ws(i.props,c,f),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(f)}),H.createElement(Mk,tc({option:h,isActive:u,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,f=i.animationId,u=this.state,d=u.prevSectors,h=u.prevIsAnimationActive;return H.createElement(oo,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var v=m.t,g=[],p=o&&o[0],x=p.startAngle;return o.forEach(function(y,b){var S=d&&d[b],_=b>0?jr(y,"paddingAngle",0):0;if(S){var w=Dr(S.endAngle-S.startAngle,y.endAngle-y.startAngle),T=Gt(Gt({},y),{},{startAngle:x+_,endAngle:x+w(v)+_});g.push(T),x=T.endAngle}else{var M=y.endAngle,A=y.startAngle,P=Dr(0,M-A),O=P(v),L=Gt(Gt({},y),{},{startAngle:x+_,endAngle:x+O+_});g.push(L),x=L.endAngle}}),H.createElement(Ct,null,r.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!xh(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,c=i.cx,f=i.cy,u=i.innerRadius,d=i.outerRadius,h=i.isAnimationActive,m=this.state.isAnimationFinished;if(o||!a||!a.length||!Pe(c)||!Pe(f)||!Pe(u)||!Pe(d))return null;var v=vt("recharts-pie",s);return H.createElement(Ct,{tabIndex:this.props.rootTabIndex,className:v,ref:function(p){r.pieRef=p}},this.renderSectors(),l&&this.renderLabels(a),Fn.renderCallByParent(this.props,null,!1),(!h||m)&&ko.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(H.isValidElement(r))return H.cloneElement(r,i);if(lt(r))return r(i);var a=vt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return H.createElement(Sv,tc({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(H.isValidElement(r))return H.cloneElement(r,i);var a=o;if(lt(r)&&(a=r(i),H.isValidElement(a)))return a;var s=vt("recharts-pie-label-text",typeof r!="boolean"&&!lt(r)?r.className:"");return H.createElement(Xs,tc({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(C.PureComponent);cm=Qo;ri(Qo,"displayName","Pie");ri(Qo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!eo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ri(Qo,"parseDeltaAngle",function(t,e){var n=ar(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ri(Qo,"getRealPieData",function(t){var e=t.data,n=t.children,r=et(t,!1),i=Br(n,Xg);return e&&e.length?e.map(function(o,a){return Gt(Gt(Gt({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Gt(Gt({},r),o.props)}):[]});ri(Qo,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=ik(i,o),s=r+sr(t.cx,i,i/2),l=n+sr(t.cy,o,o/2),c=sr(t.innerRadius,a,0),f=sr(t.outerRadius,a,a*.8),u=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:f,maxRadius:u}});ri(Qo,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Gt(Gt({},e.type.defaultProps),e.props):e.props,i=cm.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,f=r.nameKey,u=r.valueKey,d=r.tooltipType,h=Math.abs(r.minAngle),m=cm.parseCoordinateOfPie(r,n),v=cm.parseDeltaAngle(a,s),g=Math.abs(v),p=c;ft(c)&&ft(u)?(Ui(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p="value"):ft(c)&&(Ui(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p=u);var x=i.filter(function(T){return Pn(T,p,0)!==0}).length,y=(g>=360?x:x-1)*l,b=g-x*h-y,S=i.reduce(function(T,M){var A=Pn(M,p,0);return T+(Pe(A)?A:0)},0),_;if(S>0){var w;_=i.map(function(T,M){var A=Pn(T,p,0),P=Pn(T,f,M),O=(Pe(A)?A:0)/S,L;M?L=w.endAngle+ar(v)*l*(A!==0?1:0):L=a;var I=L+ar(v)*((A!==0?h:0)+O*b),j=(L+I)/2,F=(m.innerRadius+m.outerRadius)/2,B=[{name:P,value:A,payload:T,dataKey:p,type:d}],D=Yt(m.cx,m.cy,F,j);return w=Gt(Gt(Gt({percent:O,cornerRadius:o,name:P,tooltipPayload:B,midAngle:j,middleRadius:F,tooltipPosition:D},T),m),{},{value:Pn(T,p),startAngle:L,endAngle:I,payload:T,paddingAngle:ar(v)*l}),w})}return Gt(Gt({},m),{},{sectors:_,data:i})});var Ype=Math.ceil,Kpe=Math.max;function Zpe(t,e,n,r){for(var i=-1,o=Kpe(Ype((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Jpe=Zpe,Qpe=GI,iR=1/0,eme=17976931348623157e292;function tme(t){if(!t)return t===0?t:0;if(t=Qpe(t),t===iR||t===-iR){var e=t<0?-1:1;return e*eme}return t===t?t:0}var Pk=tme,nme=Jpe,rme=Wg,ix=Pk;function ime(t){return function(e,n,r){return r&&typeof r!="number"&&rme(e,n,r)&&(n=r=void 0),e=ix(e),n===void 0?(n=e,e=0):n=ix(n),r=r===void 0?e<n?1:-1:ix(r),nme(e,n,r,t)}}var ome=ime,ame=ome,sme=ame(),lme=sme;const Nv=It(lme);function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){Ck(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ck(t,e,n){return e=cme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cme(t){var e=ume(t,"string");return Vd(e)=="symbol"?e:e+""}function ume(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fme=["Webkit","Moz","O","ms"],dme=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=fme.reduce(function(o,a){return aR(aR({},o),{},Ck({},a+r,n))},{});return i[e]=n,i};function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dv.apply(this,arguments)}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ox(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){Cr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rk(r.key),r)}}function pme(t,e,n){return e&&lR(t.prototype,e),n&&lR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mme(t,e,n){return e=Lv(e),vme(t,Ok()?Reflect.construct(e,n||[],Lv(t).constructor):e.apply(t,n))}function vme(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gme(t)}function gme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ok(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ok=function(){return!!t})()}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lv(t)}function yme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gS(t,e)}function gS(t,e){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gS(t,e)}function Cr(t,e,n){return e=Rk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rk(t){var e=xme(t,"string");return qc(e)=="symbol"?e:e+""}function xme(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bme=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=If().domain(Nv(0,l)).range([o,o+a-s]),f=c.domain().map(function(u){return c(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:f}},cR=function(e){return e.changedTouches&&!!e.changedTouches.length},Yc=function(t){function e(n){var r;return hme(this,e),r=mme(this,e,[n]),Cr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Cr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Cr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Cr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Cr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Cr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Cr(r,"handleSlideDragStart",function(i){var o=cR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return yme(e,t),pme(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,f=c.length-1,u=Math.min(i,o),d=Math.max(i,o),h=e.getIndexInRange(a,u),m=e.getIndexInRange(a,d);return{startIndex:h-h%l,endIndex:m===f?f:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Pn(o[r],s,r);return lt(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,f=l.width,u=l.travellerWidth,d=l.startIndex,h=l.endIndex,m=l.onChange,v=r.pageX-o;v>0?v=Math.min(v,c+f-u-s,c+f-u-a):v<0&&(v=Math.max(v,c-a,c-s));var g=this.getIndex({startX:a+v,endX:s+v});(g.startIndex!==d||g.endIndex!==h)&&m&&m(g),this.setState({startX:a+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=cR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],f=this.props,u=f.x,d=f.width,h=f.travellerWidth,m=f.onChange,v=f.gap,g=f.data,p={startX:this.state.startX,endX:this.state.endX},x=r.pageX-o;x>0?x=Math.min(x,u+d-h-c):x<0&&(x=Math.max(x,u-c)),p[a]=c+x;var y=this.getIndex(p),b=y.startIndex,S=y.endIndex,_=function(){var T=g.length-1;return a==="startX"&&(s>l?b%v===0:S%v===0)||s<l&&S===T||a==="endX"&&(s>l?S%v===0:b%v===0)||s>l&&S===T};this.setState(Cr(Cr({},a,c+x),"brushMoveStartX",r.pageX),function(){m&&_()&&m(y)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,f=this.state[i],u=s.indexOf(f);if(u!==-1){var d=u+r;if(!(d===-1||d>=s.length)){var h=s[d];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(Cr({},i,h),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,c=r.stroke;return H.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,c=r.children,f=r.padding,u=C.Children.only(c);return u?H.cloneElement(u,{x:i,y:o,width:a,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,c=l.y,f=l.travellerWidth,u=l.height,d=l.traveller,h=l.ariaLabel,m=l.data,v=l.startIndex,g=l.endIndex,p=Math.max(r,this.props.x),x=ox(ox({},et(this.props,!1)),{},{x:p,y:c,width:f,height:u}),y=h||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=m[g])===null||a===void 0?void 0:a.name);return H.createElement(Ct,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,x))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,f=Math.min(r,i)+c,u=Math.max(Math.abs(i-r)-c,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:a,width:u,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,f=this.state,u=f.startX,d=f.endX,h=5,m={pointerEvents:"none",fill:c};return H.createElement(Ct,{className:"recharts-brush-texts"},H.createElement(Xs,Dv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,d)-h,y:a+s/2},m),this.getTextOfTick(i)),H.createElement(Xs,Dv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,d)+l+h,y:a+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,c=r.width,f=r.height,u=r.alwaysShowText,d=this.state,h=d.startX,m=d.endX,v=d.isTextActive,g=d.isSlideMoving,p=d.isTravellerMoving,x=d.isTravellerFocused;if(!i||!i.length||!Pe(s)||!Pe(l)||!Pe(c)||!Pe(f)||c<=0||f<=0)return null;var y=vt("recharts-brush",o),b=H.Children.count(a)===1,S=dme("userSelect","none");return H.createElement(Ct,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(h,m),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(m,"endX"),(v||g||p||x||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,c=Math.floor(o+s/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),H.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return H.isValidElement(r)?o=H.cloneElement(r,i):lt(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,f=r.startIndex,u=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return ox({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?bme({data:o,width:a,x:s,travellerWidth:l,startIndex:f,endIndex:u}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(C.PureComponent);Cr(Yc,"displayName","Brush");Cr(Yc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _me=z1;function Sme(t,e){var n;return _me(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var wme=Sme,Eme=yI,Mme=co,Ame=wme,Tme=wr,Pme=Wg;function Cme(t,e,n){var r=Tme(t)?Eme:Ame;return n&&Pme(t,e,n)&&(e=void 0),r(t,Mme(e))}var Ome=Cme;const Rme=It(Ome);var no=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},uR=BI;function Nme(t,e,n){e=="__proto__"&&uR?uR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Dme=Nme,Lme=Dme,Ime=FI,kme=co;function Ume(t,e){var n={};return e=kme(e),Ime(t,function(r,i,o){Lme(n,i,e(r,i,o))}),n}var Fme=Ume;const jme=It(Fme);function Bme(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var $me=Bme,zme=z1;function Hme(t,e){var n=!0;return zme(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Vme=Hme,Gme=$me,Wme=Vme,Xme=co,qme=wr,Yme=Wg;function Kme(t,e,n){var r=qme(t)?Gme:Wme;return n&&Yme(t,e,n)&&(e=void 0),r(t,Xme(e))}var Zme=Kme;const Nk=It(Zme);var Jme=["x","y"];function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yS.apply(this,arguments)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){Qme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qme(t,e,n){return e=eve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eve(t){var e=tve(t,"string");return Gd(e)=="symbol"?e:e+""}function tve(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nve(t,e){if(t==null)return{};var n=rve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ive(t,e){var n=t.x,r=t.y,i=nve(t,Jme),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),f=parseInt(c,10),u="".concat(e.width||i.width),d=parseInt(u,10);return sf(sf(sf(sf(sf({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:f,width:d,name:e.name,radius:e.radius})}function dR(t){return H.createElement(Mk,yS({shapeType:"rectangle",propTransformer:ive,activeClassName:"recharts-active-bar"},t))}var ove=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||Ys(),n)}},ave=["value","background"],Dk;function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function sve(t,e){if(t==null)return{};var n=lve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iv.apply(this,arguments)}function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){Ea(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ik(r.key),r)}}function uve(t,e,n){return e&&pR(t.prototype,e),n&&pR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fve(t,e,n){return e=kv(e),dve(t,Lk()?Reflect.construct(e,n||[],kv(t).constructor):e.apply(t,n))}function dve(t,e){if(e&&(Kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hve(t)}function hve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lk=function(){return!!t})()}function kv(t){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kv(t)}function pve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xS(t,e)}function xS(t,e){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xS(t,e)}function Ea(t,e,n){return e=Ik(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ik(t){var e=mve(t,"string");return Kc(e)=="symbol"?e:e+""}function mve(t,e){if(Kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _h=function(t){function e(){var n;cve(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=fve(this,e,[].concat(i)),Ea(n,"state",{isAnimationFinished:!1}),Ea(n,"id",xu("recharts-bar-")),Ea(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Ea(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return pve(e,t),uve(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,f=et(this.props,!1);return r&&r.map(function(u,d){var h=d===l,m=h?c:a,v=bn(bn(bn({},f),u),{},{isActive:h,option:m,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(Ct,Iv({className:"recharts-bar-rectangle"},Ws(i.props,u,d),{key:"rectangle-".concat(u==null?void 0:u.x,"-").concat(u==null?void 0:u.y,"-").concat(u==null?void 0:u.value)}),H.createElement(dR,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,f=i.animationEasing,u=i.animationId,d=this.state.prevData;return H.createElement(oo,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,v=o.map(function(g,p){var x=d&&d[p];if(x){var y=Dr(x.x,g.x),b=Dr(x.y,g.y),S=Dr(x.width,g.width),_=Dr(x.height,g.height);return bn(bn({},g),{},{x:y(m),y:b(m),width:S(m),height:_(m)})}if(a==="horizontal"){var w=Dr(0,g.height),T=w(m);return bn(bn({},g),{},{y:g.y+g.height-T,height:T})}var M=Dr(0,g.width),A=M(m);return bn(bn({},g),{},{width:A})});return H.createElement(Ct,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!xh(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=et(this.props.background,!1);return o.map(function(c,f){c.value;var u=c.background,d=sve(c,ave);if(!u)return null;var h=bn(bn(bn(bn(bn({},d),{},{fill:"#eee"},u),l),Ws(r.props,c,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:f,className:"recharts-bar-background-rectangle"});return H.createElement(dR,Iv({key:"background-bar-".concat(f),option:r.props.background,isActive:f===s},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,u=Br(f,bh);if(!u)return null;var d=c==="vertical"?a[0].height/2:a[0].width/2,h=function(g,p){var x=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:x,errorVal:Pn(g,p)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(Ct,m,u.map(function(v){return H.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:d,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,c=r.left,f=r.top,u=r.width,d=r.height,h=r.isAnimationActive,m=r.background,v=r.id;if(i||!o||!o.length)return null;var g=this.state.isAnimationFinished,p=vt("recharts-bar",a),x=s&&s.allowDataOverflow,y=l&&l.allowDataOverflow,b=x||y,S=ft(v)?this.id:v;return H.createElement(Ct,{className:p},x||y?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(S)},H.createElement("rect",{x:x?c:c-u/2,y:y?f:f-d/2,width:x?u:u*2,height:y?d:d*2}))):null,H.createElement(Ct,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(S,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,S),(!h||g)&&ko.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(C.PureComponent);Dk=_h;Ea(_h,"displayName","Bar");Ea(_h,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!eo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ea(_h,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,f=t.dataStartIndex,u=t.displayedData,d=t.offset,h=oue(r,n);if(!h)return null;var m=e.layout,v=n.type.defaultProps,g=v!==void 0?bn(bn({},v),n.props):n.props,p=g.dataKey,x=g.children,y=g.minPointSize,b=m==="horizontal"?a:o,S=c?b.scale.domain():null,_=due({numericAxis:b}),w=Br(x,Xg),T=u.map(function(M,A){var P,O,L,I,j,F;c?P=aue(c[f+A],S):(P=Pn(M,p),Array.isArray(P)||(P=[_,P]));var B=ove(y,Dk.defaultProps.minPointSize)(P[1],A);if(m==="horizontal"){var D,z=[a.scale(P[0]),a.scale(P[1])],W=z[0],J=z[1];O=rO({axis:o,ticks:s,bandSize:i,offset:h.offset,entry:M,index:A}),L=(D=J??W)!==null&&D!==void 0?D:void 0,I=h.size;var ie=W-J;if(j=Number.isNaN(ie)?0:ie,F={x:O,y:a.y,width:I,height:a.height},Math.abs(B)>0&&Math.abs(j)<Math.abs(B)){var xe=ar(j||B)*(Math.abs(B)-Math.abs(j));L-=xe,j+=xe}}else{var Z=[o.scale(P[0]),o.scale(P[1])],ue=Z[0],be=Z[1];if(O=ue,L=rO({axis:a,ticks:l,bandSize:i,offset:h.offset,entry:M,index:A}),I=be-ue,j=h.size,F={x:o.x,y:L,width:o.width,height:j},Math.abs(B)>0&&Math.abs(I)<Math.abs(B)){var ne=ar(I||B)*(Math.abs(B)-Math.abs(I));I+=ne}}return bn(bn(bn({},M),{},{x:O,y:L,width:I,height:j,value:c?P:P[1],payload:M,background:F},w&&w[A]&&w[A].props),{},{tooltipPayload:[nk(n,M)],tooltipPosition:{x:O+I/2,y:L+j/2}})});return bn({data:T,layout:m},d)});function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function vve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kk(r.key),r)}}function gve(t,e,n){return e&&mR(t.prototype,e),n&&mR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){dy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dy(t,e,n){return e=kk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kk(t){var e=yve(t,"string");return Wd(e)=="symbol"?e:e+""}function yve(t,e){if(Wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xve=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,f=Object.keys(n),u={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!Rr(c,_h);return f.reduce(function(h,m){var v=n[m],g=v.orientation,p=v.domain,x=v.padding,y=x===void 0?{}:x,b=v.mirror,S=v.reversed,_="".concat(g).concat(b?"Mirror":""),w,T,M,A,P;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var O=p[1]-p[0],L=1/0,I=v.categoricalDomain.sort();if(I.forEach(function(Z,ue){ue>0&&(L=Math.min((Z||0)-(I[ue-1]||0),L))}),Number.isFinite(L)){var j=L/O,F=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(w=j*F/2),v.padding==="no-gap"){var B=sr(e.barCategoryGap,j*F),D=j*F/2;w=D-B-(D-B)/F*B}}}i==="xAxis"?T=[r.left+(y.left||0)+(w||0),r.left+r.width-(y.right||0)-(w||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(y.bottom||0),r.top+(y.top||0)]:[r.top+(y.top||0)+(w||0),r.top+r.height-(y.bottom||0)-(w||0)]:T=v.range,S&&(T=[T[1],T[0]]);var z=J3(v,o,d),W=z.scale,J=z.realScaleType;W.domain(p).range(T),Q3(W);var ie=ek(W,wi(wi({},v),{},{realScaleType:J}));i==="xAxis"?(P=g==="top"&&!b||g==="bottom"&&b,M=r.left,A=u[_]-P*v.height):i==="yAxis"&&(P=g==="left"&&!b||g==="right"&&b,M=u[_]-P*v.width,A=r.top);var xe=wi(wi(wi({},v),ie),{},{realScaleType:J,x:M,y:A,scale:W,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return xe.bandSize=xv(xe,ie),!v.hide&&i==="xAxis"?u[_]+=(P?-1:1)*xe.height:v.hide||(u[_]+=(P?-1:1)*xe.width),wi(wi({},h),{},dy({},m,xe))},{})},Uk=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},bve=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Uk({x:n,y:r},{x:i,y:o})},Fk=function(){function t(e){vve(this,t),this.scale=e}return gve(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();dy(Fk,"EPS",1e-4);var gE=function(e){var n=Object.keys(e).reduce(function(r,i){return wi(wi({},r),{},dy({},i,Fk.create(e[i])))},{});return wi(wi({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return jme(i,function(l,c){return n[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return Nk(i,function(o,a){return n[a].isInRange(o)})}})};function _ve(t){return(t%180+180)%180}var Sve=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=_ve(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},wve=co,Eve=ph,Mve=Vg;function Ave(t){return function(e,n,r){var i=Object(e);if(!Eve(e)){var o=wve(n);e=Mve(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Tve=Ave,Pve=Pk;function Cve(t){var e=Pve(t),n=e%1;return e===e?n?e-n:e:0}var Ove=Cve,Rve=NI,Nve=co,Dve=Ove,Lve=Math.max;function Ive(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Dve(n);return i<0&&(i=Lve(r+i,0)),Rve(t,Nve(e),i)}var kve=Ive,Uve=Tve,Fve=kve,jve=Uve(Fve),Bve=jve;const $ve=It(Bve);var zve=WX(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),yE=C.createContext(void 0),xE=C.createContext(void 0),jk=C.createContext(void 0),Bk=C.createContext({}),$k=C.createContext(void 0),zk=C.createContext(0),Hk=C.createContext(0),gR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,f=zve(o);return H.createElement(yE.Provider,{value:r},H.createElement(xE.Provider,{value:i},H.createElement(Bk.Provider,{value:o},H.createElement(jk.Provider,{value:f},H.createElement($k.Provider,{value:a},H.createElement(zk.Provider,{value:c},H.createElement(Hk.Provider,{value:l},s)))))))},Hve=function(){return C.useContext($k)},Vk=function(e){var n=C.useContext(yE);n==null&&Ys();var r=n[e];return r==null&&Ys(),r},Vve=function(){var e=C.useContext(yE);return ba(e)},Gve=function(){var e=C.useContext(xE),n=$ve(e,function(r){return Nk(r.domain,Number.isFinite)});return n||ba(e)},Gk=function(e){var n=C.useContext(xE);n==null&&Ys();var r=n[e];return r==null&&Ys(),r},Wve=function(){var e=C.useContext(jk);return e},Xve=function(){return C.useContext(Bk)},bE=function(){return C.useContext(Hk)},_E=function(){return C.useContext(zk)};function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function qve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xk(r.key),r)}}function Kve(t,e,n){return e&&Yve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zve(t,e,n){return e=Uv(e),Jve(t,Wk()?Reflect.construct(e,n||[],Uv(t).constructor):e.apply(t,n))}function Jve(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qve(t)}function Qve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wk=function(){return!!t})()}function Uv(t){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uv(t)}function ege(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bS(t,e)}function bS(t,e){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bS(t,e)}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){SE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SE(t,e,n){return e=Xk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xk(t){var e=tge(t,"string");return Zc(e)=="symbol"?e:e+""}function tge(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nge(t,e){return age(t)||oge(t,e)||ige(t,e)||rge()}function rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ige(t,e){if(t){if(typeof t=="string")return bR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bR(t,e)}}function bR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function age(t){if(Array.isArray(t))return t}function _S(){return _S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_S.apply(this,arguments)}var sge=function(e,n){var r;return H.isValidElement(e)?r=H.cloneElement(e,n):lt(e)?r=e(n):r=H.createElement("line",_S({},n,{className:"recharts-reference-line-line"})),r},lge=function(e,n,r,i,o,a,s,l,c){var f=o.x,u=o.y,d=o.width,h=o.height;if(r){var m=c.y,v=e.y.apply(m,{position:a});if(no(c,"discard")&&!e.y.isInRange(v))return null;var g=[{x:f+d,y:v},{x:f,y:v}];return l==="left"?g.reverse():g}if(n){var p=c.x,x=e.x.apply(p,{position:a});if(no(c,"discard")&&!e.x.isInRange(x))return null;var y=[{x,y:u+h},{x,y:u}];return s==="top"?y.reverse():y}if(i){var b=c.segment,S=b.map(function(_){return e.apply(_,{position:a})});return no(c,"discard")&&Rme(S,function(_){return!e.isInRange(_)})?null:S}return null};function cge(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,c=Hve(),f=Vk(i),u=Gk(o),d=Wve();if(!c||!d)return null;Ui(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=gE({x:f.scale,y:u.scale}),m=On(e),v=On(n),g=r&&r.length===2,p=lge(h,m,v,g,d,t.position,f.orientation,u.orientation,t);if(!p)return null;var x=nge(p,2),y=x[0],b=y.x,S=y.y,_=x[1],w=_.x,T=_.y,M=no(t,"hidden")?"url(#".concat(c,")"):void 0,A=xR(xR({clipPath:M},et(t,!0)),{},{x1:b,y1:S,x2:w,y2:T});return H.createElement(Ct,{className:vt("recharts-reference-line",s)},sge(a,A),Fn.renderCallByParent(t,bve({x1:b,y1:S,x2:w,y2:T})))}var wE=function(t){function e(){return qve(this,e),Zve(this,e,arguments)}return ege(e,t),Kve(e,[{key:"render",value:function(){return H.createElement(cge,this.props)}}])}(H.Component);SE(wE,"displayName","ReferenceLine");SE(wE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SS.apply(this,arguments)}function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){hy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yk(r.key),r)}}function dge(t,e,n){return e&&fge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hge(t,e,n){return e=Fv(e),pge(t,qk()?Reflect.construct(e,n||[],Fv(t).constructor):e.apply(t,n))}function pge(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mge(t)}function mge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qk=function(){return!!t})()}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fv(t)}function vge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wS(t,e)}function wS(t,e){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wS(t,e)}function hy(t,e,n){return e=Yk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yk(t){var e=gge(t,"string");return Jc(e)=="symbol"?e:e+""}function gge(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yge=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=gE({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return no(e,"discard")&&!a.isInRange(s)?null:s},py=function(t){function e(){return uge(this,e),hge(this,e,arguments)}return vge(e,t),dge(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,c=On(i),f=On(o);if(Ui(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var u=yge(this.props);if(!u)return null;var d=u.x,h=u.y,m=this.props,v=m.shape,g=m.className,p=no(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=SR(SR({clipPath:p},et(this.props,!0)),{},{cx:d,cy:h});return H.createElement(Ct,{className:vt("recharts-reference-dot",g)},e.renderDot(v,x),Fn.renderCallByParent(this.props,{x:d-a,y:h-a,width:2*a,height:2*a}))}}])}(H.Component);hy(py,"displayName","ReferenceDot");hy(py,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});hy(py,"renderDot",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):lt(t)?n=t(e):n=H.createElement(oy,SS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ES.apply(this,arguments)}function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ER(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){my(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zk(r.key),r)}}function _ge(t,e,n){return e&&bge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sge(t,e,n){return e=jv(e),wge(t,Kk()?Reflect.construct(e,n||[],jv(t).constructor):e.apply(t,n))}function wge(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ege(t)}function Ege(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kk=function(){return!!t})()}function jv(t){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jv(t)}function Mge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MS(t,e)}function MS(t,e){return MS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MS(t,e)}function my(t,e,n){return e=Zk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zk(t){var e=Age(t,"string");return Qc(e)=="symbol"?e:e+""}function Age(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tge=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,f=o.xAxis,u=o.yAxis;if(!f||!u)return null;var d=gE({x:f.scale,y:u.scale}),h={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(c,{position:"end"}):d.y.rangeMax};return no(o,"discard")&&(!d.isInRange(h)||!d.isInRange(m))?null:Uk(h,m)},vy=function(t){function e(){return xge(this,e),Sge(this,e,arguments)}return Mge(e,t),_ge(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,f=r.clipPathId;Ui(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=On(i),d=On(o),h=On(a),m=On(s),v=this.props.shape;if(!u&&!d&&!h&&!m&&!v)return null;var g=Tge(u,d,h,m,this.props);if(!g&&!v)return null;var p=no(this.props,"hidden")?"url(#".concat(f,")"):void 0;return H.createElement(Ct,{className:vt("recharts-reference-area",l)},e.renderRect(v,ER(ER({clipPath:p},et(this.props,!0)),g)),Fn.renderCallByParent(this.props,g))}}])}(H.Component);my(vy,"displayName","ReferenceArea");my(vy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});my(vy,"renderRect",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):lt(t)?n=t(e):n=H.createElement(vE,ES({},e,{className:"recharts-reference-area-rect"})),n});function Jk(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Pge(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Sve(r,n)}function Cge(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Bv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Oge(t,e){return Jk(t,e+1)}function Rge(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,c=1,f=a,u=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:Jk(r,c)};var v=l,g,p=function(){return g===void 0&&(g=n(m,v)),g},x=m.coordinate,y=l===0||Bv(t,x,p,f,s);y||(l=0,f=a,c+=1),y&&(f=x+t*(p()/2+i),l+=c)},d;c<=o.length;)if(d=u(),d)return d.v;return[]}function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){Nge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nge(t,e,n){return e=Dge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dge(t){var e=Lge(t,"string");return Xd(e)=="symbol"?e:e+""}function Lge(t,e){if(Xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ige(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(d){var h=o[d],m,v=function(){return m===void 0&&(m=n(h,d)),m};if(d===a-1){var g=t*(h.coordinate+t*v()/2-l);o[d]=h=Jn(Jn({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate})}else o[d]=h=Jn(Jn({},h),{},{tickCoord:h.coordinate});var p=Bv(t,h.tickCoord,v,s,l);p&&(l=h.tickCoord-t*(v()/2+i),o[d]=Jn(Jn({},h),{},{isShow:!0}))},f=a-1;f>=0;f--)c(f);return o}function kge(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var f=r[s-1],u=n(f,s-1),d=t*(f.coordinate+t*u/2-c);a[s-1]=f=Jn(Jn({},f),{},{tickCoord:d>0?f.coordinate-d*t:f.coordinate});var h=Bv(t,f.tickCoord,function(){return u},l,c);h&&(c=f.tickCoord-t*(u/2+i),a[s-1]=Jn(Jn({},f),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(x){var y=a[x],b,S=function(){return b===void 0&&(b=n(y,x)),b};if(x===0){var _=t*(y.coordinate-t*S()/2-l);a[x]=y=Jn(Jn({},y),{},{tickCoord:_<0?y.coordinate-_*t:y.coordinate})}else a[x]=y=Jn(Jn({},y),{},{tickCoord:y.coordinate});var w=Bv(t,y.tickCoord,S,l,c);w&&(l=y.tickCoord+t*(S()/2+i),a[x]=Jn(Jn({},y),{},{isShow:!0}))},g=0;g<m;g++)v(g);return a}function EE(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,f=t.unit,u=t.angle;if(!i||!i.length||!r)return[];if(Pe(l)||eo.isSsr)return Oge(i,typeof l=="number"&&Pe(l)?l:0);var d=[],h=s==="top"||s==="bottom"?"width":"height",m=f&&h==="width"?Lf(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(y,b){var S=lt(c)?c(y.value,b):y.value;return h==="width"?Pge(Lf(S,{fontSize:e,letterSpacing:n}),m,u):Lf(S,{fontSize:e,letterSpacing:n})[h]},g=i.length>=2?ar(i[1].coordinate-i[0].coordinate):1,p=Cge(o,g,h);return l==="equidistantPreserveStart"?Rge(g,p,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=kge(g,p,v,i,a,l==="preserveStartEnd"):d=Ige(g,p,v,i,a),d.filter(function(x){return x.isShow}))}var Uge=["viewBox"],Fge=["viewBox"],jge=["ticks"];function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(this,arguments)}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){ME(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ax(t,e){if(t==null)return{};var n=Bge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eU(r.key),r)}}function zge(t,e,n){return e&&TR(t.prototype,e),n&&TR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hge(t,e,n){return e=$v(e),Vge(t,Qk()?Reflect.construct(e,n||[],$v(t).constructor):e.apply(t,n))}function Vge(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gge(t)}function Gge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qk=function(){return!!t})()}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(t)}function Wge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AS(t,e)}function AS(t,e){return AS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AS(t,e)}function ME(t,e,n){return e=eU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eU(t){var e=Xge(t,"string");return eu(e)=="symbol"?e:e+""}function Xge(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tu=function(t){function e(n){var r;return $ge(this,e),r=Hge(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Wge(e,t),zge(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=ax(r,Uge),s=this.props,l=s.viewBox,c=ax(s,Fge);return!mc(o,l)||!mc(a,c)||!mc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,f=i.tickSize,u=i.mirror,d=i.tickMargin,h,m,v,g,p,x,y=u?-1:1,b=r.tickSize||f,S=Pe(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":h=m=r.coordinate,g=a+ +!u*l,v=g-y*b,x=v-y*d,p=S;break;case"left":v=g=r.coordinate,m=o+ +!u*s,h=m-y*b,p=h-y*d,x=S;break;case"right":v=g=r.coordinate,m=o+ +u*s,h=m+y*b,p=h+y*d,x=S;break;default:h=m=r.coordinate,g=a+ +u*l,v=g+y*b,x=v+y*d,p=S;break}return{line:{x1:h,y1:v,x2:m,y2:g},tick:{x:p,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,c=r.mirror,f=r.axisLine,u=nr(nr(nr({},et(this.props,!1)),et(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!c||l==="bottom"&&c);u=nr(nr({},u),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);u=nr(nr({},u),{},{x1:i+h*a,y1:o,x2:i+h*a,y2:o+s})}return H.createElement("line",nc({},u,{className:vt("recharts-cartesian-axis-line",jr(f,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,f=s.tick,u=s.tickFormatter,d=s.unit,h=EE(nr(nr({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),g=et(this.props,!1),p=et(f,!1),x=nr(nr({},g),{},{fill:"none"},et(l,!1)),y=h.map(function(b,S){var _=a.getTickLineCoord(b),w=_.line,T=_.tick,M=nr(nr(nr(nr({textAnchor:m,verticalAnchor:v},g),{},{stroke:"none",fill:c},p),T),{},{index:S,payload:b,visibleTicksCount:h.length,tickFormatter:u});return H.createElement(Ct,nc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},Ws(a.props,b,S)),l&&H.createElement("line",nc({},x,w,{className:vt("recharts-cartesian-axis-tick-line",jr(l,"className"))})),f&&e.renderTickItem(f,M,"".concat(lt(u)?u(b.value,S):b.value).concat(d||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,f=i.hide;if(f)return null;var u=this.props,d=u.ticks,h=ax(u,jge),m=d;return lt(l)&&(m=d&&d.length>0?l(this.props):l(h)),a<=0||s<=0||!m||!m.length?null:H.createElement(Ct,{className:vt("recharts-cartesian-axis",c),ref:function(g){r.layerReference=g}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Fn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return H.isValidElement(r)?a=H.cloneElement(r,i):lt(r)?a=r(i):a=H.createElement(Xs,nc({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(C.Component);ME(Tu,"displayName","CartesianAxis");ME(Tu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var qge=["x1","y1","x2","y2","key"],Yge=["offset"];function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){Kge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kge(t,e,n){return e=Zge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zge(t){var e=Jge(t,"string");return Ks(e)=="symbol"?e:e+""}function Jge(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Os(){return Os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Os.apply(this,arguments)}function CR(t,e){if(t==null)return{};var n=Qge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var eye=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return H.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function tU(t,e){var n;if(H.isValidElement(t))n=H.cloneElement(t,e);else if(lt(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=CR(e,qge),c=et(l,!1);c.offset;var f=CR(c,Yge);n=H.createElement("line",Os({},f,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function tye(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=er(er({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return tU(i,c)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function nye(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=er(er({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return tU(i,c)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function rye(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var f=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,h){return d-h});i!==f[0]&&f.unshift(0);var u=f.map(function(d,h){var m=!f[h+1],v=m?i+a-d:f[h+1]-d;if(v<=0)return null;var g=h%e.length;return H.createElement("rect",{key:"react-".concat(h),y:d,x:r,height:v,width:o,stroke:"none",fill:e[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function iye(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var f=c.map(function(d){return Math.round(d+o-o)}).sort(function(d,h){return d-h});o!==f[0]&&f.unshift(0);var u=f.map(function(d,h){var m=!f[h+1],v=m?o+s-d:f[h+1]-d;if(v<=0)return null;var g=h%r.length;return H.createElement("rect",{key:"react-".concat(h),x:d,y:a,width:v,height:l,stroke:"none",fill:r[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var oye=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return Z3(EE(er(er(er({},Tu.defaultProps),r),{},{ticks:Oo(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},aye=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return Z3(EE(er(er(er({},Tu.defaultProps),r),{},{ticks:Oo(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Ol={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Sh(t){var e,n,r,i,o,a,s=bE(),l=_E(),c=Xve(),f=er(er({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ol.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ol.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ol.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ol.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ol.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Ol.verticalFill,x:Pe(t.x)?t.x:c.left,y:Pe(t.y)?t.y:c.top,width:Pe(t.width)?t.width:c.width,height:Pe(t.height)?t.height:c.height}),u=f.x,d=f.y,h=f.width,m=f.height,v=f.syncWithTicks,g=f.horizontalValues,p=f.verticalValues,x=Vve(),y=Gve();if(!Pe(h)||h<=0||!Pe(m)||m<=0||!Pe(u)||u!==+u||!Pe(d)||d!==+d)return null;var b=f.verticalCoordinatesGenerator||oye,S=f.horizontalCoordinatesGenerator||aye,_=f.horizontalPoints,w=f.verticalPoints;if((!_||!_.length)&&lt(S)){var T=g&&g.length,M=S({yAxis:y?er(er({},y),{},{ticks:T?g:y.ticks}):void 0,width:s,height:l,offset:c},T?!0:v);Ui(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ks(M),"]")),Array.isArray(M)&&(_=M)}if((!w||!w.length)&&lt(b)){var A=p&&p.length,P=b({xAxis:x?er(er({},x),{},{ticks:A?p:x.ticks}):void 0,width:s,height:l,offset:c},A?!0:v);Ui(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ks(P),"]")),Array.isArray(P)&&(w=P)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(eye,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),H.createElement(tye,Os({},f,{offset:c,horizontalPoints:_,xAxis:x,yAxis:y})),H.createElement(nye,Os({},f,{offset:c,verticalPoints:w,xAxis:x,yAxis:y})),H.createElement(rye,Os({},f,{horizontalPoints:_})),H.createElement(iye,Os({},f,{verticalPoints:w})))}Sh.displayName="CartesianGrid";var sye=["type","layout","connectNulls","ref"],lye=["key"];function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function OR(t,e){if(t==null)return{};var n=cye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bf(){return Bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bf.apply(this,arguments)}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){Ei(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rl(t){return hye(t)||dye(t)||fye(t)||uye()}function uye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fye(t,e){if(t){if(typeof t=="string")return TS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TS(t,e)}}function dye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hye(t){if(Array.isArray(t))return TS(t)}function TS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rU(r.key),r)}}function mye(t,e,n){return e&&NR(t.prototype,e),n&&NR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vye(t,e,n){return e=zv(e),gye(t,nU()?Reflect.construct(e,n||[],zv(t).constructor):e.apply(t,n))}function gye(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yye(t)}function yye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nU=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(t)}function xye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PS(t,e)}function PS(t,e){return PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PS(t,e)}function Ei(t,e,n){return e=rU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rU(t){var e=bye(t,"string");return tu(e)=="symbol"?e:e+""}function bye(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fi=function(t){function e(){var n;pye(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=vye(this,e,[].concat(i)),Ei(n,"state",{isAnimationFinished:!0,totalLength:0}),Ei(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Ei(n,"getStrokeDasharray",function(a,s,l){var c=l.reduce(function(p,x){return p+x});if(!c)return n.generateSimpleStrokeDasharray(s,a);for(var f=Math.floor(a/c),u=a%c,d=s-a,h=[],m=0,v=0;m<l.length;v+=l[m],++m)if(v+l[m]>u){h=[].concat(Rl(l.slice(0,m)),[u-v]);break}var g=h.length%2===0?[0,d]:[d];return[].concat(Rl(e.repeat(l,f)),Rl(h),g).map(function(p){return"".concat(p,"px")}).join(", ")}),Ei(n,"id",xu("recharts-line-")),Ei(n,"pathRef",function(a){n.mainCurve=a}),Ei(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ei(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return xye(e,t),mye(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,u=Br(f,bh);if(!u)return null;var d=function(v,g){return{x:v.x,y:v.y,value:v.value,errorVal:Pn(v.payload,g)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(Ct,h,u.map(function(m){return H.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,f=s.dataKey,u=et(this.props,!1),d=et(l,!0),h=c.map(function(v,g){var p=Pr(Pr(Pr({key:"dot-".concat(g),r:3},u),d),{},{value:v.value,dataKey:f,cx:v.x,cy:v.y,index:g,payload:v.payload});return e.renderDotItem(l,p)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return H.createElement(Ct,Bf({className:"recharts-line-dots",key:"dots"},m),h)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,c=s.layout,f=s.connectNulls;s.ref;var u=OR(s,sye),d=Pr(Pr(Pr({},et(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:f});return H.createElement(Sv,Bf({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,c=a.isAnimationActive,f=a.animationBegin,u=a.animationDuration,d=a.animationEasing,h=a.animationId,m=a.animateNewValues,v=a.width,g=a.height,p=this.state,x=p.prevPoints,y=p.totalLength;return H.createElement(oo,{begin:f,duration:u,isActive:c,easing:d,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var S=b.t;if(x){var _=x.length/s.length,w=s.map(function(O,L){var I=Math.floor(L*_);if(x[I]){var j=x[I],F=Dr(j.x,O.x),B=Dr(j.y,O.y);return Pr(Pr({},O),{},{x:F(S),y:B(S)})}if(m){var D=Dr(v*2,O.x),z=Dr(g/2,O.y);return Pr(Pr({},O),{},{x:D(S),y:z(S)})}return Pr(Pr({},O),{},{x:O.x,y:O.y})});return o.renderCurveStatically(w,r,i)}var T=Dr(0,y),M=T(S),A;if(l){var P="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});A=o.getStrokeDasharray(M,y,P)}else A=o.generateSimpleStrokeDasharray(y,M);return o.renderCurveStatically(s,r,i,{strokeDasharray:A})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return s&&a&&a.length&&(!c&&f>0||!xh(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.xAxis,f=i.yAxis,u=i.top,d=i.left,h=i.width,m=i.height,v=i.isAnimationActive,g=i.id;if(o||!s||!s.length)return null;var p=this.state.isAnimationFinished,x=s.length===1,y=vt("recharts-line",l),b=c&&c.allowDataOverflow,S=f&&f.allowDataOverflow,_=b||S,w=ft(g)?this.id:g,T=(r=et(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},M=T.r,A=M===void 0?3:M,P=T.strokeWidth,O=P===void 0?2:P,L=Jq(a)?a:{},I=L.clipDot,j=I===void 0?!0:I,F=A*2+O;return H.createElement(Ct,{className:y},b||S?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(w)},H.createElement("rect",{x:b?d:d-h/2,y:S?u:u-m/2,width:b?h:h*2,height:S?m:m*2})),!j&&H.createElement("clipPath",{id:"clipPath-dots-".concat(w)},H.createElement("rect",{x:d-F/2,y:u-F/2,width:h+F,height:m+F}))):null,!x&&this.renderCurve(_,w),this.renderErrorBar(_,w),(x||a)&&this.renderDots(_,j,w),(!v||p)&&ko.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Rl(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Rl(a),Rl(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(H.isValidElement(r))o=H.cloneElement(r,i);else if(lt(r))o=r(i);else{var a=i.key,s=OR(i,lye),l=vt("recharts-line-dot",typeof r!="boolean"?r.className:"");o=H.createElement(oy,Bf({key:a},s,{className:l}))}return o}}])}(C.PureComponent);Ei(Fi,"displayName","Line");Ei(Fi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!eo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ei(Fi,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,f=e.layout,u=l.map(function(d,h){var m=Pn(d,a);return f==="horizontal"?{x:nO({axis:n,ticks:i,bandSize:s,entry:d,index:h}),y:ft(m)?null:r.scale(m),value:m,payload:d}:{x:ft(m)?null:n.scale(m),y:nO({axis:r,ticks:o,bandSize:s,entry:d,index:h}),value:m,payload:d}});return Pr({points:u,layout:f},c)});function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function _ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aU(r.key),r)}}function wye(t,e,n){return e&&Sye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eye(t,e,n){return e=Hv(e),Mye(t,iU()?Reflect.construct(e,n||[],Hv(t).constructor):e.apply(t,n))}function Mye(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aye(t)}function Aye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iU=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(t)}function Tye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CS(t,e)}function CS(t,e){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CS(t,e)}function oU(t,e,n){return e=aU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aU(t){var e=Pye(t,"string");return nu(e)=="symbol"?e:e+""}function Pye(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OS(){return OS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OS.apply(this,arguments)}function Cye(t){var e=t.xAxisId,n=bE(),r=_E(),i=Vk(e);return i==null?null:H.createElement(Tu,OS({},i,{className:vt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Oo(a,!0)}}))}var ll=function(t){function e(){return _ye(this,e),Eye(this,e,arguments)}return Tye(e,t),wye(e,[{key:"render",value:function(){return H.createElement(Cye,this.props)}}])}(H.Component);oU(ll,"displayName","XAxis");oU(ll,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function Oye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cU(r.key),r)}}function Nye(t,e,n){return e&&Rye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dye(t,e,n){return e=Vv(e),Lye(t,sU()?Reflect.construct(e,n||[],Vv(t).constructor):e.apply(t,n))}function Lye(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iye(t)}function Iye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sU=function(){return!!t})()}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vv(t)}function kye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RS(t,e)}function RS(t,e){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RS(t,e)}function lU(t,e,n){return e=cU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cU(t){var e=Uye(t,"string");return ru(e)=="symbol"?e:e+""}function Uye(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NS(){return NS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NS.apply(this,arguments)}var Fye=function(e){var n=e.yAxisId,r=bE(),i=_E(),o=Gk(n);return o==null?null:H.createElement(Tu,NS({},o,{className:vt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Oo(s,!0)}}))},cl=function(t){function e(){return Oye(this,e),Dye(this,e,arguments)}return kye(e,t),Nye(e,[{key:"render",value:function(){return H.createElement(Fye,this.props)}}])}(H.Component);lU(cl,"displayName","YAxis");lU(cl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function DR(t){return zye(t)||$ye(t)||Bye(t)||jye()}function jye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bye(t,e){if(t){if(typeof t=="string")return DS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DS(t,e)}}function $ye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zye(t){if(Array.isArray(t))return DS(t)}function DS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var LS=function(e,n,r,i,o){var a=Br(e,wE),s=Br(e,py),l=[].concat(DR(a),DR(s)),c=Br(e,vy),f="".concat(i,"Id"),u=i[0],d=n;if(l.length&&(d=l.reduce(function(v,g){if(g.props[f]===r&&no(g.props,"extendDomain")&&Pe(g.props[u])){var p=g.props[u];return[Math.min(v[0],p),Math.max(v[1],p)]}return v},d)),c.length){var h="".concat(u,"1"),m="".concat(u,"2");d=c.reduce(function(v,g){if(g.props[f]===r&&no(g.props,"extendDomain")&&Pe(g.props[h])&&Pe(g.props[m])){var p=g.props[h],x=g.props[m];return[Math.min(v[0],p,x),Math.max(v[1],p,x)]}return v},d)}return o&&o.length&&(d=o.reduce(function(v,g){return Pe(g)?[Math.min(v[0],g),Math.max(v[1],g)]:v},d)),d},uU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,u,d){if(typeof f!="function")throw new TypeError("The listener must be a function");var h=new i(f,u||l,d),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],h]:l._events[m].push(h):(l._events[m]=h,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],f,u;if(this._eventsCount===0)return c;for(u in f=this._events)e.call(f,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},s.prototype.listeners=function(c){var f=n?n+c:c,u=this._events[f];if(!u)return[];if(u.fn)return[u.fn];for(var d=0,h=u.length,m=new Array(h);d<h;d++)m[d]=u[d].fn;return m},s.prototype.listenerCount=function(c){var f=n?n+c:c,u=this._events[f];return u?u.fn?1:u.length:0},s.prototype.emit=function(c,f,u,d,h,m){var v=n?n+c:c;if(!this._events[v])return!1;var g=this._events[v],p=arguments.length,x,y;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),p){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,u),!0;case 4:return g.fn.call(g.context,f,u,d),!0;case 5:return g.fn.call(g.context,f,u,d,h),!0;case 6:return g.fn.call(g.context,f,u,d,h,m),!0}for(y=1,x=new Array(p-1);y<p;y++)x[y-1]=arguments[y];g.fn.apply(g.context,x)}else{var b=g.length,S;for(y=0;y<b;y++)switch(g[y].once&&this.removeListener(c,g[y].fn,void 0,!0),p){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,f);break;case 3:g[y].fn.call(g[y].context,f,u);break;case 4:g[y].fn.call(g[y].context,f,u,d);break;default:if(!x)for(S=1,x=new Array(p-1);S<p;S++)x[S-1]=arguments[S];g[y].fn.apply(g[y].context,x)}}return!0},s.prototype.on=function(c,f,u){return o(this,c,f,u,!1)},s.prototype.once=function(c,f,u){return o(this,c,f,u,!0)},s.prototype.removeListener=function(c,f,u,d){var h=n?n+c:c;if(!this._events[h])return this;if(!f)return a(this,h),this;var m=this._events[h];if(m.fn)m.fn===f&&(!d||m.once)&&(!u||m.context===u)&&a(this,h);else{for(var v=0,g=[],p=m.length;v<p;v++)(m[v].fn!==f||d&&!m[v].once||u&&m[v].context!==u)&&g.push(m[v]);g.length?this._events[h]=g.length===1?g[0]:g:a(this,h)}return this},s.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(uU);var Hye=uU.exports;const Vye=It(Hye);var sx=new Vye,lx="recharts.syncMouseEvents";function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function Gye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fU(r.key),r)}}function Xye(t,e,n){return e&&Wye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cx(t,e,n){return e=fU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fU(t){var e=qye(t,"string");return qd(e)=="symbol"?e:e+""}function qye(t,e){if(qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yye=function(){function t(){Gye(this,t),cx(this,"activeIndex",0),cx(this,"coordinateList",[]),cx(this,"layout","horizontal")}return Xye(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,f=n.offset,u=f===void 0?null:f,d=n.mouseHandlerCallback,h=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,u=o+l+c,d=a+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:u,pageY:d})}}}])}();function Kye(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Pe(r)&&Pe(i))return!0}return!1}function Zye(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function dU(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Yt(e,n,r,i),s=Yt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Jye(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,f=e.outerRadius,u=e.angle,d=Yt(s,l,c,u),h=Yt(s,l,f,u);r=d.x,i=d.y,o=h.x,a=h.y}else return dU(e);return[{x:r,y:i},{x:o,y:a}]}function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){Qye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qye(t,e,n){return e=e0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e0e(t){var e=t0e(t,"string");return Yd(e)=="symbol"?e:e+""}function t0e(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n0e(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,f=t.tooltipAxisBandSize,u=t.layout,d=t.chartName,h=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!o||!a||d!=="ScatterChart"&&i!=="axis")return null;var m,v=Sv;if(d==="ScatterChart")m=a,v=xhe;else if(d==="BarChart")m=Zye(u,a,l,f),v=vE;else if(u==="radial"){var g=dU(a),p=g.cx,x=g.cy,y=g.radius,b=g.startAngle,S=g.endAngle;m={cx:p,cy:x,startAngle:b,endAngle:S,innerRadius:y,outerRadius:y},v=lk}else m={points:Jye(u,a,l)},v=Sv;var _=Up(Up(Up(Up({stroke:"#ccc",pointerEvents:"none"},l),m),et(h,!1)),{},{payload:s,payloadIndex:c,className:vt("recharts-tooltip-cursor",h.className)});return C.isValidElement(h)?C.cloneElement(h,_):C.createElement(v,_)}var r0e=["item"],i0e=["children","className","width","height","style","compact","title","desc"];function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(this,arguments)}function IR(t,e){return s0e(t)||a0e(t,e)||pU(t,e)||o0e()}function o0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function s0e(t){if(Array.isArray(t))return t}function kR(t,e){if(t==null)return{};var n=l0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function c0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mU(r.key),r)}}function f0e(t,e,n){return e&&u0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d0e(t,e,n){return e=Gv(e),h0e(t,hU()?Reflect.construct(e,n||[],Gv(t).constructor):e.apply(t,n))}function h0e(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p0e(t)}function p0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hU=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(t)}function m0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IS(t,e)}function IS(t,e){return IS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IS(t,e)}function ou(t){return y0e(t)||g0e(t)||pU(t)||v0e()}function v0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pU(t,e){if(t){if(typeof t=="string")return kS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kS(t,e)}}function g0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function y0e(t){if(Array.isArray(t))return kS(t)}function kS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function he(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function it(t,e,n){return e=mU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mU(t){var e=x0e(t,"string");return iu(e)=="symbol"?e:e+""}function x0e(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b0e={xAxis:["bottom","top"],yAxis:["left","right"]},_0e={width:"100%",height:"100%"},vU={x:0,y:0};function Fp(t){return t}var S0e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},w0e=function(e,n,r,i){var o=n.find(function(f){return f&&f.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return he(he(he({},i),Yt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return he(he(he({},i),Yt(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return vU},gy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(ou(s),ou(c)):s},[]);return a.length>0?a:e&&e.length&&Pe(i)&&Pe(o)?e.slice(i,o+1):[]};function gU(t){return t==="number"?[0,"auto"]:void 0}var US=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=gy(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var f,u=(f=c.props.data)!==null&&f!==void 0?f:n;u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var h=u===void 0?s:u;d=Gm(h,a.dataKey,i)}else d=u&&u[r]||s[r];return d?[].concat(ou(l),[nk(c,d)]):l},[])},FR=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=S0e(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,f=Qce(a,s,c,l);if(f>=0&&c){var u=c[f]&&c[f].value,d=US(e,n,f,u),h=w0e(r,s,f,o);return{activeTooltipIndex:f,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},E0e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,f=e.layout,u=e.children,d=e.stackOffset,h=K3(f,o);return r.reduce(function(m,v){var g,p=v.type.defaultProps!==void 0?he(he({},v.type.defaultProps),v.props):v.props,x=p.type,y=p.dataKey,b=p.allowDataOverflow,S=p.allowDuplicatedCategory,_=p.scale,w=p.ticks,T=p.includeHidden,M=p[a];if(m[M])return m;var A=gy(e.data,{graphicalItems:i.filter(function(ie){var xe,Z=a in ie.props?ie.props[a]:(xe=ie.type.defaultProps)===null||xe===void 0?void 0:xe[a];return Z===M}),dataStartIndex:l,dataEndIndex:c}),P=A.length,O,L,I;Kye(p.domain,b,x)&&(O=Z_(p.domain,null,b),h&&(x==="number"||_!=="auto")&&(I=kf(A,y,"category")));var j=gU(x);if(!O||O.length===0){var F,B=(F=p.domain)!==null&&F!==void 0?F:j;if(y){if(O=kf(A,y,x),x==="category"&&h){var D=Hq(O);S&&D?(L=O,O=Nv(0,P)):S||(O=aO(B,O,v).reduce(function(ie,xe){return ie.indexOf(xe)>=0?ie:[].concat(ou(ie),[xe])},[]))}else if(x==="category")S?O=O.filter(function(ie){return ie!==""&&!ft(ie)}):O=aO(B,O,v).reduce(function(ie,xe){return ie.indexOf(xe)>=0||xe===""||ft(xe)?ie:[].concat(ou(ie),[xe])},[]);else if(x==="number"){var z=iue(A,i.filter(function(ie){var xe,Z,ue=a in ie.props?ie.props[a]:(xe=ie.type.defaultProps)===null||xe===void 0?void 0:xe[a],be="hide"in ie.props?ie.props.hide:(Z=ie.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return ue===M&&(T||!be)}),y,o,f);z&&(O=z)}h&&(x==="number"||_!=="auto")&&(I=kf(A,y,"category"))}else h?O=Nv(0,P):s&&s[M]&&s[M].hasStack&&x==="number"?O=d==="expand"?[0,1]:tk(s[M].stackGroups,l,c):O=Y3(A,i.filter(function(ie){var xe=a in ie.props?ie.props[a]:ie.type.defaultProps[a],Z="hide"in ie.props?ie.props.hide:ie.type.defaultProps.hide;return xe===M&&(T||!Z)}),x,f,!0);if(x==="number")O=LS(u,O,M,o,w),B&&(O=Z_(B,O,b));else if(x==="category"&&B){var W=B,J=O.every(function(ie){return W.indexOf(ie)>=0});J&&(O=W)}}return he(he({},m),{},it({},M,he(he({},p),{},{axisType:o,domain:O,categoricalDomain:I,duplicateDomain:L,originalDomain:(g=p.domain)!==null&&g!==void 0?g:j,isCategorical:h,layout:f})))},{})},M0e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,f=e.layout,u=e.children,d=gy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),h=d.length,m=K3(f,o),v=-1;return r.reduce(function(g,p){var x=p.type.defaultProps!==void 0?he(he({},p.type.defaultProps),p.props):p.props,y=x[a],b=gU("number");if(!g[y]){v++;var S;return m?S=Nv(0,h):s&&s[y]&&s[y].hasStack?(S=tk(s[y].stackGroups,l,c),S=LS(u,S,y,o)):(S=Z_(b,Y3(d,r.filter(function(_){var w,T,M=a in _.props?_.props[a]:(w=_.type.defaultProps)===null||w===void 0?void 0:w[a],A="hide"in _.props?_.props.hide:(T=_.type.defaultProps)===null||T===void 0?void 0:T.hide;return M===y&&!A}),"number",f),i.defaultProps.allowDataOverflow),S=LS(u,S,y,o)),he(he({},g),{},it({},y,he(he({axisType:o},i.defaultProps),{},{hide:!0,orientation:jr(b0e,"".concat(o,".").concat(v%2),null),domain:S,originalDomain:b,isCategorical:m,layout:f})))}return g},{})},A0e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,f=e.children,u="".concat(i,"Id"),d=Br(f,o),h={};return d&&d.length?h=E0e(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:u,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(h=M0e(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:u,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),h},T0e=function(e){var n=ba(e),r=Oo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:H1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:xv(n,r)}},jR=function(e){var n=e.children,r=e.defaultShowTooltip,i=Rr(n,Yc),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},P0e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Lo(n&&n.type);return r&&r.indexOf("Bar")>=0})},BR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},C0e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,f=r.height,u=r.children,d=r.margin||{},h=Rr(u,Yc),m=Rr(u,Ia),v=Object.keys(l).reduce(function(S,_){var w=l[_],T=w.orientation;return!w.mirror&&!w.hide?he(he({},S),{},it({},T,S[T]+w.width)):S},{left:d.left||0,right:d.right||0}),g=Object.keys(a).reduce(function(S,_){var w=a[_],T=w.orientation;return!w.mirror&&!w.hide?he(he({},S),{},it({},T,jr(S,"".concat(T))+w.height)):S},{top:d.top||0,bottom:d.bottom||0}),p=he(he({},g),v),x=p.bottom;h&&(p.bottom+=h.props.height||Yc.defaultProps.height),m&&n&&(p=nue(p,i,r,n));var y=c-p.left-p.right,b=f-p.top-p.bottom;return he(he({brushBottom:x},p),{},{width:Math.max(y,0),height:Math.max(b,0)})},O0e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},yU=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,f=e.formatAxisMap,u=e.defaultProps,d=function(p,x){var y=x.graphicalItems,b=x.stackGroups,S=x.offset,_=x.updateId,w=x.dataStartIndex,T=x.dataEndIndex,M=p.barSize,A=p.layout,P=p.barGap,O=p.barCategoryGap,L=p.maxBarSize,I=BR(A),j=I.numericAxisName,F=I.cateAxisName,B=P0e(y),D=[];return y.forEach(function(z,W){var J=gy(p.data,{graphicalItems:[z],dataStartIndex:w,dataEndIndex:T}),ie=z.type.defaultProps!==void 0?he(he({},z.type.defaultProps),z.props):z.props,xe=ie.dataKey,Z=ie.maxBarSize,ue=ie["".concat(j,"Id")],be=ie["".concat(F,"Id")],ne={},_e=l.reduce(function(U,R){var ee=x["".concat(R.axisType,"Map")],de=ie["".concat(R.axisType,"Id")];ee&&ee[de]||R.axisType==="zAxis"||Ys();var ye=ee[de];return he(he({},U),{},it(it({},R.axisType,ye),"".concat(R.axisType,"Ticks"),Oo(ye)))},ne),Q=_e[F],ae=_e["".concat(F,"Ticks")],le=b&&b[ue]&&b[ue].hasStack&&hue(z,b[ue].stackGroups),$=Lo(z.type).indexOf("Bar")>=0,se=xv(Q,ae),k=[],ve=B&&eue({barSize:M,stackGroups:b,totalSize:O0e(_e,F)});if($){var fe,we,Ee=ft(Z)?L:Z,Ye=(fe=(we=xv(Q,ae,!0))!==null&&we!==void 0?we:Ee)!==null&&fe!==void 0?fe:0;k=tue({barGap:P,barCategoryGap:O,bandSize:Ye!==se?Ye:se,sizeList:ve[be],maxBarSize:Ee}),Ye!==se&&(k=k.map(function(U){return he(he({},U),{},{position:he(he({},U.position),{},{offset:U.position.offset-Ye/2})})}))}var Le=z&&z.type&&z.type.getComposedData;Le&&D.push({props:he(he({},Le(he(he({},_e),{},{displayedData:J,props:p,dataKey:xe,item:z,bandSize:se,barPosition:k,offset:S,stackedData:le,layout:A,dataStartIndex:w,dataEndIndex:T}))),{},it(it(it({key:z.key||"item-".concat(W)},j,_e[j]),F,_e[F]),"animationId",_)),childIndex:tY(z,p.children),item:z})}),D},h=function(p,x){var y=p.props,b=p.dataStartIndex,S=p.dataEndIndex,_=p.updateId;if(!QT({props:y}))return null;var w=y.children,T=y.layout,M=y.stackOffset,A=y.data,P=y.reverseStackOrder,O=BR(T),L=O.numericAxisName,I=O.cateAxisName,j=Br(w,r),F=fue(A,j,"".concat(L,"Id"),"".concat(I,"Id"),M,P),B=l.reduce(function(ie,xe){var Z="".concat(xe.axisType,"Map");return he(he({},ie),{},it({},Z,A0e(y,he(he({},xe),{},{graphicalItems:j,stackGroups:xe.axisType===L&&F,dataStartIndex:b,dataEndIndex:S}))))},{}),D=C0e(he(he({},B),{},{props:y,graphicalItems:j}),x==null?void 0:x.legendBBox);Object.keys(B).forEach(function(ie){B[ie]=f(y,B[ie],D,ie.replace("Map",""),n)});var z=B["".concat(I,"Map")],W=T0e(z),J=d(y,he(he({},B),{},{dataStartIndex:b,dataEndIndex:S,updateId:_,graphicalItems:j,stackGroups:F,offset:D}));return he(he({formattedGraphicalItems:J,graphicalItems:j,offset:D,stackGroups:F},W),B)},m=function(g){function p(x){var y,b,S;return c0e(this,p),S=d0e(this,p,[x]),it(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),it(S,"accessibilityManager",new Yye),it(S,"handleLegendBBoxUpdate",function(_){if(_){var w=S.state,T=w.dataStartIndex,M=w.dataEndIndex,A=w.updateId;S.setState(he({legendBBox:_},h({props:S.props,dataStartIndex:T,dataEndIndex:M,updateId:A},he(he({},S.state),{},{legendBBox:_}))))}}),it(S,"handleReceiveSyncEvent",function(_,w,T){if(S.props.syncId===_){if(T===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(w)}}),it(S,"handleBrushChange",function(_){var w=_.startIndex,T=_.endIndex;if(w!==S.state.dataStartIndex||T!==S.state.dataEndIndex){var M=S.state.updateId;S.setState(function(){return he({dataStartIndex:w,dataEndIndex:T},h({props:S.props,dataStartIndex:w,dataEndIndex:T,updateId:M},S.state))}),S.triggerSyncEvent({dataStartIndex:w,dataEndIndex:T})}}),it(S,"handleMouseEnter",function(_){var w=S.getMouseInfo(_);if(w){var T=he(he({},w),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var M=S.props.onMouseEnter;lt(M)&&M(T,_)}}),it(S,"triggeredAfterMouseMove",function(_){var w=S.getMouseInfo(_),T=w?he(he({},w),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var M=S.props.onMouseMove;lt(M)&&M(T,_)}),it(S,"handleItemMouseEnter",function(_){S.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),it(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),it(S,"handleMouseMove",function(_){_.persist(),S.throttleTriggeredAfterMouseMove(_)}),it(S,"handleMouseLeave",function(_){S.throttleTriggeredAfterMouseMove.cancel();var w={isTooltipActive:!1};S.setState(w),S.triggerSyncEvent(w);var T=S.props.onMouseLeave;lt(T)&&T(w,_)}),it(S,"handleOuterEvent",function(_){var w=eY(_),T=jr(S.props,"".concat(w));if(w&&lt(T)){var M,A;/.*touch.*/i.test(w)?A=S.getMouseInfo(_.changedTouches[0]):A=S.getMouseInfo(_),T((M=A)!==null&&M!==void 0?M:{},_)}}),it(S,"handleClick",function(_){var w=S.getMouseInfo(_);if(w){var T=he(he({},w),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var M=S.props.onClick;lt(M)&&M(T,_)}}),it(S,"handleMouseDown",function(_){var w=S.props.onMouseDown;if(lt(w)){var T=S.getMouseInfo(_);w(T,_)}}),it(S,"handleMouseUp",function(_){var w=S.props.onMouseUp;if(lt(w)){var T=S.getMouseInfo(_);w(T,_)}}),it(S,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),it(S,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&S.handleMouseDown(_.changedTouches[0])}),it(S,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&S.handleMouseUp(_.changedTouches[0])}),it(S,"triggerSyncEvent",function(_){S.props.syncId!==void 0&&sx.emit(lx,S.props.syncId,_,S.eventEmitterSymbol)}),it(S,"applySyncEvent",function(_){var w=S.props,T=w.layout,M=w.syncMethod,A=S.state.updateId,P=_.dataStartIndex,O=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)S.setState(he({dataStartIndex:P,dataEndIndex:O},h({props:S.props,dataStartIndex:P,dataEndIndex:O,updateId:A},S.state)));else if(_.activeTooltipIndex!==void 0){var L=_.chartX,I=_.chartY,j=_.activeTooltipIndex,F=S.state,B=F.offset,D=F.tooltipTicks;if(!B)return;if(typeof M=="function")j=M(D,_);else if(M==="value"){j=-1;for(var z=0;z<D.length;z++)if(D[z].value===_.activeLabel){j=z;break}}var W=he(he({},B),{},{x:B.left,y:B.top}),J=Math.min(L,W.x+W.width),ie=Math.min(I,W.y+W.height),xe=D[j]&&D[j].value,Z=US(S.state,S.props.data,j),ue=D[j]?{x:T==="horizontal"?D[j].coordinate:J,y:T==="horizontal"?ie:D[j].coordinate}:vU;S.setState(he(he({},_),{},{activeLabel:xe,activeCoordinate:ue,activePayload:Z,activeTooltipIndex:j}))}else S.setState(_)}),it(S,"renderCursor",function(_){var w,T=S.state,M=T.isTooltipActive,A=T.activeCoordinate,P=T.activePayload,O=T.offset,L=T.activeTooltipIndex,I=T.tooltipAxisBandSize,j=S.getTooltipEventType(),F=(w=_.props.active)!==null&&w!==void 0?w:M,B=S.props.layout,D=_.key||"_recharts-cursor";return H.createElement(n0e,{key:D,activeCoordinate:A,activePayload:P,activeTooltipIndex:L,chartName:n,element:_,isActive:F,layout:B,offset:O,tooltipAxisBandSize:I,tooltipEventType:j})}),it(S,"renderPolarAxis",function(_,w,T){var M=jr(_,"type.axisType"),A=jr(S.state,"".concat(M,"Map")),P=_.type.defaultProps,O=P!==void 0?he(he({},P),_.props):_.props,L=A&&A[O["".concat(M,"Id")]];return C.cloneElement(_,he(he({},L),{},{className:vt(M,L.className),key:_.key||"".concat(w,"-").concat(T),ticks:Oo(L,!0)}))}),it(S,"renderPolarGrid",function(_){var w=_.props,T=w.radialLines,M=w.polarAngles,A=w.polarRadius,P=S.state,O=P.radiusAxisMap,L=P.angleAxisMap,I=ba(O),j=ba(L),F=j.cx,B=j.cy,D=j.innerRadius,z=j.outerRadius;return C.cloneElement(_,{polarAngles:Array.isArray(M)?M:Oo(j,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(A)?A:Oo(I,!0).map(function(W){return W.coordinate}),cx:F,cy:B,innerRadius:D,outerRadius:z,key:_.key||"polar-grid",radialLines:T})}),it(S,"renderLegend",function(){var _=S.state.formattedGraphicalItems,w=S.props,T=w.children,M=w.width,A=w.height,P=S.props.margin||{},O=M-(P.left||0)-(P.right||0),L=X3({children:T,formattedGraphicalItems:_,legendWidth:O,legendContent:c});if(!L)return null;var I=L.item,j=kR(L,r0e);return C.cloneElement(I,he(he({},j),{},{chartWidth:M,chartHeight:A,margin:P,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),it(S,"renderTooltip",function(){var _,w=S.props,T=w.children,M=w.accessibilityLayer,A=Rr(T,pr);if(!A)return null;var P=S.state,O=P.isTooltipActive,L=P.activeCoordinate,I=P.activePayload,j=P.activeLabel,F=P.offset,B=(_=A.props.active)!==null&&_!==void 0?_:O;return C.cloneElement(A,{viewBox:he(he({},F),{},{x:F.left,y:F.top}),active:B,label:j,payload:B?I:[],coordinate:L,accessibilityLayer:M})}),it(S,"renderBrush",function(_){var w=S.props,T=w.margin,M=w.data,A=S.state,P=A.offset,O=A.dataStartIndex,L=A.dataEndIndex,I=A.updateId;return C.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Dp(S.handleBrushChange,_.props.onChange),data:M,x:Pe(_.props.x)?_.props.x:P.left,y:Pe(_.props.y)?_.props.y:P.top+P.height+P.brushBottom-(T.bottom||0),width:Pe(_.props.width)?_.props.width:P.width,startIndex:O,endIndex:L,updateId:"brush-".concat(I)})}),it(S,"renderReferenceElement",function(_,w,T){if(!_)return null;var M=S,A=M.clipPathId,P=S.state,O=P.xAxisMap,L=P.yAxisMap,I=P.offset,j=_.type.defaultProps||{},F=_.props,B=F.xAxisId,D=B===void 0?j.xAxisId:B,z=F.yAxisId,W=z===void 0?j.yAxisId:z;return C.cloneElement(_,{key:_.key||"".concat(w,"-").concat(T),xAxis:O[D],yAxis:L[W],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:A})}),it(S,"renderActivePoints",function(_){var w=_.item,T=_.activePoint,M=_.basePoint,A=_.childIndex,P=_.isRange,O=[],L=w.props.key,I=w.item.type.defaultProps!==void 0?he(he({},w.item.type.defaultProps),w.item.props):w.item.props,j=I.activeDot,F=I.dataKey,B=he(he({index:A,dataKey:F,cx:T.x,cy:T.y,r:4,fill:mE(w.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},et(j,!1)),Wm(j));return O.push(p.renderActiveDot(j,B,"".concat(L,"-activePoint-").concat(A))),M?O.push(p.renderActiveDot(j,he(he({},B),{},{cx:M.x,cy:M.y}),"".concat(L,"-basePoint-").concat(A))):P&&O.push(null),O}),it(S,"renderGraphicChild",function(_,w,T){var M=S.filterFormatItem(_,w,T);if(!M)return null;var A=S.getTooltipEventType(),P=S.state,O=P.isTooltipActive,L=P.tooltipAxis,I=P.activeTooltipIndex,j=P.activeLabel,F=S.props.children,B=Rr(F,pr),D=M.props,z=D.points,W=D.isRange,J=D.baseLine,ie=M.item.type.defaultProps!==void 0?he(he({},M.item.type.defaultProps),M.item.props):M.item.props,xe=ie.activeDot,Z=ie.hide,ue=ie.activeBar,be=ie.activeShape,ne=!!(!Z&&O&&B&&(xe||ue||be)),_e={};A!=="axis"&&B&&B.props.trigger==="click"?_e={onClick:Dp(S.handleItemMouseEnter,_.props.onClick)}:A!=="axis"&&(_e={onMouseLeave:Dp(S.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Dp(S.handleItemMouseEnter,_.props.onMouseEnter)});var Q=C.cloneElement(_,he(he({},M.props),_e));function ae(R){return typeof L.dataKey=="function"?L.dataKey(R.payload):null}if(ne)if(I>=0){var le,$;if(L.dataKey&&!L.allowDuplicatedCategory){var se=typeof L.dataKey=="function"?ae:"payload.".concat(L.dataKey.toString());le=Gm(z,se,j),$=W&&J&&Gm(J,se,j)}else le=z==null?void 0:z[I],$=W&&J&&J[I];if(be||ue){var k=_.props.activeIndex!==void 0?_.props.activeIndex:I;return[C.cloneElement(_,he(he(he({},M.props),_e),{},{activeIndex:k})),null,null]}if(!ft(le))return[Q].concat(ou(S.renderActivePoints({item:M,activePoint:le,basePoint:$,childIndex:I,isRange:W})))}else{var ve,fe=(ve=S.getItemByXY(S.state.activeCoordinate))!==null&&ve!==void 0?ve:{graphicalItem:Q},we=fe.graphicalItem,Ee=we.item,Ye=Ee===void 0?_:Ee,Le=we.childIndex,U=he(he(he({},M.props),_e),{},{activeIndex:Le});return[C.cloneElement(Ye,U),null,null]}return W?[Q,null,null]:[Q,null]}),it(S,"renderCustomized",function(_,w,T){return C.cloneElement(_,he(he({key:"recharts-customized-".concat(T)},S.props),S.state))}),it(S,"renderMap",{CartesianGrid:{handler:Fp,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Fp},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Fp},YAxis:{handler:Fp},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((y=x.id)!==null&&y!==void 0?y:xu("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=WI(S.triggeredAfterMouseMove,(b=x.throttleDelay)!==null&&b!==void 0?b:1e3/60),S.state={},S}return m0e(p,g),f0e(p,[{key:"componentDidMount",value:function(){var y,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,b=y.children,S=y.data,_=y.height,w=y.layout,T=Rr(b,pr);if(T){var M=T.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,P=US(this.state,S,M,A),O=this.state.tooltipTicks[M].coordinate,L=(this.state.offset.top+_)/2,I=w==="horizontal",j=I?{x:O,y:L}:{y:O,x:L},F=this.state.formattedGraphicalItems.find(function(D){var z=D.item;return z.type.name==="Scatter"});F&&(j=he(he({},j),F.props.points[M].tooltipPosition),P=F.props.points[M].tooltipPayload);var B={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:A,activePayload:P,activeCoordinate:j};this.setState(B),this.renderCursor(T),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var S,_;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(y){d_([Rr(y.children,pr)],[Rr(this.props.children,pr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Rr(this.props.children,pr);if(y&&typeof y.props.shared=="boolean"){var b=y.props.shared?"axis":"item";return s.indexOf(b)>=0?b:o}return o}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var b=this.container,S=b.getBoundingClientRect(),_=Toe(S),w={chartX:Math.round(y.pageX-_.left),chartY:Math.round(y.pageY-_.top)},T=S.width/b.offsetWidth||1,M=this.inRange(w.chartX,w.chartY,T);if(!M)return null;var A=this.state,P=A.xAxisMap,O=A.yAxisMap,L=this.getTooltipEventType();if(L!=="axis"&&P&&O){var I=ba(P).scale,j=ba(O).scale,F=I&&I.invert?I.invert(w.chartX):null,B=j&&j.invert?j.invert(w.chartY):null;return he(he({},w),{},{xValue:F,yValue:B})}var D=FR(this.state,this.props.data,this.props.layout,M);return D?he(he({},w),D):null}},{key:"inRange",value:function(y,b){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,w=y/S,T=b/S;if(_==="horizontal"||_==="vertical"){var M=this.state.offset,A=w>=M.left&&w<=M.left+M.width&&T>=M.top&&T<=M.top+M.height;return A?{x:w,y:T}:null}var P=this.state,O=P.angleAxisMap,L=P.radiusAxisMap;if(O&&L){var I=ba(O);return cO({x:w,y:T},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,b=this.getTooltipEventType(),S=Rr(y,pr),_={};S&&b==="axis"&&(S.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var w=Wm(this.props,this.handleOuterEvent);return he(he({},w),_)}},{key:"addListener",value:function(){sx.on(lx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){sx.removeListener(lx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,b,S){for(var _=this.state.formattedGraphicalItems,w=0,T=_.length;w<T;w++){var M=_[w];if(M.item===y||M.props.key===y.key||b===Lo(M.item.type)&&S===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,b=this.state.offset,S=b.left,_=b.top,w=b.height,T=b.width;return H.createElement("defs",null,H.createElement("clipPath",{id:y},H.createElement("rect",{x:S,y:_,height:w,width:T})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(b,S){var _=IR(S,2),w=_[0],T=_[1];return he(he({},b),{},it({},w,T.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(b,S){var _=IR(S,2),w=_[0],T=_[1];return he(he({},b),{},it({},w,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var b;return(b=this.state.xAxisMap)===null||b===void 0||(b=b[y])===null||b===void 0?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(y){var b;return(b=this.state.yAxisMap)===null||b===void 0||(b=b[y])===null||b===void 0?void 0:b.scale}},{key:"getItemByXY",value:function(y){var b=this.state,S=b.formattedGraphicalItems,_=b.activeItem;if(S&&S.length)for(var w=0,T=S.length;w<T;w++){var M=S[w],A=M.props,P=M.item,O=P.type.defaultProps!==void 0?he(he({},P.type.defaultProps),P.props):P.props,L=Lo(P.type);if(L==="Bar"){var I=(A.data||[]).find(function(D){return Qde(y,D)});if(I)return{graphicalItem:M,payload:I}}else if(L==="RadialBar"){var j=(A.data||[]).find(function(D){return cO(y,D)});if(j)return{graphicalItem:M,payload:j}}else if(uy(M,_)||fy(M,_)||Hd(M,_)){var F=$pe({graphicalItem:M,activeTooltipItem:_,itemData:O.data}),B=O.activeIndex===void 0?F:O.activeIndex;return{graphicalItem:he(he({},M),{},{childIndex:B}),payload:Hd(M,_)?O.data[F]:M.props.data[F]}}}return null}},{key:"render",value:function(){var y=this;if(!QT(this))return null;var b=this.props,S=b.children,_=b.className,w=b.width,T=b.height,M=b.style,A=b.compact,P=b.title,O=b.desc,L=kR(b,i0e),I=et(L,!1);if(A)return H.createElement(gR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(p_,rc({},I,{width:w,height:T,title:P,desc:O}),this.renderClipPath(),tP(S,this.renderMap)));if(this.props.accessibilityLayer){var j,F;I.tabIndex=(j=this.props.tabIndex)!==null&&j!==void 0?j:0,I.role=(F=this.props.role)!==null&&F!==void 0?F:"application",I.onKeyDown=function(D){y.accessibilityManager.keyboardEvent(D)},I.onFocus=function(){y.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return H.createElement(gR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",rc({className:vt("recharts-wrapper",_),style:he({position:"relative",cursor:"default",width:w,height:T},M)},B,{ref:function(z){y.container=z}}),H.createElement(p_,rc({},I,{width:w,height:T,title:P,desc:O,style:_0e}),this.renderClipPath(),tP(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);it(m,"displayName",n),it(m,"defaultProps",he({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),it(m,"getDerivedStateFromProps",function(g,p){var x=g.dataKey,y=g.data,b=g.children,S=g.width,_=g.height,w=g.layout,T=g.stackOffset,M=g.margin,A=p.dataStartIndex,P=p.dataEndIndex;if(p.updateId===void 0){var O=jR(g);return he(he(he({},O),{},{updateId:0},h(he(he({props:g},O),{},{updateId:0}),p)),{},{prevDataKey:x,prevData:y,prevWidth:S,prevHeight:_,prevLayout:w,prevStackOffset:T,prevMargin:M,prevChildren:b})}if(x!==p.prevDataKey||y!==p.prevData||S!==p.prevWidth||_!==p.prevHeight||w!==p.prevLayout||T!==p.prevStackOffset||!mc(M,p.prevMargin)){var L=jR(g),I={chartX:p.chartX,chartY:p.chartY,isTooltipActive:p.isTooltipActive},j=he(he({},FR(p,y,w)),{},{updateId:p.updateId+1}),F=he(he(he({},L),I),j);return he(he(he({},F),h(he({props:g},F),p)),{},{prevDataKey:x,prevData:y,prevWidth:S,prevHeight:_,prevLayout:w,prevStackOffset:T,prevMargin:M,prevChildren:b})}if(!d_(b,p.prevChildren)){var B,D,z,W,J=Rr(b,Yc),ie=J&&(B=(D=J.props)===null||D===void 0?void 0:D.startIndex)!==null&&B!==void 0?B:A,xe=J&&(z=(W=J.props)===null||W===void 0?void 0:W.endIndex)!==null&&z!==void 0?z:P,Z=ie!==A||xe!==P,ue=!ft(y),be=ue&&!Z?p.updateId:p.updateId+1;return he(he({updateId:be},h(he(he({props:g},p),{},{updateId:be,dataStartIndex:ie,dataEndIndex:xe}),p)),{},{prevChildren:b,dataStartIndex:ie,dataEndIndex:xe})}return null}),it(m,"renderActiveDot",function(g,p,x){var y;return C.isValidElement(g)?y=C.cloneElement(g,p):lt(g)?y=g(p):y=H.createElement(oy,p),H.createElement(Ct,{className:"recharts-active-dot",key:x},y)});var v=C.forwardRef(function(p,x){return H.createElement(m,rc({},p,{ref:x}))});return v.displayName=m.displayName,v},yy=yU({chartName:"LineChart",GraphicalChild:Fi,axisComponents:[{axisType:"xAxis",AxisComp:ll},{axisType:"yAxis",AxisComp:cl}],formatAxisMap:xve}),R0e=yU({chartName:"PieChart",GraphicalChild:Qo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:cy},{axisType:"radiusAxis",AxisComp:sy}],formatAxisMap:wue,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xU=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D0e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0e=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>C.createElement("svg",{ref:l,...D0e,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:xU("lucide",i),...s},[...a.map(([c,f])=>C.createElement(c,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=(t,e)=>{const n=C.forwardRef(({className:r,...i},o)=>C.createElement(L0e,{ref:o,iconNode:e,className:xU(`lucide-${N0e(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=Wr("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0e=Wr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0e=Wr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0e=Wr("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0e=Wr("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=Wr("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=Wr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0e=Wr("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0e=Wr("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0e=Wr("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0e=Wr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=Wr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=Wr("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),H0e=[{id:"kenya-solar",country:"Kenya",sector:"Solar Energy",region:"East Africa",initialInvestment:5e6,fundingSource:"Multilateral Green Fund",annualEmissionsReduced:25e3,technologyMaturity:"Advanced",sdgAlignment:["Climate Action","Affordable Energy","Economic Growth"],economicImpact:{jobsCreated:150,localEconomyGrowth:.5,energyAccessImproved:75e3,skillsDevelopment:{technicalTraining:100,managementTraining:50}},riskProfile:{politicalRisk:"Medium",technicalRisk:"Low",marketRisk:"Medium"},carbonReductionTrajectory:[{year:2023,emissions:25e3,cumulativeReduction:25e3},{year:2024,emissions:2e4,cumulativeReduction:45e3},{year:2025,emissions:15e3,cumulativeReduction:6e4},{year:2026,emissions:1e4,cumulativeReduction:7e4},{year:2027,emissions:5e3,cumulativeReduction:75e3},{year:2028,emissions:2500,cumulativeReduction:77500}],socialImpactMetrics:[{metric:"Energy Access",value:75e3},{metric:"Job Creation",value:150},{metric:"Skills Development",value:150}]},{id:"bangladesh-wind",country:"Bangladesh",sector:"Wind Energy",region:"South Asia",initialInvestment:75e5,fundingSource:"Climate Adaptation Fund",annualEmissionsReduced:35e3,technologyMaturity:"Emerging",sdgAlignment:["Climate Action","Sustainable Cities","Reduced Inequalities"],economicImpact:{jobsCreated:220,localEconomyGrowth:.7,energyAccessImproved:1e5,skillsDevelopment:{technicalTraining:150,managementTraining:70}},riskProfile:{politicalRisk:"High",technicalRisk:"Medium",marketRisk:"Low"},carbonReductionTrajectory:[{year:2023,emissions:35e3,cumulativeReduction:35e3},{year:2024,emissions:28e3,cumulativeReduction:63e3},{year:2025,emissions:22e3,cumulativeReduction:85e3},{year:2026,emissions:16e3,cumulativeReduction:101e3},{year:2027,emissions:1e4,cumulativeReduction:111e3},{year:2028,emissions:5e3,cumulativeReduction:116e3}],socialImpactMetrics:[{metric:"Energy Access",value:1e5},{metric:"Job Creation",value:220},{metric:"Skills Development",value:220}]}],V0e=()=>{const[t]=C.useState(H0e),[e,n]=C.useState(null),[r,i]=C.useState({region:"",sector:"",minInvestment:0,maxInvestment:1e7}),o=C.useMemo(()=>t.filter(l=>(!r.region||l.region===r.region)&&(!r.sector||l.sector===r.sector)&&l.initialInvestment>=r.minInvestment&&l.initialInvestment<=r.maxInvestment),[t,r]),s={totalInvestment:o.reduce((l,c)=>l+c.initialInvestment,0),totalEmissionsReduced:o.reduce((l,c)=>l+c.annualEmissionsReduced,0),totalJobsCreated:o.reduce((l,c)=>l+c.economicImpact.jobsCreated,0),totalEnergyAccess:o.reduce((l,c)=>l+c.economicImpact.energyAccessImproved,0)};return E.jsx("div",{className:"bg-[#020112] text-gray-100 min-h-screen p-6",children:E.jsxs("div",{className:"container mx-auto",children:[E.jsx("div",{className:"header",children:"Sustainable Investment Portfolio"}),E.jsxs("div",{className:"bg-[#222222] rounded-lg p-6 mb-8",children:[E.jsxs("h2",{className:"text-2xl font-bold mb-4 text-[#00a87a] flex items-center",children:[E.jsx(F0e,{className:"mr-3"})," Project Filtering"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[E.jsxs("select",{className:"bg-[#444444] text-white p-2 rounded",value:r.region,onChange:l=>i({...r,region:l.target.value}),children:[E.jsx("option",{value:"",children:"All Regions"}),E.jsx("option",{value:"East Africa",children:"East Africa"}),E.jsx("option",{value:"South Asia",children:"South Asia"})]}),E.jsxs("select",{className:"bg-[#444444] text-white p-2 rounded",value:r.sector,onChange:l=>i({...r,sector:l.target.value}),children:[E.jsx("option",{value:"",children:"All Sectors"}),E.jsx("option",{value:"Solar Energy",children:"Solar Energy"}),E.jsx("option",{value:"Wind Energy",children:"Wind Energy"})]}),E.jsx("input",{type:"number",placeholder:"Min Investment",className:"bg-[#444444] text-white p-2 rounded",value:r.minInvestment,onChange:l=>i({...r,minInvestment:Number(l.target.value)})}),E.jsx("input",{type:"number",placeholder:"Max Investment",className:"bg-[#444444] text-white p-2 rounded",value:r.maxInvestment,onChange:l=>i({...r,maxInvestment:Number(l.target.value)})})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[E.jsxs("div",{className:"bg-[#222222] p-4 rounded-lg shadow flex items-center hover:bg-[#444444] transition",children:[E.jsx(jS,{className:"mr-3 text-[#00a87a]"}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-gray-300",children:"Total Investment"}),E.jsxs("p",{className:"text-green-300",children:["$",s.totalInvestment.toLocaleString()]})]})]}),E.jsxs("div",{className:"bg-[#222222] p-4 rounded-lg shadow flex items-center hover:bg-[#444444] transition",children:[E.jsx(B0e,{className:"mr-3 text-[#00a87a]"}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-gray-300",children:"Annual Emissions Reduced"}),E.jsxs("p",{className:"text-green-300",children:[s.totalEmissionsReduced," tons CO2"]})]})]}),E.jsxs("div",{className:"bg-[#222222] p-4 rounded-lg shadow flex items-center hover:bg-[#444444] transition",children:[E.jsx(bU,{className:"mr-3 text-[#00a87a]"}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-gray-300",children:"Jobs Created"}),E.jsx("p",{className:"text-green-300",children:s.totalJobsCreated})]})]}),E.jsxs("div",{className:"bg-[#222222] p-4 rounded-lg shadow flex items-center hover:bg-[#444444] transition",children:[E.jsx($0e,{className:"mr-3 text-[#00a87a]"}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-gray-300",children:"Energy Access Improved"}),E.jsxs("p",{className:"text-green-300",children:[s.totalEnergyAccess," people"]})]})]})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-2xl font-semibold mb-4 text-[#00a87a]",children:"Renewable Energy Projects"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(l=>E.jsxs("div",{className:`p-4 rounded-lg cursor-pointer transition ${e===l?"bg-green-900 border-2 border-green-500":"bg-[#222222] hover:bg-[#444444]"}`,onClick:()=>n(l),children:[E.jsxs("h3",{className:"text-xl font-bold text-[#00a87a]",children:[l.country," - ",l.sector]}),E.jsxs("p",{className:"text-gray-300",children:["Initial Investment: $",l.initialInvestment.toLocaleString()]}),E.jsxs("p",{className:"text-gray-300",children:["Annual Emissions Reduced: ",l.annualEmissionsReduced," tons CO2"]})]},l.id))})]}),e&&E.jsxs("div",{className:"bg-[#222222] p-6 rounded-lg shadow-lg",children:[E.jsxs("h2",{className:"text-2xl font-bold mb-4 text-[#00a87a]",children:[e.country," ",e.sector," Project Details"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"bg-[#020112] p-4 rounded-lg",children:[E.jsx("h3",{className:"text-xl font-semibold mb-3 text-[#00a87a]",children:"Economic Impact"}),E.jsxs("ul",{className:"space-y-2",children:[E.jsxs("li",{className:"flex items-center",children:[E.jsx(FS,{className:"mr-2 text-green-500"}),E.jsxs("span",{className:"text-gray-300",children:["Jobs Created: ",e.economicImpact.jobsCreated]})]}),E.jsxs("li",{className:"flex items-center",children:[E.jsx(j0e,{className:"mr-2 text-green-500"}),E.jsxs("span",{className:"text-gray-300",children:["Local Economy Growth: ",e.economicImpact.localEconomyGrowth,"%"]})]}),E.jsxs("li",{className:"flex items-center",children:[E.jsx(U0e,{className:"mr-2 text-green-500"}),E.jsxs("span",{className:"text-gray-300",children:["Energy Access: ",e.economicImpact.energyAccessImproved," people"]})]})]})]}),E.jsxs("div",{className:"bg-[#020112] p-4 rounded-lg",children:[E.jsx("h3",{className:"text-xl font-semibold mb-3 text-[#00a87a]",children:"Carbon Reduction Trajectory"}),E.jsx(xd,{width:"100%",height:250,children:E.jsxs(yy,{data:e.carbonReductionTrajectory,children:[E.jsx(Sh,{strokeDasharray:"3 3",stroke:"#444"}),E.jsx(ll,{dataKey:"year",tick:{fill:"#888"}}),E.jsx(cl,{tick:{fill:"#888"}}),E.jsx(pr,{contentStyle:{backgroundColor:"#333",borderColor:"#555"},labelStyle:{color:"#fff"}}),E.jsx(Fi,{type:"monotone",dataKey:"emissions",stroke:"#82ca9d",strokeWidth:3})]})})]}),E.jsxs("div",{className:"bg-[#020112] p-4 rounded-lg",children:[E.jsx("h3",{className:"text-xl font-semibold mb-3 text-[#00a87a]",children:"Social Impact"}),E.jsx(xd,{width:"100%",height:250,children:E.jsxs(R0e,{children:[E.jsx(Qo,{data:e.socialImpactMetrics,dataKey:"value",nameKey:"metric",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:e.socialImpactMetrics.map((l,c)=>E.jsx(Xg,{fill:["#82ca9d","#8884d8","#ffc658"][c%3]},`cell-${c}`))}),E.jsx(pr,{contentStyle:{backgroundColor:"#333",borderColor:"#555"},labelStyle:{color:"#fff"}})]})})]})]})]})]})})};function Wv(t,[e,n]){return Math.min(n,Math.max(e,t))}function Xt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function G0e(t,e=[]){let n=[];function r(o,a){const s=C.createContext(a),l=n.length;n=[...n,a];function c(u){const{scope:d,children:h,...m}=u,v=(d==null?void 0:d[t][l])||s,g=C.useMemo(()=>m,Object.values(m));return E.jsx(v.Provider,{value:g,children:h})}function f(u,d){const h=(d==null?void 0:d[t][l])||s,m=C.useContext(h);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,f]}const i=()=>{const o=n.map(a=>C.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return C.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,W0e(i,...e)]}function W0e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const u=l(o)[`__scope${c}`];return{...s,...u}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function X0e(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function SU(...t){return e=>t.forEach(n=>X0e(n,e))}function mn(...t){return C.useCallback(SU(...t),t)}var Kd=C.forwardRef((t,e)=>{const{children:n,...r}=t,i=C.Children.toArray(n),o=i.find(Y0e);if(o){const a=o.props.children,s=i.map(l=>l===o?C.Children.count(a)>1?C.Children.only(null):C.isValidElement(a)?a.props.children:null:l);return E.jsx(BS,{...r,ref:e,children:C.isValidElement(a)?C.cloneElement(a,void 0,s):null})}return E.jsx(BS,{...r,ref:e,children:n})});Kd.displayName="Slot";var BS=C.forwardRef((t,e)=>{const{children:n,...r}=t;if(C.isValidElement(n)){const i=Z0e(n);return C.cloneElement(n,{...K0e(r,n.props),ref:e?SU(e,i):i})}return C.Children.count(n)>1?C.Children.only(null):null});BS.displayName="SlotClone";var q0e=({children:t})=>E.jsx(E.Fragment,{children:t});function Y0e(t){return C.isValidElement(t)&&t.type===q0e}function K0e(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{o(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function Z0e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function wU(t){const e=t+"CollectionProvider",[n,r]=G0e(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=h=>{const{scope:m,children:v}=h,g=H.useRef(null),p=H.useRef(new Map).current;return E.jsx(i,{scope:m,itemMap:p,collectionRef:g,children:v})};a.displayName=e;const s=t+"CollectionSlot",l=H.forwardRef((h,m)=>{const{scope:v,children:g}=h,p=o(s,v),x=mn(m,p.collectionRef);return E.jsx(Kd,{ref:x,children:g})});l.displayName=s;const c=t+"CollectionItemSlot",f="data-radix-collection-item",u=H.forwardRef((h,m)=>{const{scope:v,children:g,...p}=h,x=H.useRef(null),y=mn(m,x),b=o(c,v);return H.useEffect(()=>(b.itemMap.set(x,{ref:x,...p}),()=>void b.itemMap.delete(x))),E.jsx(Kd,{[f]:"",ref:y,children:g})});u.displayName=c;function d(h){const m=o(t+"CollectionConsumer",h);return H.useCallback(()=>{const g=m.collectionRef.current;if(!g)return[];const p=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(m.itemMap.values()).sort((b,S)=>p.indexOf(b.ref.current)-p.indexOf(S.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:l,ItemSlot:u},d,r]}function EU(t,e=[]){let n=[];function r(o,a){const s=C.createContext(a),l=n.length;n=[...n,a];const c=u=>{var p;const{scope:d,children:h,...m}=u,v=((p=d==null?void 0:d[t])==null?void 0:p[l])||s,g=C.useMemo(()=>m,Object.values(m));return E.jsx(v.Provider,{value:g,children:h})};c.displayName=o+"Provider";function f(u,d){var v;const h=((v=d==null?void 0:d[t])==null?void 0:v[l])||s,m=C.useContext(h);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${o}\``)}return[c,f]}const i=()=>{const o=n.map(a=>C.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return C.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,J0e(i,...e)]}function J0e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const u=l(o)[`__scope${c}`];return{...s,...u}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Q0e=C.createContext(void 0);function MU(t){const e=C.useContext(Q0e);return t||e||"ltr"}var exe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],sn=exe.reduce((t,e)=>{const n=C.forwardRef((r,i)=>{const{asChild:o,...a}=r,s=o?Kd:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(s,{...a,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function txe(t,e){t&&tl.flushSync(()=>t.dispatchEvent(e))}function Wo(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function nxe(t,e=globalThis==null?void 0:globalThis.document){const n=Wo(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var rxe="DismissableLayer",$S="dismissableLayer.update",ixe="dismissableLayer.pointerDownOutside",oxe="dismissableLayer.focusOutside",zR,AU=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),TU=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=t,c=C.useContext(AU),[f,u]=C.useState(null),d=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=C.useState({}),m=mn(e,w=>u(w)),v=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),p=v.indexOf(g),x=f?v.indexOf(f):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,b=x>=p,S=lxe(w=>{const T=w.target,M=[...c.branches].some(A=>A.contains(T));!b||M||(i==null||i(w),a==null||a(w),w.defaultPrevented||s==null||s())},d),_=cxe(w=>{const T=w.target;[...c.branches].some(A=>A.contains(T))||(o==null||o(w),a==null||a(w),w.defaultPrevented||s==null||s())},d);return nxe(w=>{x===c.layers.size-1&&(r==null||r(w),!w.defaultPrevented&&s&&(w.preventDefault(),s()))},d),C.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(zR=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),HR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=zR)}},[f,d,n,c]),C.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),HR())},[f,c]),C.useEffect(()=>{const w=()=>h({});return document.addEventListener($S,w),()=>document.removeEventListener($S,w)},[]),E.jsx(sn.div,{...l,ref:m,style:{pointerEvents:y?b?"auto":"none":void 0,...t.style},onFocusCapture:Xt(t.onFocusCapture,_.onFocusCapture),onBlurCapture:Xt(t.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Xt(t.onPointerDownCapture,S.onPointerDownCapture)})});TU.displayName=rxe;var axe="DismissableLayerBranch",sxe=C.forwardRef((t,e)=>{const n=C.useContext(AU),r=C.useRef(null),i=mn(e,r);return C.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),E.jsx(sn.div,{...t,ref:i})});sxe.displayName=axe;function lxe(t,e=globalThis==null?void 0:globalThis.document){const n=Wo(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){PU(ixe,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function cxe(t,e=globalThis==null?void 0:globalThis.document){const n=Wo(t),r=C.useRef(!1);return C.useEffect(()=>{const i=o=>{o.target&&!r.current&&PU(oxe,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function HR(){const t=new CustomEvent($S);document.dispatchEvent(t)}function PU(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?txe(i,o):i.dispatchEvent(o)}var ux=0;function uxe(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??VR()),document.body.insertAdjacentElement("beforeend",t[1]??VR()),ux++,()=>{ux===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ux--}},[])}function VR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fx="focusScope.autoFocusOnMount",dx="focusScope.autoFocusOnUnmount",GR={bubbles:!1,cancelable:!0},fxe="FocusScope",CU=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=t,[s,l]=C.useState(null),c=Wo(i),f=Wo(o),u=C.useRef(null),d=mn(e,v=>l(v)),h=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let v=function(y){if(h.paused||!s)return;const b=y.target;s.contains(b)?u.current=b:da(u.current,{select:!0})},g=function(y){if(h.paused||!s)return;const b=y.relatedTarget;b!==null&&(s.contains(b)||da(u.current,{select:!0}))},p=function(y){if(document.activeElement===document.body)for(const S of y)S.removedNodes.length>0&&da(s)};document.addEventListener("focusin",v),document.addEventListener("focusout",g);const x=new MutationObserver(p);return s&&x.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",g),x.disconnect()}}},[r,s,h.paused]),C.useEffect(()=>{if(s){XR.add(h);const v=document.activeElement;if(!s.contains(v)){const p=new CustomEvent(fx,GR);s.addEventListener(fx,c),s.dispatchEvent(p),p.defaultPrevented||(dxe(gxe(OU(s)),{select:!0}),document.activeElement===v&&da(s))}return()=>{s.removeEventListener(fx,c),setTimeout(()=>{const p=new CustomEvent(dx,GR);s.addEventListener(dx,f),s.dispatchEvent(p),p.defaultPrevented||da(v??document.body,{select:!0}),s.removeEventListener(dx,f),XR.remove(h)},0)}}},[s,c,f,h]);const m=C.useCallback(v=>{if(!n&&!r||h.paused)return;const g=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,p=document.activeElement;if(g&&p){const x=v.currentTarget,[y,b]=hxe(x);y&&b?!v.shiftKey&&p===b?(v.preventDefault(),n&&da(y,{select:!0})):v.shiftKey&&p===y&&(v.preventDefault(),n&&da(b,{select:!0})):p===x&&v.preventDefault()}},[n,r,h.paused]);return E.jsx(sn.div,{tabIndex:-1,...a,ref:d,onKeyDown:m})});CU.displayName=fxe;function dxe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(da(r,{select:e}),document.activeElement!==n)return}function hxe(t){const e=OU(t),n=WR(e,t),r=WR(e.reverse(),t);return[n,r]}function OU(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function WR(t,e){for(const n of t)if(!pxe(n,{upTo:e}))return n}function pxe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function mxe(t){return t instanceof HTMLInputElement&&"select"in t}function da(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&mxe(t)&&e&&t.select()}}var XR=vxe();function vxe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=qR(t,e),t.unshift(e)},remove(e){var n;t=qR(t,e),(n=t[0])==null||n.resume()}}}function qR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function gxe(t){return t.filter(e=>e.tagName!=="A")}var Hr=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},yxe=_2.useId||(()=>{}),xxe=0;function AE(t){const[e,n]=C.useState(yxe());return Hr(()=>{n(r=>r??String(xxe++))},[t]),e?`radix-${e}`:""}const bxe=["top","right","bottom","left"],$a=Math.min,Lr=Math.max,Xv=Math.round,jp=Math.floor,ro=t=>({x:t,y:t}),_xe={left:"right",right:"left",bottom:"top",top:"bottom"},Sxe={start:"end",end:"start"};function zS(t,e,n){return Lr(t,$a(e,n))}function Xo(t,e){return typeof t=="function"?t(e):t}function qo(t){return t.split("-")[0]}function Pu(t){return t.split("-")[1]}function TE(t){return t==="x"?"y":"x"}function PE(t){return t==="y"?"height":"width"}function za(t){return["top","bottom"].includes(qo(t))?"y":"x"}function CE(t){return TE(za(t))}function wxe(t,e,n){n===void 0&&(n=!1);const r=Pu(t),i=CE(t),o=PE(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=qv(a)),[a,qv(a)]}function Exe(t){const e=qv(t);return[HS(t),e,HS(e)]}function HS(t){return t.replace(/start|end/g,e=>Sxe[e])}function Mxe(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:a;default:return[]}}function Axe(t,e,n,r){const i=Pu(t);let o=Mxe(qo(t),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(HS)))),o}function qv(t){return t.replace(/left|right|bottom|top/g,e=>_xe[e])}function Txe(t){return{top:0,right:0,bottom:0,left:0,...t}}function RU(t){return typeof t!="number"?Txe(t):{top:t,right:t,bottom:t,left:t}}function Yv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function YR(t,e,n){let{reference:r,floating:i}=t;const o=za(e),a=CE(e),s=PE(a),l=qo(e),c=o==="y",f=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let h;switch(l){case"top":h={x:f,y:r.y-i.height};break;case"bottom":h={x:f,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-i.width,y:u};break;default:h={x:r.x,y:r.y}}switch(Pu(e)){case"start":h[a]-=d*(n&&c?-1:1);break;case"end":h[a]+=d*(n&&c?-1:1);break}return h}const Pxe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:u}=YR(c,r,l),d=r,h={},m=0;for(let v=0;v<s.length;v++){const{name:g,fn:p}=s[v],{x,y,data:b,reset:S}=await p({x:f,y:u,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:c,platform:a,elements:{reference:t,floating:e}});f=x??f,u=y??u,h={...h,[g]:{...h[g],...b}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(c=S.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:f,y:u}=YR(c,d,l)),v=-1)}return{x:f,y:u,placement:d,strategy:i,middlewareData:h}};async function Zd(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:u="floating",altBoundary:d=!1,padding:h=0}=Xo(e,t),m=RU(h),g=s[d?u==="floating"?"reference":"floating":u],p=Yv(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:f,strategy:l})),x=u==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),b=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},S=Yv(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:y,strategy:l}):x);return{top:(p.top-S.top+m.top)/b.y,bottom:(S.bottom-p.bottom+m.bottom)/b.y,left:(p.left-S.left+m.left)/b.x,right:(S.right-p.right+m.right)/b.x}}const Cxe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=e,{element:c,padding:f=0}=Xo(t,e)||{};if(c==null)return{};const u=RU(f),d={x:n,y:r},h=CE(i),m=PE(h),v=await a.getDimensions(c),g=h==="y",p=g?"top":"left",x=g?"bottom":"right",y=g?"clientHeight":"clientWidth",b=o.reference[m]+o.reference[h]-d[h]-o.floating[m],S=d[h]-o.reference[h],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let w=_?_[y]:0;(!w||!await(a.isElement==null?void 0:a.isElement(_)))&&(w=s.floating[y]||o.floating[m]);const T=b/2-S/2,M=w/2-v[m]/2-1,A=$a(u[p],M),P=$a(u[x],M),O=A,L=w-v[m]-P,I=w/2-v[m]/2+T,j=zS(O,I,L),F=!l.arrow&&Pu(i)!=null&&I!==j&&o.reference[m]/2-(I<O?A:P)-v[m]/2<0,B=F?I<O?I-O:I-L:0;return{[h]:d[h]+B,data:{[h]:j,centerOffset:I-j-B,...F&&{alignmentOffset:B}},reset:F}}}),Oxe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...g}=Xo(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const p=qo(i),x=za(s),y=qo(s)===s,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=d||(y||!v?[qv(s)]:Exe(s)),_=m!=="none";!d&&_&&S.push(...Axe(s,v,m,b));const w=[s,...S],T=await Zd(e,g),M=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&M.push(T[p]),u){const I=wxe(i,a,b);M.push(T[I[0]],T[I[1]])}if(A=[...A,{placement:i,overflows:M}],!M.every(I=>I<=0)){var P,O;const I=(((P=o.flip)==null?void 0:P.index)||0)+1,j=w[I];if(j)return{data:{index:I,overflows:A},reset:{placement:j}};let F=(O=A.filter(B=>B.overflows[0]<=0).sort((B,D)=>B.overflows[1]-D.overflows[1])[0])==null?void 0:O.placement;if(!F)switch(h){case"bestFit":{var L;const B=(L=A.filter(D=>{if(_){const z=za(D.placement);return z===x||z==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(z=>z>0).reduce((z,W)=>z+W,0)]).sort((D,z)=>D[1]-z[1])[0])==null?void 0:L[0];B&&(F=B);break}case"initialPlacement":F=s;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function KR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ZR(t){return bxe.some(e=>t[e]>=0)}const Rxe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Xo(t,e);switch(r){case"referenceHidden":{const o=await Zd(e,{...i,elementContext:"reference"}),a=KR(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:ZR(a)}}}case"escaped":{const o=await Zd(e,{...i,altBoundary:!0}),a=KR(o,n.floating);return{data:{escapedOffsets:a,escaped:ZR(a)}}}default:return{}}}}};async function Nxe(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=qo(n),s=Pu(n),l=za(n)==="y",c=["left","top"].includes(a)?-1:1,f=o&&l?-1:1,u=Xo(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return s&&typeof m=="number"&&(h=s==="end"?m*-1:m),l?{x:h*f,y:d*c}:{x:d*c,y:h*f}}const Dxe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await Nxe(e,t);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},Lxe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:g=>{let{x:p,y:x}=g;return{x:p,y:x}}},...l}=Xo(t,e),c={x:n,y:r},f=await Zd(e,l),u=za(qo(i)),d=TE(u);let h=c[d],m=c[u];if(o){const g=d==="y"?"top":"left",p=d==="y"?"bottom":"right",x=h+f[g],y=h-f[p];h=zS(x,h,y)}if(a){const g=u==="y"?"top":"left",p=u==="y"?"bottom":"right",x=m+f[g],y=m-f[p];m=zS(x,m,y)}const v=s.fn({...e,[d]:h,[u]:m});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[d]:o,[u]:a}}}}}},Ixe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Xo(t,e),f={x:n,y:r},u=za(i),d=TE(u);let h=f[d],m=f[u];const v=Xo(s,e),g=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const y=d==="y"?"height":"width",b=o.reference[d]-o.floating[y]+g.mainAxis,S=o.reference[d]+o.reference[y]-g.mainAxis;h<b?h=b:h>S&&(h=S)}if(c){var p,x;const y=d==="y"?"width":"height",b=["top","left"].includes(qo(i)),S=o.reference[u]-o.floating[y]+(b&&((p=a.offset)==null?void 0:p[u])||0)+(b?0:g.crossAxis),_=o.reference[u]+o.reference[y]+(b?0:((x=a.offset)==null?void 0:x[u])||0)-(b?g.crossAxis:0);m<S?m=S:m>_&&(m=_)}return{[d]:h,[u]:m}}}},kxe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:l=()=>{},...c}=Xo(t,e),f=await Zd(e,c),u=qo(i),d=Pu(i),h=za(i)==="y",{width:m,height:v}=o.floating;let g,p;u==="top"||u==="bottom"?(g=u,p=d===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(p=u,g=d==="end"?"top":"bottom");const x=v-f.top-f.bottom,y=m-f.left-f.right,b=$a(v-f[g],x),S=$a(m-f[p],y),_=!e.middlewareData.shift;let w=b,T=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=y),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(w=x),_&&!d){const A=Lr(f.left,0),P=Lr(f.right,0),O=Lr(f.top,0),L=Lr(f.bottom,0);h?T=m-2*(A!==0||P!==0?A+P:Lr(f.left,f.right)):w=v-2*(O!==0||L!==0?O+L:Lr(f.top,f.bottom))}await l({...e,availableWidth:T,availableHeight:w});const M=await a.getDimensions(s.floating);return m!==M.width||v!==M.height?{reset:{rects:!0}}:{}}}};function xy(){return typeof window<"u"}function Cu(t){return NU(t)?(t.nodeName||"").toLowerCase():"#document"}function $r(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function uo(t){var e;return(e=(NU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NU(t){return xy()?t instanceof Node||t instanceof $r(t).Node:!1}function Bi(t){return xy()?t instanceof Element||t instanceof $r(t).Element:!1}function ao(t){return xy()?t instanceof HTMLElement||t instanceof $r(t).HTMLElement:!1}function JR(t){return!xy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $r(t).ShadowRoot}function wh(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=$i(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Uxe(t){return["table","td","th"].includes(Cu(t))}function by(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function OE(t){const e=RE(),n=Bi(t)?$i(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Fxe(t){let e=Ha(t);for(;ao(e)&&!au(e);){if(OE(e))return e;if(by(e))return null;e=Ha(e)}return null}function RE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function au(t){return["html","body","#document"].includes(Cu(t))}function $i(t){return $r(t).getComputedStyle(t)}function _y(t){return Bi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ha(t){if(Cu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||JR(t)&&t.host||uo(t);return JR(e)?e.host:e}function DU(t){const e=Ha(t);return au(e)?t.ownerDocument?t.ownerDocument.body:t.body:ao(e)&&wh(e)?e:DU(e)}function Jd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=DU(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=$r(i);if(o){const s=VS(a);return e.concat(a,a.visualViewport||[],wh(i)?i:[],s&&n?Jd(s):[])}return e.concat(i,Jd(i,[],n))}function VS(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function LU(t){const e=$i(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ao(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,s=Xv(n)!==o||Xv(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function NE(t){return Bi(t)?t:t.contextElement}function yc(t){const e=NE(t);if(!ao(e))return ro(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=LU(e);let a=(o?Xv(n.width):n.width)/r,s=(o?Xv(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const jxe=ro(0);function IU(t){const e=$r(t);return!RE()||!e.visualViewport?jxe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Bxe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==$r(t)?!1:e}function Zs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=NE(t);let a=ro(1);e&&(r?Bi(r)&&(a=yc(r)):a=yc(t));const s=Bxe(o,n,r)?IU(o):ro(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,f=i.width/a.x,u=i.height/a.y;if(o){const d=$r(o),h=r&&Bi(r)?$r(r):r;let m=d,v=VS(m);for(;v&&r&&h!==m;){const g=yc(v),p=v.getBoundingClientRect(),x=$i(v),y=p.left+(v.clientLeft+parseFloat(x.paddingLeft))*g.x,b=p.top+(v.clientTop+parseFloat(x.paddingTop))*g.y;l*=g.x,c*=g.y,f*=g.x,u*=g.y,l+=y,c+=b,m=$r(v),v=VS(m)}}return Yv({width:f,height:u,x:l,y:c})}function DE(t,e){const n=_y(t).scrollLeft;return e?e.left+n:Zs(uo(t)).left+n}function kU(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:DE(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function $xe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=uo(r),s=e?by(e.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=ro(1);const f=ro(0),u=ao(r);if((u||!u&&!o)&&((Cu(r)!=="body"||wh(a))&&(l=_y(r)),ao(r))){const h=Zs(r);c=yc(r),f.x=h.x+r.clientLeft,f.y=h.y+r.clientTop}const d=a&&!u&&!o?kU(a,l,!0):ro(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+f.x+d.x,y:n.y*c.y-l.scrollTop*c.y+f.y+d.y}}function zxe(t){return Array.from(t.getClientRects())}function Hxe(t){const e=uo(t),n=_y(t),r=t.ownerDocument.body,i=Lr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Lr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+DE(t);const s=-n.scrollTop;return $i(r).direction==="rtl"&&(a+=Lr(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function Vxe(t,e){const n=$r(t),r=uo(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const c=RE();(!c||c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function Gxe(t,e){const n=Zs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=ao(t)?yc(t):ro(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function QR(t,e,n){let r;if(e==="viewport")r=Vxe(t,n);else if(e==="document")r=Hxe(uo(t));else if(Bi(e))r=Gxe(e,n);else{const i=IU(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Yv(r)}function UU(t,e){const n=Ha(t);return n===e||!Bi(n)||au(n)?!1:$i(n).position==="fixed"||UU(n,e)}function Wxe(t,e){const n=e.get(t);if(n)return n;let r=Jd(t,[],!1).filter(s=>Bi(s)&&Cu(s)!=="body"),i=null;const o=$i(t).position==="fixed";let a=o?Ha(t):t;for(;Bi(a)&&!au(a);){const s=$i(a),l=OE(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||wh(a)&&!l&&UU(t,a))?r=r.filter(f=>f!==a):i=s,a=Ha(a)}return e.set(t,r),r}function Xxe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?by(e)?[]:Wxe(e,this._c):[].concat(n),r],s=a[0],l=a.reduce((c,f)=>{const u=QR(e,f,i);return c.top=Lr(u.top,c.top),c.right=$a(u.right,c.right),c.bottom=$a(u.bottom,c.bottom),c.left=Lr(u.left,c.left),c},QR(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function qxe(t){const{width:e,height:n}=LU(t);return{width:e,height:n}}function Yxe(t,e,n){const r=ao(e),i=uo(e),o=n==="fixed",a=Zs(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=ro(0);if(r||!r&&!o)if((Cu(e)!=="body"||wh(i))&&(s=_y(e)),r){const d=Zs(e,!0,o,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=DE(i));const c=i&&!r&&!o?kU(i,s):ro(0),f=a.left+s.scrollLeft-l.x-c.x,u=a.top+s.scrollTop-l.y-c.y;return{x:f,y:u,width:a.width,height:a.height}}function hx(t){return $i(t).position==="static"}function e2(t,e){if(!ao(t)||$i(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return uo(t)===n&&(n=n.ownerDocument.body),n}function FU(t,e){const n=$r(t);if(by(t))return n;if(!ao(t)){let i=Ha(t);for(;i&&!au(i);){if(Bi(i)&&!hx(i))return i;i=Ha(i)}return n}let r=e2(t,e);for(;r&&Uxe(r)&&hx(r);)r=e2(r,e);return r&&au(r)&&hx(r)&&!OE(r)?n:r||Fxe(t)||n}const Kxe=async function(t){const e=this.getOffsetParent||FU,n=this.getDimensions,r=await n(t.floating);return{reference:Yxe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Zxe(t){return $i(t).direction==="rtl"}const Jxe={convertOffsetParentRelativeRectToViewportRelativeRect:$xe,getDocumentElement:uo,getClippingRect:Xxe,getOffsetParent:FU,getElementRects:Kxe,getClientRects:zxe,getDimensions:qxe,getScale:yc,isElement:Bi,isRTL:Zxe};function Qxe(t,e){let n=null,r;const i=uo(t);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const{left:c,top:f,width:u,height:d}=t.getBoundingClientRect();if(s||e(),!u||!d)return;const h=jp(f),m=jp(i.clientWidth-(c+u)),v=jp(i.clientHeight-(f+d)),g=jp(c),x={rootMargin:-h+"px "+-m+"px "+-v+"px "+-g+"px",threshold:Lr(0,$a(1,l))||1};let y=!0;function b(S){const _=S[0].intersectionRatio;if(_!==l){if(!y)return a();_?a(!1,_):r=setTimeout(()=>{a(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(b,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,x)}n.observe(t)}return a(!0),o}function ebe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=NE(t),f=i||o?[...c?Jd(c):[],...Jd(e)]:[];f.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),o&&p.addEventListener("resize",n)});const u=c&&s?Qxe(c,n):null;let d=-1,h=null;a&&(h=new ResizeObserver(p=>{let[x]=p;x&&x.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let m,v=l?Zs(t):null;l&&g();function g(){const p=Zs(t);v&&(p.x!==v.x||p.y!==v.y||p.width!==v.width||p.height!==v.height)&&n(),v=p,m=requestAnimationFrame(g)}return n(),()=>{var p;f.forEach(x=>{i&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),u==null||u(),(p=h)==null||p.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const tbe=Dxe,nbe=Lxe,rbe=Oxe,ibe=kxe,obe=Rxe,t2=Cxe,abe=Ixe,sbe=(t,e,n)=>{const r=new Map,i={platform:Jxe,...n},o={...i.platform,_c:r};return Pxe(t,e,{...i,platform:o})};var um=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Kv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Kv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Kv(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function jU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function n2(t,e){const n=jU(t);return Math.round(e*n)/n}function px(t){const e=C.useRef(t);return um(()=>{e.current=t}),e}function lbe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[f,u]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,h]=C.useState(r);Kv(d,r)||h(r);const[m,v]=C.useState(null),[g,p]=C.useState(null),x=C.useCallback(D=>{D!==_.current&&(_.current=D,v(D))},[]),y=C.useCallback(D=>{D!==w.current&&(w.current=D,p(D))},[]),b=o||m,S=a||g,_=C.useRef(null),w=C.useRef(null),T=C.useRef(f),M=l!=null,A=px(l),P=px(i),O=px(c),L=C.useCallback(()=>{if(!_.current||!w.current)return;const D={placement:e,strategy:n,middleware:d};P.current&&(D.platform=P.current),sbe(_.current,w.current,D).then(z=>{const W={...z,isPositioned:O.current!==!1};I.current&&!Kv(T.current,W)&&(T.current=W,tl.flushSync(()=>{u(W)}))})},[d,e,n,P,O]);um(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,u(D=>({...D,isPositioned:!1})))},[c]);const I=C.useRef(!1);um(()=>(I.current=!0,()=>{I.current=!1}),[]),um(()=>{if(b&&(_.current=b),S&&(w.current=S),b&&S){if(A.current)return A.current(b,S,L);L()}},[b,S,L,A,M]);const j=C.useMemo(()=>({reference:_,floating:w,setReference:x,setFloating:y}),[x,y]),F=C.useMemo(()=>({reference:b,floating:S}),[b,S]),B=C.useMemo(()=>{const D={position:n,left:0,top:0};if(!F.floating)return D;const z=n2(F.floating,f.x),W=n2(F.floating,f.y);return s?{...D,transform:"translate("+z+"px, "+W+"px)",...jU(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:W}},[n,s,F.floating,f.x,f.y]);return C.useMemo(()=>({...f,update:L,refs:j,elements:F,floatingStyles:B}),[f,L,j,F,B])}const cbe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?t2({element:r.current,padding:i}).fn(n):{}:r?t2({element:r,padding:i}).fn(n):{}}}},ube=(t,e)=>({...tbe(t),options:[t,e]}),fbe=(t,e)=>({...nbe(t),options:[t,e]}),dbe=(t,e)=>({...abe(t),options:[t,e]}),hbe=(t,e)=>({...rbe(t),options:[t,e]}),pbe=(t,e)=>({...ibe(t),options:[t,e]}),mbe=(t,e)=>({...obe(t),options:[t,e]}),vbe=(t,e)=>({...cbe(t),options:[t,e]});var gbe="Arrow",BU=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return E.jsx(sn.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});BU.displayName=gbe;var ybe=BU;function xbe(t,e=[]){let n=[];function r(o,a){const s=C.createContext(a),l=n.length;n=[...n,a];function c(u){const{scope:d,children:h,...m}=u,v=(d==null?void 0:d[t][l])||s,g=C.useMemo(()=>m,Object.values(m));return E.jsx(v.Provider,{value:g,children:h})}function f(u,d){const h=(d==null?void 0:d[t][l])||s,m=C.useContext(h);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,f]}const i=()=>{const o=n.map(a=>C.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return C.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,bbe(i,...e)]}function bbe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const u=l(o)[`__scope${c}`];return{...s,...u}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function $U(t){const[e,n]=C.useState(void 0);return Hr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=t.offsetWidth,s=t.offsetHeight;n({width:a,height:s})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var LE="Popper",[zU,HU]=xbe(LE),[_be,VU]=zU(LE),GU=t=>{const{__scopePopper:e,children:n}=t,[r,i]=C.useState(null);return E.jsx(_be,{scope:e,anchor:r,onAnchorChange:i,children:n})};GU.displayName=LE;var WU="PopperAnchor",XU=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=VU(WU,n),a=C.useRef(null),s=mn(e,a);return C.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:E.jsx(sn.div,{...i,ref:s})});XU.displayName=WU;var IE="PopperContent",[Sbe,wbe]=zU(IE),qU=C.forwardRef((t,e)=>{var ne,_e,Q,ae,le,$;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:u="partial",hideWhenDetached:d=!1,updatePositionStrategy:h="optimized",onPlaced:m,...v}=t,g=VU(IE,n),[p,x]=C.useState(null),y=mn(e,se=>x(se)),[b,S]=C.useState(null),_=$U(b),w=(_==null?void 0:_.width)??0,T=(_==null?void 0:_.height)??0,M=r+(o!=="center"?"-"+o:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},P=Array.isArray(c)?c:[c],O=P.length>0,L={padding:A,boundary:P.filter(Mbe),altBoundary:O},{refs:I,floatingStyles:j,placement:F,isPositioned:B,middlewareData:D}=lbe({strategy:"fixed",placement:M,whileElementsMounted:(...se)=>ebe(...se,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[ube({mainAxis:i+T,alignmentAxis:a}),l&&fbe({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?dbe():void 0,...L}),l&&hbe({...L}),pbe({...L,apply:({elements:se,rects:k,availableWidth:ve,availableHeight:fe})=>{const{width:we,height:Ee}=k.reference,Ye=se.floating.style;Ye.setProperty("--radix-popper-available-width",`${ve}px`),Ye.setProperty("--radix-popper-available-height",`${fe}px`),Ye.setProperty("--radix-popper-anchor-width",`${we}px`),Ye.setProperty("--radix-popper-anchor-height",`${Ee}px`)}}),b&&vbe({element:b,padding:s}),Abe({arrowWidth:w,arrowHeight:T}),d&&mbe({strategy:"referenceHidden",...L})]}),[z,W]=ZU(F),J=Wo(m);Hr(()=>{B&&(J==null||J())},[B,J]);const ie=(ne=D.arrow)==null?void 0:ne.x,xe=(_e=D.arrow)==null?void 0:_e.y,Z=((Q=D.arrow)==null?void 0:Q.centerOffset)!==0,[ue,be]=C.useState();return Hr(()=>{p&&be(window.getComputedStyle(p).zIndex)},[p]),E.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...j,transform:B?j.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(ae=D.transformOrigin)==null?void 0:ae.x,(le=D.transformOrigin)==null?void 0:le.y].join(" "),...(($=D.hide)==null?void 0:$.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(Sbe,{scope:n,placedSide:z,onArrowChange:S,arrowX:ie,arrowY:xe,shouldHideArrow:Z,children:E.jsx(sn.div,{"data-side":z,"data-align":W,...v,ref:y,style:{...v.style,animation:B?void 0:"none"}})})})});qU.displayName=IE;var YU="PopperArrow",Ebe={top:"bottom",right:"left",bottom:"top",left:"right"},KU=C.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=wbe(YU,r),a=Ebe[o.placedSide];return E.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:E.jsx(ybe,{...i,ref:n,style:{...i.style,display:"block"}})})});KU.displayName=YU;function Mbe(t){return t!==null}var Abe=t=>({name:"transformOrigin",options:t,fn(e){var g,p,x;const{placement:n,rects:r,middlewareData:i}=e,a=((g=i.arrow)==null?void 0:g.centerOffset)!==0,s=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,f]=ZU(n),u={start:"0%",center:"50%",end:"100%"}[f],d=(((p=i.arrow)==null?void 0:p.x)??0)+s/2,h=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let m="",v="";return c==="bottom"?(m=a?u:`${d}px`,v=`${-l}px`):c==="top"?(m=a?u:`${d}px`,v=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,v=a?u:`${h}px`):c==="left"&&(m=`${r.floating.width+l}px`,v=a?u:`${h}px`),{data:{x:m,y:v}}}});function ZU(t){const[e,n="center"]=t.split("-");return[e,n]}var Tbe=GU,Pbe=XU,Cbe=qU,Obe=KU,Rbe="Portal",JU=C.forwardRef((t,e)=>{var s;const{container:n,...r}=t,[i,o]=C.useState(!1);Hr(()=>o(!0),[]);const a=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return a?ED.createPortal(E.jsx(sn.div,{...r,ref:e}),a):null});JU.displayName=Rbe;function GS({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Nbe({defaultProp:e,onChange:n}),o=t!==void 0,a=o?t:r,s=Wo(n),l=C.useCallback(c=>{if(o){const u=typeof c=="function"?c(t):c;u!==t&&s(u)}else i(c)},[o,t,i,s]);return[a,l]}function Nbe({defaultProp:t,onChange:e}){const n=C.useState(t),[r]=n,i=C.useRef(r),o=Wo(e);return C.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function QU(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Dbe="VisuallyHidden",eF=C.forwardRef((t,e)=>E.jsx(sn.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));eF.displayName=Dbe;var Lbe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Nl=new WeakMap,Bp=new WeakMap,$p={},mx=0,tF=function(t){return t&&(t.host||tF(t.parentNode))},Ibe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=tF(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},kbe=function(t,e,n,r){var i=Ibe(e,Array.isArray(t)?t:[t]);$p[n]||($p[n]=new WeakMap);var o=$p[n],a=[],s=new Set,l=new Set(i),c=function(u){!u||s.has(u)||(s.add(u),c(u.parentNode))};i.forEach(c);var f=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(d){if(s.has(d))f(d);else try{var h=d.getAttribute(r),m=h!==null&&h!=="false",v=(Nl.get(d)||0)+1,g=(o.get(d)||0)+1;Nl.set(d,v),o.set(d,g),a.push(d),v===1&&m&&Bp.set(d,!0),g===1&&d.setAttribute(n,"true"),m||d.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",d,p)}})};return f(e),s.clear(),mx++,function(){a.forEach(function(u){var d=Nl.get(u)-1,h=o.get(u)-1;Nl.set(u,d),o.set(u,h),d||(Bp.has(u)||u.removeAttribute(r),Bp.delete(u)),h||u.removeAttribute(n)}),mx--,mx||(Nl=new WeakMap,Nl=new WeakMap,Bp=new WeakMap,$p={})}},Ube=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Lbe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),kbe(r,i,n,"aria-hidden")):function(){return null}},Yi=function(){return Yi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Yi.apply(this,arguments)};function nF(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Fbe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var fm="right-scroll-bar-position",dm="width-before-scroll-bar",jbe="with-scroll-bars-hidden",Bbe="--removed-body-scroll-bar-size";function vx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $be(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var zbe=typeof window<"u"?C.useLayoutEffect:C.useEffect,r2=new WeakMap;function Hbe(t,e){var n=$be(null,function(r){return t.forEach(function(i){return vx(i,r)})});return zbe(function(){var r=r2.get(n);if(r){var i=new Set(r),o=new Set(t),a=n.current;i.forEach(function(s){o.has(s)||vx(s,null)}),o.forEach(function(s){i.has(s)||vx(s,a)})}r2.set(n,t)},[t]),n}function Vbe(t){return t}function Gbe(t,e){e===void 0&&(e=Vbe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var f=a;a=[],f.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(f){a.push(f),c()},filter:function(f){return a=a.filter(f),n}}}};return i}function Wbe(t){t===void 0&&(t={});var e=Gbe(null);return e.options=Yi({async:!0,ssr:!1},t),e}var rF=function(t){var e=t.sideCar,n=nF(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,Yi({},n))};rF.isSideCarExport=!0;function Xbe(t,e){return t.useMedium(e),rF}var iF=Wbe(),gx=function(){},Sy=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:gx,onWheelCapture:gx,onTouchMoveCapture:gx}),i=r[0],o=r[1],a=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,f=t.enabled,u=t.shards,d=t.sideCar,h=t.noIsolation,m=t.inert,v=t.allowPinchZoom,g=t.as,p=g===void 0?"div":g,x=t.gapMode,y=nF(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=d,S=Hbe([n,e]),_=Yi(Yi({},y),i);return C.createElement(C.Fragment,null,f&&C.createElement(b,{sideCar:iF,removeScrollBar:c,shards:u,noIsolation:h,inert:m,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:x}),a?C.cloneElement(C.Children.only(s),Yi(Yi({},_),{ref:S})):C.createElement(p,Yi({},_,{className:l,ref:S}),s))});Sy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sy.classNames={fullWidth:dm,zeroRight:fm};var qbe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ybe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=qbe();return e&&t.setAttribute("nonce",e),t}function Kbe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Zbe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Jbe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Ybe())&&(Kbe(e,n),Zbe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Qbe=function(){var t=Jbe();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},oF=function(){var t=Qbe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},e_e={left:0,top:0,right:0,gap:0},yx=function(t){return parseInt(t||"",10)||0},t_e=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[yx(n),yx(r),yx(i)]},n_e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return e_e;var e=t_e(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},r_e=oF(),xc="data-scroll-locked",i_e=function(t,e,n,r){var i=t.left,o=t.top,a=t.right,s=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(jbe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(xc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fm,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(dm,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(fm," .").concat(fm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(dm," .").concat(dm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xc,`] {
    `).concat(Bbe,": ").concat(s,`px;
  }
`)},i2=function(){var t=parseInt(document.body.getAttribute(xc)||"0",10);return isFinite(t)?t:0},o_e=function(){C.useEffect(function(){return document.body.setAttribute(xc,(i2()+1).toString()),function(){var t=i2()-1;t<=0?document.body.removeAttribute(xc):document.body.setAttribute(xc,t.toString())}},[])},a_e=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;o_e();var o=C.useMemo(function(){return n_e(i)},[i]);return C.createElement(r_e,{styles:i_e(o,!e,i,n?"":"!important")})},WS=!1;if(typeof window<"u")try{var zp=Object.defineProperty({},"passive",{get:function(){return WS=!0,!0}});window.addEventListener("test",zp,zp),window.removeEventListener("test",zp,zp)}catch{WS=!1}var Dl=WS?{passive:!1}:!1,s_e=function(t){return t.tagName==="TEXTAREA"},aF=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!s_e(t)&&n[e]==="visible")},l_e=function(t){return aF(t,"overflowY")},c_e=function(t){return aF(t,"overflowX")},o2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=sF(t,r);if(i){var o=lF(t,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},u_e=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},f_e=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},sF=function(t,e){return t==="v"?l_e(e):c_e(e)},lF=function(t,e){return t==="v"?u_e(e):f_e(e)},d_e=function(t,e){return t==="h"&&e==="rtl"?-1:1},h_e=function(t,e,n,r,i){var o=d_e(t,window.getComputedStyle(e).direction),a=o*r,s=n.target,l=e.contains(s),c=!1,f=a>0,u=0,d=0;do{var h=lF(t,s),m=h[0],v=h[1],g=h[2],p=v-g-o*m;(m||p)&&sF(t,s)&&(u+=p,d+=m),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(f&&(Math.abs(u)<1||!i)||!f&&(Math.abs(d)<1||!i))&&(c=!0),c},Hp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},a2=function(t){return[t.deltaX,t.deltaY]},s2=function(t){return t&&"current"in t?t.current:t},p_e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},m_e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},v_e=0,Ll=[];function g_e(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(v_e++)[0],o=C.useState(oF)[0],a=C.useRef(t);C.useEffect(function(){a.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=Fbe([t.lockRef.current],(t.shards||[]).map(s2),!0).filter(Boolean);return v.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=C.useCallback(function(v,g){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var p=Hp(v),x=n.current,y="deltaX"in v?v.deltaX:x[0]-p[0],b="deltaY"in v?v.deltaY:x[1]-p[1],S,_=v.target,w=Math.abs(y)>Math.abs(b)?"h":"v";if("touches"in v&&w==="h"&&_.type==="range")return!1;var T=o2(w,_);if(!T)return!0;if(T?S=w:(S=w==="v"?"h":"v",T=o2(w,_)),!T)return!1;if(!r.current&&"changedTouches"in v&&(y||b)&&(r.current=S),!S)return!0;var M=r.current||S;return h_e(M,g,v,M==="h"?y:b,!0)},[]),l=C.useCallback(function(v){var g=v;if(!(!Ll.length||Ll[Ll.length-1]!==o)){var p="deltaY"in g?a2(g):Hp(g),x=e.current.filter(function(S){return S.name===g.type&&(S.target===g.target||g.target===S.shadowParent)&&p_e(S.delta,p)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var y=(a.current.shards||[]).map(s2).filter(Boolean).filter(function(S){return S.contains(g.target)}),b=y.length>0?s(g,y[0]):!a.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),c=C.useCallback(function(v,g,p,x){var y={name:v,delta:g,target:p,should:x,shadowParent:y_e(p)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(b){return b!==y})},1)},[]),f=C.useCallback(function(v){n.current=Hp(v),r.current=void 0},[]),u=C.useCallback(function(v){c(v.type,a2(v),v.target,s(v,t.lockRef.current))},[]),d=C.useCallback(function(v){c(v.type,Hp(v),v.target,s(v,t.lockRef.current))},[]);C.useEffect(function(){return Ll.push(o),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:d}),document.addEventListener("wheel",l,Dl),document.addEventListener("touchmove",l,Dl),document.addEventListener("touchstart",f,Dl),function(){Ll=Ll.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,Dl),document.removeEventListener("touchmove",l,Dl),document.removeEventListener("touchstart",f,Dl)}},[]);var h=t.removeScrollBar,m=t.inert;return C.createElement(C.Fragment,null,m?C.createElement(o,{styles:m_e(i)}):null,h?C.createElement(a_e,{gapMode:t.gapMode}):null)}function y_e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const x_e=Xbe(iF,g_e);var cF=C.forwardRef(function(t,e){return C.createElement(Sy,Yi({},t,{ref:e,sideCar:x_e}))});cF.classNames=Sy.classNames;var b_e=[" ","Enter","ArrowUp","ArrowDown"],__e=[" ","Enter"],Eh="Select",[wy,Ey,S_e]=wU(Eh),[Ou,hwe]=EU(Eh,[S_e,HU]),My=HU(),[w_e,Qa]=Ou(Eh),[E_e,M_e]=Ou(Eh),uF=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:l,dir:c,name:f,autoComplete:u,disabled:d,required:h,form:m}=t,v=My(e),[g,p]=C.useState(null),[x,y]=C.useState(null),[b,S]=C.useState(!1),_=MU(c),[w=!1,T]=GS({prop:r,defaultProp:i,onChange:o}),[M,A]=GS({prop:a,defaultProp:s,onChange:l}),P=C.useRef(null),O=g?m||!!g.closest("form"):!0,[L,I]=C.useState(new Set),j=Array.from(L).map(F=>F.props.value).join(";");return E.jsx(Tbe,{...v,children:E.jsxs(w_e,{required:h,scope:e,trigger:g,onTriggerChange:p,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:b,onValueNodeHasChildrenChange:S,contentId:AE(),value:M,onValueChange:A,open:w,onOpenChange:T,dir:_,triggerPointerDownPosRef:P,disabled:d,children:[E.jsx(wy.Provider,{scope:e,children:E.jsx(E_e,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(F=>{I(B=>new Set(B).add(F))},[]),onNativeOptionRemove:C.useCallback(F=>{I(B=>{const D=new Set(B);return D.delete(F),D})},[]),children:n})}),O?E.jsxs(RF,{"aria-hidden":!0,required:h,tabIndex:-1,name:f,autoComplete:u,value:M,onChange:F=>A(F.target.value),disabled:d,form:m,children:[M===void 0?E.jsx("option",{value:""}):null,Array.from(L)]},j):null]})})};uF.displayName=Eh;var fF="SelectTrigger",dF=C.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=My(n),a=Qa(fF,n),s=a.disabled||r,l=mn(e,a.onTriggerChange),c=Ey(n),f=C.useRef("touch"),[u,d,h]=NF(v=>{const g=c().filter(y=>!y.disabled),p=g.find(y=>y.value===a.value),x=DF(g,v,p);x!==void 0&&a.onValueChange(x.value)}),m=v=>{s||(a.onOpenChange(!0),h()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return E.jsx(Pbe,{asChild:!0,...o,children:E.jsx(sn.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":OF(a.value)?"":void 0,...i,ref:l,onClick:Xt(i.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&m(v)}),onPointerDown:Xt(i.onPointerDown,v=>{f.current=v.pointerType;const g=v.target;g.hasPointerCapture(v.pointerId)&&g.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(m(v),v.preventDefault())}),onKeyDown:Xt(i.onKeyDown,v=>{const g=u.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&d(v.key),!(g&&v.key===" ")&&b_e.includes(v.key)&&(m(),v.preventDefault())})})})});dF.displayName=fF;var hF="SelectValue",pF=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...s}=t,l=Qa(hF,n),{onValueNodeHasChildrenChange:c}=l,f=o!==void 0,u=mn(e,l.onValueNodeChange);return Hr(()=>{c(f)},[c,f]),E.jsx(sn.span,{...s,ref:u,style:{pointerEvents:"none"},children:OF(l.value)?E.jsx(E.Fragment,{children:a}):o})});pF.displayName=hF;var A_e="SelectIcon",mF=C.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return E.jsx(sn.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});mF.displayName=A_e;var T_e="SelectPortal",vF=t=>E.jsx(JU,{asChild:!0,...t});vF.displayName=T_e;var Js="SelectContent",gF=C.forwardRef((t,e)=>{const n=Qa(Js,t.__scopeSelect),[r,i]=C.useState();if(Hr(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?tl.createPortal(E.jsx(yF,{scope:t.__scopeSelect,children:E.jsx(wy.Slot,{scope:t.__scopeSelect,children:E.jsx("div",{children:t.children})})}),o):null}return E.jsx(xF,{...t,ref:e})});gF.displayName=Js;var xi=10,[yF,es]=Ou(Js),P_e="SelectContentImpl",xF=C.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:l,align:c,alignOffset:f,arrowPadding:u,collisionBoundary:d,collisionPadding:h,sticky:m,hideWhenDetached:v,avoidCollisions:g,...p}=t,x=Qa(Js,n),[y,b]=C.useState(null),[S,_]=C.useState(null),w=mn(e,ne=>b(ne)),[T,M]=C.useState(null),[A,P]=C.useState(null),O=Ey(n),[L,I]=C.useState(!1),j=C.useRef(!1);C.useEffect(()=>{if(y)return Ube(y)},[y]),uxe();const F=C.useCallback(ne=>{const[_e,...Q]=O().map($=>$.ref.current),[ae]=Q.slice(-1),le=document.activeElement;for(const $ of ne)if($===le||($==null||$.scrollIntoView({block:"nearest"}),$===_e&&S&&(S.scrollTop=0),$===ae&&S&&(S.scrollTop=S.scrollHeight),$==null||$.focus(),document.activeElement!==le))return},[O,S]),B=C.useCallback(()=>F([T,y]),[F,T,y]);C.useEffect(()=>{L&&B()},[L,B]);const{onOpenChange:D,triggerPointerDownPosRef:z}=x;C.useEffect(()=>{if(y){let ne={x:0,y:0};const _e=ae=>{var le,$;ne={x:Math.abs(Math.round(ae.pageX)-(((le=z.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(ae.pageY)-((($=z.current)==null?void 0:$.y)??0))}},Q=ae=>{ne.x<=10&&ne.y<=10?ae.preventDefault():y.contains(ae.target)||D(!1),document.removeEventListener("pointermove",_e),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",Q,{capture:!0})}}},[y,D,z]),C.useEffect(()=>{const ne=()=>D(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[D]);const[W,J]=NF(ne=>{const _e=O().filter(le=>!le.disabled),Q=_e.find(le=>le.ref.current===document.activeElement),ae=DF(_e,ne,Q);ae&&setTimeout(()=>ae.ref.current.focus())}),ie=C.useCallback((ne,_e,Q)=>{const ae=!j.current&&!Q;(x.value!==void 0&&x.value===_e||ae)&&(M(ne),ae&&(j.current=!0))},[x.value]),xe=C.useCallback(()=>y==null?void 0:y.focus(),[y]),Z=C.useCallback((ne,_e,Q)=>{const ae=!j.current&&!Q;(x.value!==void 0&&x.value===_e||ae)&&P(ne)},[x.value]),ue=r==="popper"?XS:bF,be=ue===XS?{side:s,sideOffset:l,align:c,alignOffset:f,arrowPadding:u,collisionBoundary:d,collisionPadding:h,sticky:m,hideWhenDetached:v,avoidCollisions:g}:{};return E.jsx(yF,{scope:n,content:y,viewport:S,onViewportChange:_,itemRefCallback:ie,selectedItem:T,onItemLeave:xe,itemTextRefCallback:Z,focusSelectedItem:B,selectedItemText:A,position:r,isPositioned:L,searchRef:W,children:E.jsx(cF,{as:Kd,allowPinchZoom:!0,children:E.jsx(CU,{asChild:!0,trapped:x.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Xt(i,ne=>{var _e;(_e=x.trigger)==null||_e.focus({preventScroll:!0}),ne.preventDefault()}),children:E.jsx(TU,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:E.jsx(ue,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ne=>ne.preventDefault(),...p,...be,onPlaced:()=>I(!0),ref:w,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:Xt(p.onKeyDown,ne=>{const _e=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!_e&&ne.key.length===1&&J(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let ae=O().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const le=ne.target,$=ae.indexOf(le);ae=ae.slice($+1)}setTimeout(()=>F(ae)),ne.preventDefault()}})})})})})})});xF.displayName=P_e;var C_e="SelectItemAlignedPosition",bF=C.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Qa(Js,n),a=es(Js,n),[s,l]=C.useState(null),[c,f]=C.useState(null),u=mn(e,w=>f(w)),d=Ey(n),h=C.useRef(!1),m=C.useRef(!0),{viewport:v,selectedItem:g,selectedItemText:p,focusSelectedItem:x}=a,y=C.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&c&&v&&g&&p){const w=o.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),A=p.getBoundingClientRect();if(o.dir!=="rtl"){const le=A.left-T.left,$=M.left-le,se=w.left-$,k=w.width+se,ve=Math.max(k,T.width),fe=window.innerWidth-xi,we=Wv($,[xi,Math.max(xi,fe-ve)]);s.style.minWidth=k+"px",s.style.left=we+"px"}else{const le=T.right-A.right,$=window.innerWidth-M.right-le,se=window.innerWidth-w.right-$,k=w.width+se,ve=Math.max(k,T.width),fe=window.innerWidth-xi,we=Wv($,[xi,Math.max(xi,fe-ve)]);s.style.minWidth=k+"px",s.style.right=we+"px"}const P=d(),O=window.innerHeight-xi*2,L=v.scrollHeight,I=window.getComputedStyle(c),j=parseInt(I.borderTopWidth,10),F=parseInt(I.paddingTop,10),B=parseInt(I.borderBottomWidth,10),D=parseInt(I.paddingBottom,10),z=j+F+L+D+B,W=Math.min(g.offsetHeight*5,z),J=window.getComputedStyle(v),ie=parseInt(J.paddingTop,10),xe=parseInt(J.paddingBottom,10),Z=w.top+w.height/2-xi,ue=O-Z,be=g.offsetHeight/2,ne=g.offsetTop+be,_e=j+F+ne,Q=z-_e;if(_e<=Z){const le=P.length>0&&g===P[P.length-1].ref.current;s.style.bottom="0px";const $=c.clientHeight-v.offsetTop-v.offsetHeight,se=Math.max(ue,be+(le?xe:0)+$+B),k=_e+se;s.style.height=k+"px"}else{const le=P.length>0&&g===P[0].ref.current;s.style.top="0px";const se=Math.max(Z,j+v.offsetTop+(le?ie:0)+be)+Q;s.style.height=se+"px",v.scrollTop=_e-Z+v.offsetTop}s.style.margin=`${xi}px 0`,s.style.minHeight=W+"px",s.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[d,o.trigger,o.valueNode,s,c,v,g,p,o.dir,r]);Hr(()=>y(),[y]);const[b,S]=C.useState();Hr(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const _=C.useCallback(w=>{w&&m.current===!0&&(y(),x==null||x(),m.current=!1)},[y,x]);return E.jsx(R_e,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:h,onScrollButtonChange:_,children:E.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:E.jsx(sn.div,{...i,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});bF.displayName=C_e;var O_e="SelectPopperPosition",XS=C.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=xi,...o}=t,a=My(n);return E.jsx(Cbe,{...a,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});XS.displayName=O_e;var[R_e,kE]=Ou(Js,{}),qS="SelectViewport",_F=C.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=es(qS,n),a=kE(qS,n),s=mn(e,o.onViewportChange),l=C.useRef(0);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),E.jsx(wy.Slot,{scope:n,children:E.jsx(sn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Xt(i.onScroll,c=>{const f=c.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:d}=a;if(d!=null&&d.current&&u){const h=Math.abs(l.current-f.scrollTop);if(h>0){const m=window.innerHeight-xi*2,v=parseFloat(u.style.minHeight),g=parseFloat(u.style.height),p=Math.max(v,g);if(p<m){const x=p+h,y=Math.min(m,x),b=x-y;u.style.height=y+"px",u.style.bottom==="0px"&&(f.scrollTop=b>0?b:0,u.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});_F.displayName=qS;var SF="SelectGroup",[N_e,D_e]=Ou(SF),L_e=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=AE();return E.jsx(N_e,{scope:n,id:i,children:E.jsx(sn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});L_e.displayName=SF;var wF="SelectLabel",I_e=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=D_e(wF,n);return E.jsx(sn.div,{id:i.id,...r,ref:e})});I_e.displayName=wF;var Zv="SelectItem",[k_e,EF]=Ou(Zv),MF=C.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=t,s=Qa(Zv,n),l=es(Zv,n),c=s.value===r,[f,u]=C.useState(o??""),[d,h]=C.useState(!1),m=mn(e,x=>{var y;return(y=l.itemRefCallback)==null?void 0:y.call(l,x,r,i)}),v=AE(),g=C.useRef("touch"),p=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return E.jsx(k_e,{scope:n,value:r,disabled:i,textId:v,isSelected:c,onItemTextChange:C.useCallback(x=>{u(y=>y||((x==null?void 0:x.textContent)??"").trim())},[]),children:E.jsx(wy.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:E.jsx(sn.div,{role:"option","aria-labelledby":v,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:m,onFocus:Xt(a.onFocus,()=>h(!0)),onBlur:Xt(a.onBlur,()=>h(!1)),onClick:Xt(a.onClick,()=>{g.current!=="mouse"&&p()}),onPointerUp:Xt(a.onPointerUp,()=>{g.current==="mouse"&&p()}),onPointerDown:Xt(a.onPointerDown,x=>{g.current=x.pointerType}),onPointerMove:Xt(a.onPointerMove,x=>{var y;g.current=x.pointerType,i?(y=l.onItemLeave)==null||y.call(l):g.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Xt(a.onPointerLeave,x=>{var y;x.currentTarget===document.activeElement&&((y=l.onItemLeave)==null||y.call(l))}),onKeyDown:Xt(a.onKeyDown,x=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&x.key===" "||(__e.includes(x.key)&&p(),x.key===" "&&x.preventDefault())})})})})});MF.displayName=Zv;var bf="SelectItemText",AF=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,a=Qa(bf,n),s=es(bf,n),l=EF(bf,n),c=M_e(bf,n),[f,u]=C.useState(null),d=mn(e,p=>u(p),l.onItemTextChange,p=>{var x;return(x=s.itemTextRefCallback)==null?void 0:x.call(s,p,l.value,l.disabled)}),h=f==null?void 0:f.textContent,m=C.useMemo(()=>E.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:v,onNativeOptionRemove:g}=c;return Hr(()=>(v(m),()=>g(m)),[v,g,m]),E.jsxs(E.Fragment,{children:[E.jsx(sn.span,{id:l.textId,...o,ref:d}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?tl.createPortal(o.children,a.valueNode):null]})});AF.displayName=bf;var TF="SelectItemIndicator",PF=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return EF(TF,n).isSelected?E.jsx(sn.span,{"aria-hidden":!0,...r,ref:e}):null});PF.displayName=TF;var YS="SelectScrollUpButton",U_e=C.forwardRef((t,e)=>{const n=es(YS,t.__scopeSelect),r=kE(YS,t.__scopeSelect),[i,o]=C.useState(!1),a=mn(e,r.onScrollButtonChange);return Hr(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?E.jsx(CF,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});U_e.displayName=YS;var KS="SelectScrollDownButton",F_e=C.forwardRef((t,e)=>{const n=es(KS,t.__scopeSelect),r=kE(KS,t.__scopeSelect),[i,o]=C.useState(!1),a=mn(e,r.onScrollButtonChange);return Hr(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<c;o(f)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?E.jsx(CF,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});F_e.displayName=KS;var CF=C.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=es("SelectScrollButton",n),a=C.useRef(null),s=Ey(n),l=C.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return C.useEffect(()=>()=>l(),[l]),Hr(()=>{var f;const c=s().find(u=>u.ref.current===document.activeElement);(f=c==null?void 0:c.ref.current)==null||f.scrollIntoView({block:"nearest"})},[s]),E.jsx(sn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Xt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Xt(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Xt(i.onPointerLeave,()=>{l()})})}),j_e="SelectSeparator",B_e=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return E.jsx(sn.div,{"aria-hidden":!0,...r,ref:e})});B_e.displayName=j_e;var ZS="SelectArrow",$_e=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=My(n),o=Qa(ZS,n),a=es(ZS,n);return o.open&&a.position==="popper"?E.jsx(Obe,{...i,...r,ref:e}):null});$_e.displayName=ZS;function OF(t){return t===""||t===void 0}var RF=C.forwardRef((t,e)=>{const{value:n,...r}=t,i=C.useRef(null),o=mn(e,i),a=QU(n);return C.useEffect(()=>{const s=i.current,l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==n&&f){const u=new Event("change",{bubbles:!0});f.call(s,n),s.dispatchEvent(u)}},[a,n]),E.jsx(eF,{asChild:!0,children:E.jsx("select",{...r,ref:o,defaultValue:n})})});RF.displayName="BubbleSelect";function NF(t){const e=Wo(t),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(a=>{const s=n.current+a;e(s),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),o=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function DF(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=z_e(t,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function z_e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var H_e=uF,LF=dF,V_e=pF,G_e=mF,W_e=vF,IF=gF,X_e=_F,kF=MF,q_e=AF,Y_e=PF;const UE="-",K_e=t=>{const e=J_e(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const s=a.split(UE);return s[0]===""&&s.length!==1&&s.shift(),UF(s,e)||Z_e(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},UF=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?UF(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(UE);return(a=e.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},l2=/^\[(.+)\]$/,Z_e=t=>{if(l2.test(t)){const e=l2.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},J_e=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return eSe(Object.entries(t.classGroups),n).forEach(([o,a])=>{JS(a,r,o,e)}),r},JS=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:c2(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(Q_e(i)){JS(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{JS(a,c2(e,o),n,r)})})},c2=(t,e)=>{let n=t;return e.split(UE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Q_e=t=>t.isThemeGetter,eSe=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[e+a,s])):o);return[n,i]}):t,tSe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},FF="!",nSe=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,a=s=>{const l=[];let c=0,f=0,u;for(let g=0;g<s.length;g++){let p=s[g];if(c===0){if(p===i&&(r||s.slice(g,g+o)===e)){l.push(s.slice(f,g)),f=g+o;continue}if(p==="/"){u=g;continue}}p==="["?c++:p==="]"&&c--}const d=l.length===0?s:s.substring(f),h=d.startsWith(FF),m=h?d.substring(1):d,v=u&&u>f?u-f:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:v}};return n?s=>n({className:s,parseClassName:a}):a},rSe=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},iSe=t=>({cache:tSe(t.cacheSize),parseClassName:nSe(t),...K_e(t)}),oSe=/\s+/,aSe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(oSe);let s="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:f,hasImportantModifier:u,baseClassName:d,maybePostfixModifierPosition:h}=n(c);let m=!!h,v=r(m?d.substring(0,h):d);if(!v){if(!m){s=c+(s.length>0?" "+s:s);continue}if(v=r(d),!v){s=c+(s.length>0?" "+s:s);continue}m=!1}const g=rSe(f).join(":"),p=u?g+FF:g,x=p+v;if(o.includes(x))continue;o.push(x);const y=i(v,m);for(let b=0;b<y.length;++b){const S=y[b];o.push(p+S)}s=c+(s.length>0?" "+s:s)}return s};function sSe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=jF(e))&&(r&&(r+=" "),r+=n);return r}const jF=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=jF(t[r]))&&(n&&(n+=" "),n+=e);return n};function lSe(t,...e){let n,r,i,o=a;function a(l){const c=e.reduce((f,u)=>u(f),t());return n=iSe(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const f=aSe(l,n);return i(l,f),f}return function(){return o(sSe.apply(null,arguments))}}const Zt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},BF=/^\[(?:([a-z-]+):)?(.+)\]$/i,cSe=/^\d+\/\d+$/,uSe=new Set(["px","full","screen"]),fSe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dSe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hSe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pSe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mSe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xo=t=>bc(t)||uSe.has(t)||cSe.test(t),ca=t=>Ru(t,"length",wSe),bc=t=>!!t&&!Number.isNaN(Number(t)),xx=t=>Ru(t,"number",bc),lf=t=>!!t&&Number.isInteger(Number(t)),vSe=t=>t.endsWith("%")&&bc(t.slice(0,-1)),ht=t=>BF.test(t),ua=t=>fSe.test(t),gSe=new Set(["length","size","percentage"]),ySe=t=>Ru(t,gSe,$F),xSe=t=>Ru(t,"position",$F),bSe=new Set(["image","url"]),_Se=t=>Ru(t,bSe,MSe),SSe=t=>Ru(t,"",ESe),cf=()=>!0,Ru=(t,e,n)=>{const r=BF.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},wSe=t=>dSe.test(t)&&!hSe.test(t),$F=()=>!1,ESe=t=>pSe.test(t),MSe=t=>mSe.test(t),ASe=()=>{const t=Zt("colors"),e=Zt("spacing"),n=Zt("blur"),r=Zt("brightness"),i=Zt("borderColor"),o=Zt("borderRadius"),a=Zt("borderSpacing"),s=Zt("borderWidth"),l=Zt("contrast"),c=Zt("grayscale"),f=Zt("hueRotate"),u=Zt("invert"),d=Zt("gap"),h=Zt("gradientColorStops"),m=Zt("gradientColorStopPositions"),v=Zt("inset"),g=Zt("margin"),p=Zt("opacity"),x=Zt("padding"),y=Zt("saturate"),b=Zt("scale"),S=Zt("sepia"),_=Zt("skew"),w=Zt("space"),T=Zt("translate"),M=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",ht,e],O=()=>[ht,e],L=()=>["",xo,ca],I=()=>["auto",bc,ht],j=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ht],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[bc,ht];return{cacheSize:500,separator:":",theme:{colors:[cf],spacing:[xo,ca],blur:["none","",ua,ht],brightness:J(),borderColor:[t],borderRadius:["none","","full",ua,ht],borderSpacing:O(),borderWidth:L(),contrast:J(),grayscale:z(),hueRotate:J(),invert:z(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[vSe,ca],inset:P(),margin:P(),opacity:J(),padding:O(),saturate:J(),scale:J(),sepia:z(),skew:J(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ht]}],container:["container"],columns:[{columns:[ua]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...j(),ht]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lf,ht]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ht]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",lf,ht]}],"grid-cols":[{"grid-cols":[cf]}],"col-start-end":[{col:["auto",{span:["full",lf,ht]},ht]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[cf]}],"row-start-end":[{row:["auto",{span:[lf,ht]},ht]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ht]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ht]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[w]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[w]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ht,e]}],"min-w":[{"min-w":[ht,e,"min","max","fit"]}],"max-w":[{"max-w":[ht,e,"none","full","min","max","fit","prose",{screen:[ua]},ua]}],h:[{h:[ht,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ht,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ht,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ht,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ua,ca]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xx]}],"font-family":[{font:[cf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ht]}],"line-clamp":[{"line-clamp":["none",bc,xx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xo,ht]}],"list-image":[{"list-image":["none",ht]}],"list-style-type":[{list:["none","disc","decimal",ht]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xo,ca]}],"underline-offset":[{"underline-offset":["auto",xo,ht]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...j(),xSe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ySe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_Se]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[xo,ht]}],"outline-w":[{outline:[xo,ca]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[xo,ca]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ua,SSe]}],"shadow-color":[{shadow:[cf]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ua,ht]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ht]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",ht]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",ht]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[lf,ht]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ht]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ht]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ht]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[xo,ca,xx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},TSe=lSe(ASe);function fo(...t){return TSe(vt(t))}const zF=H_e,HF=V_e,FE=C.forwardRef(({className:t,children:e,...n},r)=>E.jsxs(LF,{ref:r,className:fo("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,E.jsx(G_e,{asChild:!0,children:E.jsx(k0e,{className:"h-4 w-4 opacity-50"})})]}));FE.displayName=LF.displayName;const jE=C.forwardRef(({className:t,children:e,position:n="item-aligned",...r},i)=>E.jsx(W_e,{children:E.jsx(IF,{ref:i,className:fo("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:E.jsx(X_e,{className:"h-[var(--radix-select-trigger-height)] w-full p-1",children:e})})}));jE.displayName=IF.displayName;const BE=C.forwardRef(({className:t,children:e,...n},r)=>E.jsxs(kF,{ref:r,className:fo("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(Y_e,{children:E.jsx(I0e,{className:"h-4 w-4"})})}),E.jsx(q_e,{children:e})]}));BE.displayName=kF.displayName;const Pi=C.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:fo("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Pi.displayName="Card";const Ci=C.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:fo("flex flex-col space-y-1.5 p-6",t),...e}));Ci.displayName="CardHeader";const Oi=C.forwardRef(({className:t,children:e,...n},r)=>E.jsx("h3",{ref:r,className:fo("text-2xl font-semibold leading-none tracking-tight",t),...n,children:e}));Oi.displayName="CardTitle";const PSe=C.forwardRef(({className:t,...e},n)=>E.jsx("p",{ref:n,className:fo("text-sm text-muted-foreground",t),...e}));PSe.displayName="CardDescription";const Ri=C.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:fo("p-6 pt-0",t),...e}));Ri.displayName="CardContent";const CSe=C.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:fo("flex items-center p-6 pt-0",t),...e}));CSe.displayName="CardFooter";var VF=["PageUp","PageDown"],GF=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],WF={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Nu="Slider",[QS,OSe,RSe]=wU(Nu),[XF,pwe]=EU(Nu,[RSe]),[NSe,Ay]=XF(Nu),qF=C.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:a="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:f,onValueChange:u=()=>{},onValueCommit:d=()=>{},inverted:h=!1,form:m,...v}=t,g=C.useRef(new Set),p=C.useRef(0),y=a==="horizontal"?DSe:LSe,[b=[],S]=GS({prop:f,defaultProp:c,onChange:P=>{var L;(L=[...g.current][p.current])==null||L.focus(),u(P)}}),_=C.useRef(b);function w(P){const O=jSe(b,P);A(P,O)}function T(P){A(P,p.current)}function M(){const P=_.current[p.current];b[p.current]!==P&&d(b)}function A(P,O,{commit:L}={commit:!1}){const I=HSe(o),j=VSe(Math.round((P-r)/o)*o+r,I),F=Wv(j,[r,i]);S((B=[])=>{const D=USe(B,F,O);if(zSe(D,l*o)){p.current=D.indexOf(F);const z=String(D)!==String(B);return z&&L&&d(D),z?D:B}else return B})}return E.jsx(NSe,{scope:t.__scopeSlider,name:n,disabled:s,min:r,max:i,valueIndexToChangeRef:p,thumbs:g.current,values:b,orientation:a,form:m,children:E.jsx(QS.Provider,{scope:t.__scopeSlider,children:E.jsx(QS.Slot,{scope:t.__scopeSlider,children:E.jsx(y,{"aria-disabled":s,"data-disabled":s?"":void 0,...v,ref:e,onPointerDown:Xt(v.onPointerDown,()=>{s||(_.current=b)}),min:r,max:i,inverted:h,onSlideStart:s?void 0:w,onSlideMove:s?void 0:T,onSlideEnd:s?void 0:M,onHomeKeyDown:()=>!s&&A(r,0,{commit:!0}),onEndKeyDown:()=>!s&&A(i,b.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:O})=>{if(!s){const j=VF.includes(P.key)||P.shiftKey&&GF.includes(P.key)?10:1,F=p.current,B=b[F],D=o*j*O;A(B+D,F,{commit:!0})}}})})})})});qF.displayName=Nu;var[YF,KF]=XF(Nu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),DSe=C.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...f}=t,[u,d]=C.useState(null),h=mn(e,y=>d(y)),m=C.useRef(),v=MU(i),g=v==="ltr",p=g&&!o||!g&&o;function x(y){const b=m.current||u.getBoundingClientRect(),S=[0,b.width],w=$E(S,p?[n,r]:[r,n]);return m.current=b,w(y-b.left)}return E.jsx(YF,{scope:t.__scopeSlider,startEdge:p?"left":"right",endEdge:p?"right":"left",direction:p?1:-1,size:"width",children:E.jsx(ZF,{dir:v,"data-orientation":"horizontal",...f,ref:h,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const b=x(y.clientX);a==null||a(b)},onSlideMove:y=>{const b=x(y.clientX);s==null||s(b)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:y=>{const S=WF[p?"from-left":"from-right"].includes(y.key);c==null||c({event:y,direction:S?-1:1})}})})}),LSe=C.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:s,onStepKeyDown:l,...c}=t,f=C.useRef(null),u=mn(e,f),d=C.useRef(),h=!i;function m(v){const g=d.current||f.current.getBoundingClientRect(),p=[0,g.height],y=$E(p,h?[r,n]:[n,r]);return d.current=g,y(v-g.top)}return E.jsx(YF,{scope:t.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:E.jsx(ZF,{"data-orientation":"vertical",...c,ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const g=m(v.clientY);o==null||o(g)},onSlideMove:v=>{const g=m(v.clientY);a==null||a(g)},onSlideEnd:()=>{d.current=void 0,s==null||s()},onStepKeyDown:v=>{const p=WF[h?"from-bottom":"from-top"].includes(v.key);l==null||l({event:v,direction:p?-1:1})}})})}),ZF=C.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:a,onEndKeyDown:s,onStepKeyDown:l,...c}=t,f=Ay(Nu,n);return E.jsx(sn.span,{...c,ref:e,onKeyDown:Xt(t.onKeyDown,u=>{u.key==="Home"?(a(u),u.preventDefault()):u.key==="End"?(s(u),u.preventDefault()):VF.concat(GF).includes(u.key)&&(l(u),u.preventDefault())}),onPointerDown:Xt(t.onPointerDown,u=>{const d=u.target;d.setPointerCapture(u.pointerId),u.preventDefault(),f.thumbs.has(d)?d.focus():r(u)}),onPointerMove:Xt(t.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&i(u)}),onPointerUp:Xt(t.onPointerUp,u=>{const d=u.target;d.hasPointerCapture(u.pointerId)&&(d.releasePointerCapture(u.pointerId),o(u))})})}),JF="SliderTrack",QF=C.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Ay(JF,n);return E.jsx(sn.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});QF.displayName=JF;var ew="SliderRange",ej=C.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Ay(ew,n),o=KF(ew,n),a=C.useRef(null),s=mn(e,a),l=i.values.length,c=i.values.map(d=>nj(d,i.min,i.max)),f=l>1?Math.min(...c):0,u=100-Math.max(...c);return E.jsx(sn.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:s,style:{...t.style,[o.startEdge]:f+"%",[o.endEdge]:u+"%"}})});ej.displayName=ew;var tw="SliderThumb",tj=C.forwardRef((t,e)=>{const n=OSe(t.__scopeSlider),[r,i]=C.useState(null),o=mn(e,s=>i(s)),a=C.useMemo(()=>r?n().findIndex(s=>s.ref.current===r):-1,[n,r]);return E.jsx(ISe,{...t,ref:o,index:a})}),ISe=C.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...o}=t,a=Ay(tw,n),s=KF(tw,n),[l,c]=C.useState(null),f=mn(e,x=>c(x)),u=l?a.form||!!l.closest("form"):!0,d=$U(l),h=a.values[r],m=h===void 0?0:nj(h,a.min,a.max),v=FSe(r,a.values.length),g=d==null?void 0:d[s.size],p=g?BSe(g,m,s.direction):0;return C.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),E.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${m}% + ${p}px)`},children:[E.jsx(QS.ItemSlot,{scope:t.__scopeSlider,children:E.jsx(sn.span,{role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":h,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...o,ref:f,style:h===void 0?{display:"none"}:t.style,onFocus:Xt(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),u&&E.jsx(kSe,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:h},r)]})});tj.displayName=tw;var kSe=t=>{const{value:e,...n}=t,r=C.useRef(null),i=QU(e);return C.useEffect(()=>{const o=r.current,a=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(o,e),o.dispatchEvent(c)}},[i,e]),E.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function USe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,o)=>i-o)}function nj(t,e,n){const o=100/(n-e)*(t-e);return Wv(o,[0,100])}function FSe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function jSe(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function BSe(t,e,n){const r=t/2,o=$E([0,50],[0,r]);return(r-o(e)*n)*n}function $Se(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function zSe(t,e){if(e>0){const n=$Se(t);return Math.min(...n)>=e}return!0}function $E(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function HSe(t){return(String(t).split(".")[1]||"").length}function VSe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var rj=qF,GSe=QF,WSe=ej,XSe=tj;const zE=C.forwardRef(({className:t,...e},n)=>{var r;return E.jsxs(rj,{ref:n,className:fo("relative flex w-full touch-none select-none items-center group",t),...e,children:[E.jsx(GSe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:E.jsx(WSe,{className:"absolute h-full bg-primary"})}),(r=e.defaultValue)==null?void 0:r.map((i,o)=>E.jsx(XSe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-2 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},o))]})});zE.displayName=rj.displayName;const bx={Energy:[{year:2020,baselineEmissions:100,reductionScenario1:100,reductionScenario2:100},{year:2025,baselineEmissions:95,reductionScenario1:80,reductionScenario2:70},{year:2030,baselineEmissions:90,reductionScenario1:60,reductionScenario2:40},{year:2035,baselineEmissions:85,reductionScenario1:40,reductionScenario2:20},{year:2040,baselineEmissions:80,reductionScenario1:20,reductionScenario2:10},{year:2045,baselineEmissions:75,reductionScenario1:10,reductionScenario2:5},{year:2050,baselineEmissions:70,reductionScenario1:5,reductionScenario2:0}],Manufacturing:[{year:2020,baselineEmissions:100,reductionScenario1:100,reductionScenario2:100},{year:2025,baselineEmissions:98,reductionScenario1:85,reductionScenario2:75},{year:2030,baselineEmissions:95,reductionScenario1:70,reductionScenario2:50},{year:2035,baselineEmissions:90,reductionScenario1:50,reductionScenario2:30},{year:2040,baselineEmissions:85,reductionScenario1:30,reductionScenario2:15},{year:2045,baselineEmissions:80,reductionScenario1:15,reductionScenario2:7},{year:2050,baselineEmissions:75,reductionScenario1:7,reductionScenario2:0}],Transportation:[{year:2020,baselineEmissions:100,reductionScenario1:100,reductionScenario2:100},{year:2025,baselineEmissions:97,reductionScenario1:82,reductionScenario2:72},{year:2030,baselineEmissions:93,reductionScenario1:65,reductionScenario2:45},{year:2035,baselineEmissions:88,reductionScenario1:45,reductionScenario2:25},{year:2040,baselineEmissions:83,reductionScenario1:25,reductionScenario2:12},{year:2045,baselineEmissions:78,reductionScenario1:12,reductionScenario2:5},{year:2050,baselineEmissions:73,reductionScenario1:5,reductionScenario2:0}]},qSe=()=>{const[t,e]=C.useState("Energy"),[n,r]=C.useState(50),i=C.useMemo(()=>{const a=bx[t],s=a.reduce((f,u)=>f+u.baselineEmissions,0),l=a.reduce((f,u)=>f+u.reductionScenario1,0),c=a.reduce((f,u)=>f+u.reductionScenario2,0);return{baseline:s,scenario1:l,scenario2:c}},[t]),o=C.useMemo(()=>bx[t].map(s=>{const l=s.baselineEmissions-(s.reductionScenario1-s.baselineEmissions)*(n/100)-(s.reductionScenario2-s.baselineEmissions)*(n/100);return{...s,interpolatedEmissions:Math.max(l,0)}}),[t,n]);return E.jsxs("div",{className:"container mx-auto p-4 space-y-6 bg-black text-white",children:[E.jsx("h1",{className:"text-3xl font-bold text-center mb-6 ",children:"Net Zero Transition Modeling"}),E.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[E.jsxs(Pi,{children:[E.jsx(Ci,{children:E.jsx(Oi,{children:"Select Industry"})}),E.jsx(Ri,{children:E.jsxs(zF,{value:t,onValueChange:e,children:[E.jsx(FE,{children:E.jsx(HF,{placeholder:"Select Industry"})}),E.jsx(jE,{children:Object.keys(bx).map(a=>E.jsx(BE,{value:a,children:a},a))})]})})]}),E.jsxs(Pi,{children:[E.jsx(Ci,{children:E.jsx(Oi,{children:"Investment Scenario"})}),E.jsxs(Ri,{className:"flex items-center space-x-4",children:[E.jsx(zE,{defaultValue:[50],max:100,step:10,onValueChange:a=>r(a[0])}),E.jsxs("div",{className:"text-sm font-medium",children:[n,"% Investment Level"]})]})]})]}),E.jsxs(Pi,{children:[E.jsx(Ci,{children:E.jsx(Oi,{children:"Emissions Reduction Projection"})}),E.jsx(Ri,{children:E.jsx(xd,{width:"100%",height:400,children:E.jsxs(yy,{data:o,children:[E.jsx(Sh,{strokeDasharray:"3 3"}),E.jsx(ll,{dataKey:"year"}),E.jsx(cl,{label:{value:"Emissions (% of 2020)",angle:-90,position:"insideLeft"}}),E.jsx(pr,{}),E.jsx(Ia,{}),E.jsx(Fi,{type:"monotone",dataKey:"baselineEmissions",stroke:"#FF6384",name:"Baseline Emissions"}),E.jsx(Fi,{type:"monotone",dataKey:"interpolatedEmissions",stroke:"#36A2EB",name:"Interpolated Emissions"})]})})})]}),E.jsxs(Pi,{children:[E.jsx(Ci,{children:E.jsx(Oi,{children:"Cumulative Emissions Reduction"})}),E.jsxs(Ri,{className:"grid md:grid-cols-3 gap-4",children:[E.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[E.jsx("h3",{className:"font-semibold",children:"Baseline Scenario"}),E.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[i.baseline.toFixed(2),E.jsx("span",{className:"text-sm ml-1",children:"metric tons CO2"})]})]}),E.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[E.jsx("h3",{className:"font-semibold",children:"Scenario 1 (Moderate Investment)"}),E.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[i.scenario1.toFixed(2),E.jsx("span",{className:"text-sm ml-1",children:"metric tons CO2"})]})]}),E.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[E.jsx("h3",{className:"font-semibold",children:"Scenario 2 (High Investment)"}),E.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i.scenario2.toFixed(2),E.jsx("span",{className:"text-sm ml-1",children:"metric tons CO2"})]})]})]})]}),E.jsxs(Pi,{children:[E.jsxs(Ci,{className:"flex flex-row items-center justify-between",children:[E.jsx(Oi,{children:"Key Insights"}),E.jsx(_U,{className:"text-blue-500"})]}),E.jsx(Ri,{children:E.jsxs("ul",{className:"space-y-2 list-disc pl-5",children:[E.jsx("li",{children:"Projected cumulative emissions reduction varies significantly based on investment scenario"}),E.jsx("li",{children:"Each industry shows unique emission reduction potential and challenges"}),E.jsx("li",{children:"Investment levels between 40-60% show optimal transition pathways"}),E.jsx("li",{children:"Long-term strategies require consistent, sustained investment"})]})})]})]})},uf={sectors:[{name:"Renewable Energy",baseRisk:.2,transitionRisk:.3,physicalRisk:.1,annualReturn:8.5,carbonIntensity:50,climateAdaptationScore:.9},{name:"Traditional Energy",baseRisk:.7,transitionRisk:.8,physicalRisk:.6,annualReturn:6.2,carbonIntensity:500,climateAdaptationScore:.2},{name:"Technology",baseRisk:.4,transitionRisk:.3,physicalRisk:.2,annualReturn:7.5,carbonIntensity:150,climateAdaptationScore:.6},{name:"Agriculture",baseRisk:.6,transitionRisk:.5,physicalRisk:.7,annualReturn:5.8,carbonIntensity:250,climateAdaptationScore:.4}],scenarioProjections:{baseline:[{year:2023,value:100},{year:2025,value:105},{year:2030,value:120},{year:2035,value:140},{year:2040,value:170},{year:2045,value:210},{year:2050,value:260}],lowCarbon:[{year:2023,value:100},{year:2025,value:108},{year:2030,value:130},{year:2035,value:160},{year:2040,value:200},{year:2045,value:250},{year:2050,value:320}],highRisk:[{year:2023,value:100},{year:2025,value:102},{year:2030,value:110},{year:2035,value:125},{year:2040,value:140},{year:2045,value:160},{year:2050,value:190}]}},YSe=()=>{const[t,e]=C.useState("Renewable Energy"),[n,r]=C.useState(50),i=C.useMemo(()=>{const a=uf.sectors.find(l=>l.name===t),s={baseRisk:a.baseRisk*(1-n/100),transitionRisk:a.transitionRisk*(1-n/100),physicalRisk:a.physicalRisk*(1-n/100)};return{...a,...s,riskScore:(s.baseRisk+s.transitionRisk+s.physicalRisk)/3}},[t,n]),o=C.useMemo(()=>{const a=uf.scenarioProjections.baseline,s=uf.scenarioProjections.lowCarbon,l=uf.scenarioProjections.highRisk;return a.map((c,f)=>({year:c.year,baseline:c.value,lowCarbon:s[f].value,highRisk:l[f].value,interpolatedValue:c.value+(s[f].value-c.value)*(n/100)}))},[n]);return E.jsxs("div",{className:"container mx-auto p-4 space-y-6 bg-black text-white",children:[E.jsxs("h1",{className:"text-4xl font-bold text-center mb-6 flex items-center justify-center gap-4",children:[E.jsx(FS,{className:"text-[#00a87a]"}),"Climate Risk Investment Portfolio Assessment"]}),E.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[E.jsxs(Pi,{className:"bg-gray-900 border border-gray-700 rounded-lg p-4",children:[E.jsx(Ci,{children:E.jsxs(Oi,{className:"flex items-center gap-2 mb-4 text-white",children:[E.jsx(z0e,{className:"text-[#00a87a]"}),"Sector Selection"]})}),E.jsx(Ri,{children:E.jsxs(zF,{value:t,onValueChange:e,className:"w-full bg-gray-800 text-white border border-gray-700 rounded-md p-2 hover:bg-gray-700",children:[E.jsx(FE,{children:E.jsx(HF,{placeholder:"Select Sector"})}),E.jsx(jE,{children:uf.sectors.map(a=>E.jsx(BE,{value:a.name,className:"bg-gray-900 text-white",children:a.name},a.name))})]})})]}),E.jsxs(Pi,{className:"bg-gray-900 border border-gray-700 rounded-lg p-4",children:[E.jsx(Ci,{children:E.jsxs(Oi,{className:"flex items-center gap-2 mb-4 text-white",children:[E.jsx($R,{className:"text-[#00a87a]"}),"Risk Tolerance"]})}),E.jsxs(Ri,{className:"flex items-center space-x-4",children:[E.jsx(zE,{defaultValue:[50],max:100,step:10,onValueChange:a=>r(a[0])}),E.jsxs("div",{className:"text-sm font-medium",children:[n,"% Risk Tolerance"]})]})]})]}),E.jsxs(Pi,{children:[E.jsx(Ci,{children:E.jsxs(Oi,{className:"flex items-center gap-2",children:[E.jsx(bU,{className:"text-purple-500"}),"Sector Risk Metrics"]})}),E.jsxs(Ri,{className:"grid md:grid-cols-3 gap-4",children:[E.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[E.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[E.jsx(jS,{className:"text-green-600"})," Annual Return"]}),E.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[i.annualReturn,"%"]})]}),E.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[E.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[E.jsx($R,{className:"text-red-600"})," Risk Score"]}),E.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[(i.riskScore*100).toFixed(2),"%"]})]}),E.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[E.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[E.jsx(FS,{className:"text-blue-600"})," Carbon Intensity"]}),E.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i.carbonIntensity," CO2/M$"]})]})]})]}),E.jsxs(Pi,{children:[E.jsx(Ci,{children:E.jsxs(Oi,{className:"flex items-center gap-2",children:[E.jsx(jS,{className:"text-green-500"}),"Investment Scenario Projections"]})}),E.jsx(Ri,{children:E.jsx(xd,{width:"100%",height:400,children:E.jsxs(yy,{data:o,children:[E.jsx(Sh,{strokeDasharray:"3 3"}),E.jsx(ll,{dataKey:"year"}),E.jsx(cl,{label:{value:"Portfolio Value",angle:-90,position:"insideLeft"}}),E.jsx(pr,{}),E.jsx(Ia,{}),E.jsx(Fi,{type:"monotone",dataKey:"baseline",stroke:"#FF6384",name:"Baseline Scenario"}),E.jsx(Fi,{type:"monotone",dataKey:"lowCarbon",stroke:"#36A2EB",name:"Low Carbon Scenario"}),E.jsx(Fi,{type:"monotone",dataKey:"interpolatedValue",stroke:"#4CAF50",name:"Dynamic Scenario"})]})})})]}),E.jsxs(Pi,{children:[E.jsx(Ci,{className:"flex flex-row items-center justify-between",children:E.jsxs(Oi,{className:"flex items-center gap-2",children:[E.jsx(_U,{className:"text-blue-500"}),"Key Climate Risk Insights"]})}),E.jsx(Ri,{children:E.jsxs("ul",{className:"space-y-2 list-disc pl-5",children:[E.jsx("li",{children:"Investment portfolio's climate risk varies significantly across sectors"}),E.jsx("li",{children:"Renewable energy shows lower transition and physical climate risks"}),E.jsx("li",{children:"Risk tolerance dynamically impacts portfolio risk assessment"}),E.jsx("li",{children:"Long-term scenarios demonstrate potential value creation in low-carbon investments"}),E.jsx("li",{children:"Carbon intensity is a critical metric for climate risk evaluation"})]})})]})]})},Il={balance:5624.37,monthlySpending:{total:1875.5,breakdown:[{category:"Food & Drink",amount:450.25,sustainabilityScore:70},{category:"Transportation",amount:350.75,sustainabilityScore:40},{category:"Shopping",amount:275.5,sustainabilityScore:55},{category:"Utilities",amount:200,sustainabilityScore:80},{category:"Entertainment",amount:150,sustainabilityScore:60}]},transactions:[{id:1,date:"2024-05-15",merchant:"Whole Foods Market",amount:85.5,category:"Groceries",sustainabilityScore:85,type:"debit"},{id:2,date:"2024-05-14",merchant:"Salary Deposit",amount:3500,category:"Income",sustainabilityScore:100,type:"credit"},{id:3,date:"2024-05-13",merchant:"Tesla Supercharger",amount:22.75,category:"Transportation",sustainabilityScore:90,type:"debit"}],investments:[{id:1,name:"Renewable Energy ETF",amount:2500,performance:"+7.2%",co2Reduction:"85%"},{id:2,name:"Sustainable Tech Fund",amount:1750,performance:"+6.5%",co2Reduction:"75%"}],carbonImpactData:[{month:"Jan",impact:1200},{month:"Feb",impact:1100},{month:"Mar",impact:950},{month:"Apr",impact:800},{month:"May",impact:650}]},KSe=()=>{const[t,e]=C.useState("home"),n=()=>E.jsxs("div",{className:"bg-white",children:[E.jsx("div",{className:"bg-green-600 text-white p-5",children:E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-sm opacity-75",children:"Total Balance"}),E.jsxs("h2",{className:"text-3xl font-bold",children:["£",Il.balance.toLocaleString()]})]}),E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"bg-green-500 rounded-full p-2 mr-2",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),E.jsx("div",{className:"bg-green-500 rounded-full p-2",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 13v-1m4 1v-3m4 3V8M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})})]})]})}),E.jsxs("div",{className:"p-4",children:[E.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mb-4",children:[E.jsxs("div",{className:"flex justify-between items-center mb-3",children:[E.jsx("h3",{className:"font-bold text-lg",children:"Monthly Spending"}),E.jsxs("span",{className:"text-green-600 font-semibold",children:["£",Il.monthlySpending.total.toLocaleString()]})]}),Il.monthlySpending.breakdown.map((o,a)=>E.jsxs("div",{className:"flex justify-between items-center mb-2 pb-2 border-b border-gray-200 last:border-b-0",children:[E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold",children:o.category}),E.jsx("div",{className:"h-1 bg-green-200 rounded-full mt-1",style:{width:"100%",backgroundImage:`linear-gradient(to right, 
                        ${o.sustainabilityScore>70?"green":o.sustainabilityScore>40?"orange":"red"} ${o.sustainabilityScore}%, 
                        transparent ${o.sustainabilityScore}%)`}})]}),E.jsxs("span",{className:"font-semibold",children:["£",o.amount.toLocaleString()]})]},a))]}),E.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[E.jsx("h3",{className:"font-bold text-lg mb-3",children:"Recent Transactions"}),Il.transactions.slice(0,3).map(o=>E.jsxs("div",{className:"flex justify-between items-center mb-3 pb-3 border-b border-gray-200 last:border-b-0",children:[E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold",children:o.merchant}),E.jsx("p",{className:"text-sm text-gray-500",children:o.date})]}),E.jsxs("div",{className:"text-right",children:[E.jsxs("p",{className:`font-bold ${o.type==="credit"?"text-green-600":"text-red-600"}`,children:[o.type==="credit"?"+":"-","£",o.amount.toLocaleString()]}),E.jsxs("p",{className:"text-xs text-gray-500",children:["Sustainability: ",o.sustainabilityScore,"%"]})]})]},o.id))]})]})]}),r=()=>E.jsxs("div",{className:"p-4 bg-white",children:[E.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sustainability Insights"}),E.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mb-4",children:[E.jsx("h3",{className:"font-semibold mb-2 text-lg",children:"Your Green Score"}),E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"radial-progress text-green-600 mr-4",style:{"--value":75,"--size":"3rem","--thickness":"0.5rem"},role:"progressbar",children:"75%"}),E.jsxs("div",{children:[E.jsx("p",{className:"font-medium",children:"Good Environmental Impact"}),E.jsx("p",{className:"text-sm text-gray-600",children:"You're making positive financial choices"})]})]})]}),E.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mb-4",children:[E.jsx("h3",{className:"font-bold text-lg mb-3",children:"Carbon Impact Trend"}),E.jsx(xd,{width:"100%",height:200,children:E.jsxs(yy,{data:Il.carbonImpactData,children:[E.jsx(Sh,{strokeDasharray:"3 3"}),E.jsx(ll,{dataKey:"month"}),E.jsx(cl,{}),E.jsx(pr,{}),E.jsx(Fi,{type:"monotone",dataKey:"impact",stroke:"#10b981",strokeWidth:3})]})})]}),E.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[E.jsx("h3",{className:"font-bold text-lg mb-3",children:"Improvement Recommendations"}),E.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[E.jsxs("li",{children:[E.jsx("p",{className:"font-medium",children:"Transportation"}),E.jsx("p",{className:"text-sm text-gray-600",children:"Switch to electric or public transportation to reduce carbon footprint"})]}),E.jsxs("li",{children:[E.jsx("p",{className:"font-medium",children:"Shopping"}),E.jsx("p",{className:"text-sm text-gray-600",children:"Choose local and sustainable brands to improve your green score"})]}),E.jsxs("li",{children:[E.jsx("p",{className:"font-medium",children:"Energy Consumption"}),E.jsx("p",{className:"text-sm text-gray-600",children:"Consider renewable energy providers for your utilities"})]})]})]})]}),i=()=>E.jsxs("div",{className:"p-4 bg-white",children:[E.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Green Investments"}),E.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mb-4",children:[E.jsx("h3",{className:"font-bold text-lg mb-3",children:"Portfolio Performance"}),E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-600",children:"Total Invested"}),E.jsx("p",{className:"text-xl font-bold",children:"£4,250.00"})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-600",children:"Total Growth"}),E.jsx("p",{className:"text-green-600 font-bold",children:"+6.8%"})]})]})]}),Il.investments.map(o=>E.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mb-4 flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold",children:o.name}),E.jsxs("p",{className:"text-sm text-gray-600",children:["CO2 Reduction: ",o.co2Reduction]})]}),E.jsxs("div",{className:"text-right",children:[E.jsxs("p",{className:"font-semibold",children:["£",o.amount.toLocaleString()]}),E.jsx("p",{className:"text-green-600 font-medium",children:o.performance})]})]},o.id)),E.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[E.jsx("h3",{className:"font-bold text-lg mb-3",children:"Investment Recommendations"}),E.jsxs("ul",{className:"space-y-2",children:[E.jsxs("li",{className:"flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("p",{className:"font-medium",children:"Solar Energy Fund"}),E.jsx("p",{className:"text-sm text-gray-600",children:"Promising returns and high sustainability impact"})]}),E.jsx("button",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm",children:"Invest"})]}),E.jsxs("li",{className:"flex justify-between items-center mt-3",children:[E.jsxs("div",{children:[E.jsx("p",{className:"font-medium",children:"Electric Vehicle Technology"}),E.jsx("p",{className:"text-sm text-gray-600",children:"Growing market with strong environmental potential"})]}),E.jsx("button",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm",children:"Invest"})]})]})]})]});return E.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[t==="home"&&E.jsx(n,{}),t==="insights"&&E.jsx(r,{}),t==="investments"&&E.jsx(i,{}),E.jsxs("div",{className:"bg-white border-t flex justify-around py-3 shadow-t",children:[E.jsxs("button",{onClick:()=>e("home"),className:`flex flex-col items-center ${t==="home"?"text-green-600":"text-gray-500"}`,children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),E.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),E.jsxs("button",{onClick:()=>e("insights"),className:`flex flex-col items-center ${t==="insights"?"text-green-600":"text-gray-500"}`,children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2            2 0 012-2h2a2 2 0 012 2v6m4 0v-8a2 2 0 00-2-2h-2a2 2 0 00-2 2v8m-4 0v-4a2 2 0 012-2h2a2 2 0 012 2v4"})}),E.jsx("span",{className:"text-xs mt-1",children:"Insights"})]}),E.jsxs("button",{onClick:()=>e("investments"),className:`flex flex-col items-center ${t==="investments"?"text-green-600":"text-gray-500"}`,children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 11V6a4 4 0 014-4h0a4 4 0 014 4v5m-9 0h10m-5 5v3m0 0l3-3m-3 3l-3-3"})}),E.jsx("span",{className:"text-xs mt-1",children:"Investments"})]})]})]})},ZSe="/assets/profile-COXsbG3P.jpg",JSe="/assets/essex_logo-CSruAvrq.png",QSe="/assets/exeter_logo-BQm75V2F.png",ewe=()=>E.jsxs("div",{className:"container",children:[E.jsx("div",{className:"header",children:"Hello There!"}),E.jsx("div",{className:"image-container",children:E.jsx("img",{src:ZSe,alt:"Photo of Magnus"})}),E.jsxs("div",{className:"description",children:[E.jsx("div",{className:"description-header",children:"Empowering Change through Technology and Innovation"}),E.jsx("p",{children:"Hi, I'm Magnus. a recent graduate in Computer System Engineering, and am currently pursuing a degree in International Business at the University of Exeter. I am interested in using artificial intelligence to address environmental issues and possess strong skills in machine learning, analytics, and ethical AI. I have practical experience applying artificial intelligence to solve practical problems, with the purpose of making innovative positive changes and impacts."}),E.jsxs("div",{className:"education-section",children:[E.jsx("div",{className:"section-bar"}),E.jsx("div",{className:"education-header",children:"Education"}),E.jsxs("div",{className:"university-container",children:[E.jsxs("div",{className:"university-item",children:[E.jsx("img",{src:JSe,alt:"University of Essex Badge",className:"university-badge"}),E.jsxs("div",{className:"degree-info",children:[E.jsx("span",{className:"highlight",children:"BSEng Computer Systems Engineering"}),E.jsx("br",{}),E.jsx("span",{className:"degree-date",children:"Graduated: July 2023"})]})]}),E.jsxs("div",{className:"university-item",children:[E.jsx("img",{src:QSe,alt:"University of Exeter Badge",className:"university-badge"}),E.jsxs("div",{className:"degree-info",children:[E.jsx("span",{className:"highlight",children:"MSc International Business"}),E.jsx("br",{}),E.jsx("span",{className:"degree-date",children:"Expected: July 2026"})]})]})]})]}),E.jsxs("div",{className:"stats",children:[E.jsxs("div",{className:"stat",children:[E.jsx("div",{className:"stat-number",children:"5"}),E.jsx("span",{className:"subtext",children:"Years of Coding"})]}),E.jsxs("div",{className:"stat",children:[E.jsx("div",{className:"stat-number",children:"56+"}),E.jsx("span",{className:"subtext",children:"Number of Projects"})]}),E.jsxs("div",{className:"stat",children:[E.jsx("div",{className:"stat-number",children:"50+"}),E.jsx("span",{className:"subtext",children:"Data Sets Analysed"})]})]}),E.jsxs("div",{className:"certification-section",children:[E.jsx("div",{className:"section-bar"}),E.jsx("div",{className:"certification-header",children:"Certifications"}),E.jsxs("div",{className:"certification-container",children:[E.jsxs("div",{className:"certification-item",children:[E.jsx("span",{className:"highlight",children:"IBM - Exploratory Data Analysis for Machine Learning"}),E.jsx("br",{}),E.jsx("span",{className:"certification-date",children:"Issued: June 2023"})]}),E.jsxs("div",{className:"certification-item",children:[E.jsx("span",{className:"highlight",children:"Data Science Professional Certificate"}),E.jsx("br",{}),E.jsx("span",{className:"certification-date",children:"Issued: August 2022"})]}),E.jsxs("div",{className:"certification-item",children:[E.jsx("span",{className:"highlight",children:"Sustainable Development in AI"}),E.jsx("br",{}),E.jsx("span",{className:"certification-date",children:"Issued: January 2024"})]})]})]}),E.jsxs("div",{className:"skills-section",children:[E.jsx("div",{className:"section-bar"}),E.jsx("div",{className:"skills-header",children:"Skills"}),E.jsx("div",{className:"skills-column",children:E.jsxs("ul",{children:[E.jsxs("li",{children:[E.jsx("span",{className:"highlight",children:"Technical Proficiency:"})," Python, R, TensorFlow, PyTorch, Scikit-Learn, SQL, Data Visualization (Tableau, Matplotlib), Machine Learning, Deep Learning, Data Analysis"]}),E.jsxs("li",{children:[E.jsx("span",{className:"highlight",children:"Core Competencies:"})," Project Leadership, Creative Problem-Solving, Team Collaboration, Strategic Planning"]})]})})]}),E.jsxs("div",{className:"vision-section",children:[E.jsx("div",{className:"section-bar"}),E.jsx("div",{className:"vision-header",children:"Vision"}),E.jsxs("div",{className:"vision-columns",children:[E.jsxs("div",{className:"vision-column",children:["For our impact",E.jsx("br",{}),E.jsx("br",{}),"Aenean lacinia bibendum nulla sed consectetur."]}),E.jsxs("div",{className:"vision-column",children:["For our impact",E.jsx("br",{}),E.jsx("br",{}),"Integer posuere erat a ante venenatis dapibus posuere velit aliquet."]}),E.jsxs("div",{className:"vision-column",children:["For our impact",E.jsx("br",{}),E.jsx("br",{}),"Praesent commodo cursus magna, vel scelerisque nisl consectetur."]})]})]}),E.jsxs("section",{className:"language-section",children:[E.jsx("div",{className:"section-bar"}),E.jsx("div",{className:"language-header",children:"Languages"}),E.jsx("div",{className:"language-container",children:E.jsx("p",{children:"I’m a bit of a language enthusiast! I speak English fluently, thanks to living in the UK where I'm currently based. I also speak Italian since I was born and raised in Italy, which always feels like home. Recently, I started learning Spanish for fun, and I’m enjoying every bit of the journey!"})})]})]})]}),twe="/assets/Sustainability-927GFjv5.jpg",nwe="/assets/Artificial_Intelligence-DWVI7CpR.jpg",rwe=()=>E.jsxs("div",{className:"container mx-auto max-w-[648px] px-4 py-[157px] flex flex-col justify-center items-center min-h-screen gap-8",children:[E.jsx("div",{className:"text-5xl font-light mb-8",children:"Thoughts"}),E.jsxs("div",{className:`bg-[#111] rounded-lg overflow-hidden shadow-md border-2 border-[rgb(26,26,26)] 
        transition-all duration-300 ease-out 
        will-change-transform 
        hover:scale-[1.02] 
        active:scale-[1.02] 
        perspective-1000 
        transform-gpu`,children:[E.jsx("img",{src:twe,alt:"iPad Design Process",className:"w-full h-[220px] object-cover"}),E.jsxs("div",{className:"p-4",children:[E.jsx("h2",{className:"text-base font-semibold text-[#f0f0f0] my-2",children:"How can we tackle Environment Issues"}),E.jsx("p",{className:"text-sm text-[#a0a0a0]",children:"Process - 24/10/2022"})]})]}),E.jsxs("div",{className:`bg-[#111] rounded-lg overflow-hidden shadow-md border-2 border-[rgb(26,26,26)] 
        transition-all duration-300 ease-out 
        will-change-transform 
        hover:scale-[1.02] 
        active:scale-[1.02] 
        perspective-1000 
        transform-gpu`,children:[E.jsx("img",{src:nwe,alt:"Sketch Plugins",className:"w-full h-[220px] object-cover"}),E.jsxs("div",{className:"p-4",children:[E.jsx("h2",{className:"text-base font-semibold text-[#f0f0f0] my-2",children:"The role of AI in Sustainability"}),E.jsx("p",{className:"text-sm text-[#a0a0a0]",children:"Tools - 12/09/2022"})]})]})]}),iwe=[{title:"EcoLens",tag:"ECOSYSTEM",link:"/ecolens"}],owe=()=>{const t=oh();return C.useEffect(()=>{document.getElementById("gradient-canvas")&&new $D().initGradient("#gradient-canvas")},[t]),E.jsxs(E.Fragment,{children:[E.jsx(h4,{}),E.jsx(Vz,{})]})},awe=()=>{C.useEffect(()=>{const e=document.createElement("link");e.rel="preconnect",e.href="https://fonts.googleapis.com",document.head.appendChild(e);const n=document.createElement("link");n.rel="preconnect",n.href="https://fonts.gstatic.com",n.crossOrigin="true",document.head.appendChild(n);const r=document.createElement("link");return r.href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap",r.rel="stylesheet",document.head.appendChild(r),()=>{document.head.removeChild(e),document.head.removeChild(n),document.head.removeChild(r)}},[]),C.useEffect(()=>document.getElementById("gradient-canvas")?(new $D().initGradient("#gradient-canvas"),()=>{console.log("Cleaning up gradient instance")}):void 0,[location]);const t=Jz(vb(E.jsxs(Gi,{path:"/",element:E.jsx(owe,{}),children:[E.jsx(Gi,{index:!0,element:E.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center text-white",children:[E.jsxs("div",{className:"text-center mb-16",children:[E.jsx("p",{className:"text-md mb-2",style:{color:"#9a9a9a"},children:"Hi, I am Magnus"}),E.jsx("h1",{className:"text-xl font-semibold py-6 gradient-text",children:"DATA SCIENTIST"}),E.jsx("h1",{className:"text-6xl font-bold py-6 mb-8",children:"Explore some of my projects"})]}),E.jsxs("div",{className:"relative w-full h-72",children:[E.jsx("canvas",{id:"gradient-canvas","data-transition-in":!0,className:"absolute top-0 left-0 w-full h-full",style:{"--gradient-color-1":"#a8e6cf","--gradient-color-2":"#0aa20a","--gradient-color-3":"#0db27e","--gradient-color-4":"#c3e4ff"}}),E.jsx("div",{className:"card-container flex space-x-4 relative z-10 -mt-4 px-4 py-2",children:iwe.map((e,n)=>E.jsx(p4,{...e},n))})]})]})}),E.jsx(Gi,{path:"/ecolens",element:E.jsx(c9,{})}),E.jsx(Gi,{path:"/ecoinvest",element:E.jsx(V0e,{})}),E.jsx(Gi,{path:"/netzero",element:E.jsx(qSe,{})}),E.jsx(Gi,{path:"/verdeon",element:E.jsx(YSe,{})}),E.jsx(Gi,{path:"/greenledger",element:E.jsx(KSe,{})}),E.jsx(Gi,{path:"/about",element:E.jsx(ewe,{})}),E.jsx(Gi,{path:"/blog",element:E.jsx(rwe,{})})]})),{future:{v7_startTransition:!0,v7_relativeSplatPath:!0,v7_fetcherPersist:!0,v7_normalizeFormMethod:!0,v7_partialHydration:!0,v7_skipActionErrorRevalidation:!0}});return E.jsx(s4,{router:t})};MD(document.getElementById("root")).render(E.jsx(C.StrictMode,{children:E.jsx(awe,{})}));
